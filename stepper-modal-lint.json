[{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\StepperCard.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'number' is defined but never used.","line":37,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":26,"suggestions":[{"messageId":"removeVar","data":{"varName":"number"},"fix":{"range":[1153,1159],"text":""},"desc":"Remove unused variable 'number'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nStepperCard.svelte - Card with large touch-friendly increment/decrement zones\nAutomatically switches between portrait and landscape layouts based on card aspect ratio\nPortrait: Top half increments, bottom half decrements (vertical layout)\nLandscape: Left half decrements, right half increments (horizontal layout)\n-->\n<script lang=\"ts\">\n  import type { IHapticFeedbackService, IRippleEffectService } from \"$shared\";\n  import { resolve, TYPES } from \"$shared\";\n  import { onMount } from \"svelte\";\n  import LandscapeLayout from \"./StepperLandscapeLayout.svelte\";\n  import PortraitLayout from \"./StepperPortraitLayout.svelte\";\n\n  let {\n    title,\n    currentValue,\n    minValue,\n    maxValue,\n    onIncrement,\n    onDecrement,\n    formatValue = (val: number) => val.toString(),\n    subtitle = \"\",\n    description = \"\",\n    color = \"#3b82f6\",\n    shadowColor = \"0deg 0% 0%\",\n    textColor = \"white\",\n    gridColumnSpan = 2,\n    cardIndex = 0,\n    headerFontSize = \"9px\",\n  } = $props<{\n    title: string;\n    currentValue: number;\n    minValue: number;\n    maxValue: number;\n    onIncrement: () => void;\n    onDecrement: () => void;\n    formatValue?: (number) => string;\n    subtitle?: string;\n    description?: string;\n    color?: string;\n    shadowColor?: string;\n    textColor?: string;\n    gridColumnSpan?: number;\n    cardIndex?: number;\n    headerFontSize?: string;\n  }>();\n\n  let hapticService: IHapticFeedbackService;\n  let rippleService: IRippleEffectService;\n  let cardElement: HTMLDivElement | null = $state(null);\n  let previousColor = $state(color);\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n    rippleService = resolve<IRippleEffectService>(TYPES.IRippleEffectService);\n    previousColor = color; // Initialize on mount\n\n    // Attach ripple effect\n    if (cardElement) {\n      return rippleService.attachRipple(cardElement, {\n        color: \"rgba(255, 255, 255, 0.4)\",\n        duration: 600,\n        opacity: 0.5,\n      });\n    }\n\n    return undefined;\n  });\n\n  // Gradient crossfade animation when color changes\n  $effect(() => {\n    if (color !== previousColor && cardElement) {\n      // Trigger crossfade animation\n      cardElement.classList.add(\"transitioning\");\n\n      // After transition completes, update previousColor and reset\n      setTimeout(() => {\n        if (cardElement) {\n          cardElement.classList.remove(\"transitioning\");\n        }\n        previousColor = color;\n      }, 800); // Match CSS transition duration\n    }\n  });\n\n  function handleIncrement() {\n    if (currentValue < maxValue) {\n      hapticService?.trigger(\"selection\");\n      onIncrement();\n    }\n  }\n\n  function handleDecrement() {\n    if (currentValue > minValue) {\n      hapticService?.trigger(\"selection\");\n      onDecrement();\n    }\n  }\n\n  function handleKeydown(\n    event: KeyboardEvent,\n    action: \"increment\" | \"decrement\"\n  ) {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault();\n      action === \"increment\" ? handleIncrement() : handleDecrement();\n    }\n  }\n\n  const canIncrement = $derived(currentValue < maxValue);\n  const canDecrement = $derived(currentValue > minValue);\n  const displayValue = $derived(formatValue(currentValue));\n</script>\n\n<div\n  bind:this={cardElement}\n  class=\"stepper-card\"\n  style=\"--card-color: {color}; --prev-color: {previousColor}; --shadow-color: {shadowColor}; --text-color: {textColor}; --card-index: {cardIndex}; --header-font-size: {headerFontSize}; grid-column: span {gridColumnSpan};\"\n  role=\"group\"\n  aria-label={title}\n>\n  <!-- Portrait Mode: Shown by default, hidden in landscape via container query -->\n  <div class=\"portrait-only\">\n    <PortraitLayout\n      {title}\n      {displayValue}\n      {subtitle}\n      {description}\n      {canIncrement}\n      {canDecrement}\n      {handleIncrement}\n      {handleDecrement}\n      {handleKeydown}\n      {headerFontSize}\n    />\n  </div>\n\n  <!-- Landscape Mode: Hidden by default, shown in landscape via container query -->\n  <div class=\"landscape-only\">\n    <LandscapeLayout\n      {title}\n      {displayValue}\n      {subtitle}\n      {description}\n      {canIncrement}\n      {canDecrement}\n      {handleIncrement}\n      {handleDecrement}\n      {handleKeydown}\n      {headerFontSize}\n    />\n  </div>\n</div>\n\n<style>\n  .stepper-card {\n    /* Enable container queries to detect card aspect ratio */\n    container-type: size;\n    container-name: stepper-card;\n\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n\n    height: 100%;\n    min-height: 0;\n    min-width: 0;\n\n    /* Responsive padding - reduced minimums for small screens like iPhone SE */\n    padding: clamp(3px, 1cqh, 12px) clamp(3px, 1.5cqw, 8px);\n\n    /* Modern border-radius matching BaseCard */\n    border-radius: 16px;\n    background: var(--card-color);\n    border: none;\n\n    /* Layered shadows matching BaseCard + inner highlight for 3D depth */\n    box-shadow:\n      0 1px 2px hsl(var(--shadow-color) / 0.15),\n      0 2px 4px hsl(var(--shadow-color) / 0.12),\n      0 4px 8px hsl(var(--shadow-color) / 0.1),\n      /* Inner highlight for 3D effect */ inset 0 1px 0 rgba(255, 255, 255, 0.2);\n\n    /* Remove background transition - handled by ::before crossfade */\n    transition:\n      box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n      transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    overflow: visible; /* Allow hover effects to overflow and pop over neighbors */\n    color: white;\n    text-align: center;\n\n    /* ðŸŽ¬ ANIMATION - Clean fade in on load (400ms - 2025 standard) */\n    animation: cardEnter 0.4s ease-out;\n  }\n\n  /* Gradient crossfade: ::before shows OLD gradient, background shows NEW gradient */\n  .stepper-card::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: var(--prev-color, var(--card-color)); /* Previous gradient */\n    border-radius: 16px;\n    opacity: 1; /* Start visible */\n    z-index: -1;\n    pointer-events: none;\n    transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  /* Trigger crossfade: fade out old gradient to reveal new */\n  :global(.stepper-card.transitioning)::before {\n    opacity: 0;\n  }\n\n  /* ðŸŒŸ GLOSSY SHEEN OVERLAY - Creates 3D glass effect */\n  .stepper-card::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60%; /* Cover top 60% */\n    background: linear-gradient(\n      180deg,\n      rgba(255, 255, 255, 0.3) 0%,\n      rgba(255, 255, 255, 0.15) 40%,\n      rgba(255, 255, 255, 0.05) 70%,\n      rgba(255, 255, 255, 0) 100%\n    );\n    border-radius: 16px 16px 0 0;\n    pointer-events: none;\n    z-index: 1; /* Above background, below content */\n  }\n\n  /* ðŸ–±ï¸ DESKTOP HOVER - Only on hover-capable devices (prevents mobile stuck hover) */\n  @media (hover: hover) {\n    .stepper-card:hover {\n      transform: scale(1.02);\n      filter: brightness(1.05);\n      box-shadow:\n        0 2px 4px hsl(var(--shadow-color) / 0.12),\n        0 4px 8px hsl(var(--shadow-color) / 0.1),\n        0 8px 16px hsl(var(--shadow-color) / 0.08),\n        0 16px 24px hsl(var(--shadow-color) / 0.06),\n        inset 0 1px 0 rgba(255, 255, 255, 0.2);\n    }\n  }\n\n  /* ðŸŽ¯ ELASTIC PRESS - Universal click/tap feedback for ALL devices */\n  .stepper-card:active {\n    transform: scale(0.97);\n    transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  /* ðŸŽ¬ Card entrance animation - clean fade in */\n  @keyframes cardEnter {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  .stepper-card:focus-within {\n    outline-offset: 3px;\n  }\n\n  /* Show/hide layouts based on aspect ratio */\n  .portrait-only,\n  .landscape-only {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Default: Show portrait layout */\n  .portrait-only {\n    display: flex !important;\n  }\n\n  .landscape-only {\n    display: none !important;\n  }\n\n  /* Container query: Switch to landscape layout when card is wider */\n  /* Trigger at aspect-ratio >9/10 (~1:1.2) - makes it willing to use side-by-side earlier */\n  @container stepper-card (min-aspect-ratio: 9/10) {\n    /* Hide portrait layout, show landscape layout */\n    .portrait-only {\n      display: none !important;\n    }\n\n    .landscape-only {\n      display: flex !important;\n    }\n  }\n\n  /* Desktop optimization: Trigger landscape layout earlier for better space usage */\n  @media (min-width: 1280px) {\n    @container stepper-card (min-aspect-ratio: 3/4) {\n      .portrait-only {\n        display: none !important;\n      }\n\n      .landscape-only {\n        display: flex !important;\n      }\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\StepperLandscapeLayout.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'event' is defined but never used.","line":33,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"event"},"fix":{"range":[948,969],"text":""},"desc":"Remove unused variable 'event'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'action' is defined but never used.","line":34,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"action"},"fix":{"range":[968,1009],"text":""},"desc":"Remove unused variable 'action'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nLandscapeLayout.svelte - Landscape/horizontal stepper layout\nLeft half decrements, right half increments (horizontal layout)\nUsed when card aspect ratio is wide/landscape\n-->\n<script lang=\"ts\">\n  import CardHeader from \"../shared/CardHeader.svelte\";\n  import LandscapeTouchZone from \"./components/LandscapeTouchZone.svelte\";\n  import LandscapeStepperValue from \"./components/LandscapeStepperValue.svelte\";\n  import LandscapeCardFooter from \"./components/LandscapeCardFooter.svelte\";\n\n  let {\n    title,\n    displayValue,\n    subtitle = \"\",\n    description = \"\",\n    canIncrement,\n    canDecrement,\n    handleIncrement,\n    handleDecrement,\n    handleKeydown,\n    headerFontSize = \"9px\",\n  } = $props<{\n    title: string;\n    displayValue: string;\n    subtitle?: string;\n    description?: string;\n    canIncrement: boolean;\n    canDecrement: boolean;\n    handleIncrement: () => void;\n    handleDecrement: () => void;\n    handleKeydown: (\n      event: KeyboardEvent,\n      action: \"increment\" | \"decrement\"\n    ) => void;\n    headerFontSize?: string;\n  }>();\n</script>\n\n<!-- Landscape Mode: Touch Zones -->\n<LandscapeTouchZone\n  type=\"decrement\"\n  disabled={!canDecrement}\n  onclick={handleDecrement}\n  onkeydown={(e) => handleKeydown(e, \"decrement\")}\n  {title}\n/>\n\n<LandscapeTouchZone\n  type=\"increment\"\n  disabled={!canIncrement}\n  onclick={handleIncrement}\n  onkeydown={(e) => handleKeydown(e, \"increment\")}\n  {title}\n/>\n\n<!-- Landscape Mode: Centered Value Display -->\n<LandscapeStepperValue {displayValue} />\n\n<!-- Landscape Mode: Content Layer -->\n<div class=\"content-layer\">\n  <CardHeader {title} {headerFontSize} />\n  <LandscapeCardFooter {subtitle} {description} />\n</div>\n\n<style>\n  /* Content layer - sits above touch zones */\n  .content-layer {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n    pointer-events: none;\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\StepperPortraitLayout.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'event' is defined but never used.","line":34,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"event"},"fix":{"range":[977,998],"text":""},"desc":"Remove unused variable 'event'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'action' is defined but never used.","line":35,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"action"},"fix":{"range":[997,1038],"text":""},"desc":"Remove unused variable 'action'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nPortraitLayout.svelte - Portrait/vertical stepper layout\nTop half increments, bottom half decrements (vertical layout)\nUsed when card aspect ratio is tall/portrait\n-->\n<script lang=\"ts\">\n  import CardHeader from \"../shared/CardHeader.svelte\";\n  import PortraitTouchZone from \"./components/PortraitTouchZone.svelte\";\n  import StepperButtonVisual from \"../shared/StepperButtonVisual.svelte\";\n  import StepperValue from \"./components/StepperValue.svelte\";\n  import CardFooter from \"./components/CardFooter.svelte\";\n\n  let {\n    title,\n    displayValue,\n    subtitle = \"\",\n    description = \"\",\n    canIncrement,\n    canDecrement,\n    handleIncrement,\n    handleDecrement,\n    handleKeydown,\n    headerFontSize = \"9px\",\n  } = $props<{\n    title: string;\n    displayValue: string;\n    subtitle?: string;\n    description?: string;\n    canIncrement: boolean;\n    canDecrement: boolean;\n    handleIncrement: () => void;\n    handleDecrement: () => void;\n    handleKeydown: (\n      event: KeyboardEvent,\n      action: \"increment\" | \"decrement\"\n    ) => void;\n    headerFontSize?: string;\n  }>();\n</script>\n\n<div class=\"vertical-stepper\">\n  <!-- Portrait touch zones - top/bottom halves -->\n  <PortraitTouchZone\n    type=\"increment\"\n    {title}\n    disabled={!canIncrement}\n    onclick={handleIncrement}\n    onkeydown={(e) => handleKeydown(e, \"increment\")}\n  />\n\n  <PortraitTouchZone\n    type=\"decrement\"\n    {title}\n    disabled={!canDecrement}\n    onclick={handleDecrement}\n    onkeydown={(e) => handleKeydown(e, \"decrement\")}\n  />\n\n  <CardHeader {title} {headerFontSize} />\n\n  <div class=\"stepper-controls\">\n    <StepperButtonVisual type=\"increment\" />\n    <StepperValue {displayValue} />\n    <StepperButtonVisual type=\"decrement\" />\n  </div>\n\n  <CardFooter {subtitle} {description} />\n</div>\n\n<style>\n  /* PORTRAIT MODE: Vertical Stepper Layout */\n  .vertical-stepper {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n  }\n\n  /* Portrait mode: Stepper controls - absolutely centered */\n  .stepper-controls {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: clamp(4px, 1cqh, 6px);\n    width: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    pointer-events: none;\n  }\n\n  /* Visual feedback when parent touch zone is interacted with */\n  :global(\n    .portrait-increment-zone:hover:not(:disabled)\n      ~ .stepper-controls\n      .increment-visual\n  ),\n  :global(\n    .portrait-decrement-zone:hover:not(:disabled)\n      ~ .stepper-controls\n      .decrement-visual\n  ) {\n    background: color-mix(in srgb, var(--text-color) 25%, transparent);\n    border-color: color-mix(in srgb, var(--text-color) 50%, transparent);\n    transform: scale(1.05);\n  }\n\n  :global(\n    .portrait-increment-zone:active:not(:disabled)\n      ~ .stepper-controls\n      .increment-visual\n  ),\n  :global(\n    .portrait-decrement-zone:active:not(:disabled)\n      ~ .stepper-controls\n      .decrement-visual\n  ) {\n    background: color-mix(in srgb, var(--text-color) 35%, transparent);\n    transform: scale(0.95);\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\CardFooter.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\LandscapeCardFooter.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\LandscapeStepperValue.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\LandscapeTouchZone.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'event' is defined but never used.","line":10,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":37,"suggestions":[{"messageId":"removeVar","data":{"varName":"event"},"fix":{"range":[308,328],"text":""},"desc":"Remove unused variable 'event'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nLandscapeTouchZone.svelte - Horizontal touch zone for landscape stepper\nLeft side decrements, right side increments\n-->\n<script lang=\"ts\">\n  let { type, disabled, onclick, onkeydown, title } = $props<{\n    type: \"increment\" | \"decrement\";\n    disabled: boolean;\n    onclick: () => void;\n    onkeydown: (event: KeyboardEvent) => void;\n    title: string;\n  }>();\n\n  const ariaLabel =\n    type === \"increment\" ? `Increase ${title}` : `Decrease ${title}`;\n</script>\n\n<button\n  class=\"touch-zone {type}-zone\"\n  {onclick}\n  {onkeydown}\n  {disabled}\n  aria-label={ariaLabel}\n>\n  <div class=\"zone-icon\">\n    <svg\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      stroke-width=\"3\"\n      stroke-linecap=\"round\"\n    >\n      {#if type === \"decrement\"}\n        <path d=\"M5 12h14\" />\n      {:else}\n        <path d=\"M12 5v14M5 12h14\" />\n      {/if}\n    </svg>\n  </div>\n</button>\n\n<style>\n  .touch-zone {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 50%;\n\n    display: flex;\n    align-items: center;\n\n    background: transparent;\n    border: none;\n    color: color-mix(in srgb, var(--text-color) 40%, transparent);\n\n    cursor: pointer;\n    transition:\n      color 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n      background 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n\n    user-select: none;\n    -webkit-user-select: none;\n\n    z-index: 1;\n  }\n\n  .decrement-zone {\n    left: 0;\n    justify-content: center;\n    padding-right: clamp(14px, 4cqw, 32px);\n    padding-left: clamp(2px, 0.5cqw, 4px);\n  }\n\n  .increment-zone {\n    right: 0;\n    justify-content: center;\n    padding-left: clamp(14px, 4cqw, 32px);\n    padding-right: clamp(2px, 0.5cqw, 4px);\n  }\n\n  .touch-zone:hover:not(:disabled) {\n    background: color-mix(in srgb, var(--text-color) 15%, transparent);\n    color: color-mix(in srgb, var(--text-color) 80%, transparent);\n  }\n\n  .touch-zone:active:not(:disabled) {\n    background: color-mix(in srgb, var(--text-color) 25%, transparent);\n    color: var(--text-color);\n  }\n\n  .touch-zone:disabled {\n    opacity: 0.2;\n    cursor: not-allowed;\n  }\n\n  .touch-zone:focus-visible {\n    outline: 2px solid color-mix(in srgb, var(--text-color) 70%, transparent);\n    outline-offset: -2px;\n    transition: outline-color 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .zone-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: clamp(28px, 6cqh, 40px);\n    height: clamp(28px, 6cqh, 40px);\n    flex-shrink: 0;\n\n    background: color-mix(in srgb, var(--text-color) 15%, transparent);\n    border: 2px solid color-mix(in srgb, var(--text-color) 30%, transparent);\n    border-radius: 50%;\n    color: var(--text-color);\n\n    transition:\n      color 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n      background 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n      border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n      transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    pointer-events: none;\n  }\n\n  .zone-icon svg {\n    width: 60%;\n    height: 60%;\n  }\n\n  .touch-zone:hover:not(:disabled) .zone-icon {\n    background: color-mix(in srgb, var(--text-color) 25%, transparent);\n    border-color: color-mix(in srgb, var(--text-color) 50%, transparent);\n    transform: scale(1.05);\n  }\n\n  .touch-zone:active:not(:disabled) .zone-icon {\n    background: color-mix(in srgb, var(--text-color) 35%, transparent);\n    transform: scale(0.95);\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\PortraitTouchZone.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":11,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"e"},"fix":{"range":[342,358],"text":""},"desc":"Remove unused variable 'e'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nPortraitTouchZone.svelte - Invisible touch zone for portrait stepper\nCovers top or bottom half of the card for increment/decrement\n-->\n<script lang=\"ts\">\n  let { type, title, disabled, onclick, onkeydown } = $props<{\n    type: \"increment\" | \"decrement\";\n    title: string;\n    disabled: boolean;\n    onclick: () => void;\n    onkeydown: (e: KeyboardEvent) => void;\n  }>();\n\n  const ariaLabel =\n    type === \"increment\" ? `Increase ${title}` : `Decrease ${title}`;\n</script>\n\n<button\n  class=\"portrait-touch-zone {type === 'increment'\n    ? 'portrait-increment-zone'\n    : 'portrait-decrement-zone'}\"\n  {onclick}\n  {onkeydown}\n  {disabled}\n  aria-label={ariaLabel}\n></button>\n\n<style>\n  /* Portrait mode: Touch zones - invisible overlay for top/bottom halves */\n  .portrait-touch-zone {\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 50%;\n    z-index: 1;\n\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    transition:\n      background 0.2s cubic-bezier(0.4, 0, 0.2, 1),\n      outline-color 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n\n    user-select: none;\n    -webkit-user-select: none;\n  }\n\n  .portrait-increment-zone {\n    top: 0;\n  }\n\n  .portrait-decrement-zone {\n    bottom: 0;\n  }\n\n  .portrait-touch-zone:hover:not(:disabled) {\n    background: color-mix(in srgb, var(--text-color) 8%, transparent);\n  }\n\n  .portrait-touch-zone:active:not(:disabled) {\n    background: color-mix(in srgb, var(--text-color) 15%, transparent);\n  }\n\n  .portrait-touch-zone:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n  }\n\n  .portrait-touch-zone:focus-visible {\n    outline: 2px solid color-mix(in srgb, var(--text-color) 70%, transparent);\n    outline-offset: -2px;\n    transition: outline-color 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\cards\\StepperCard\\components\\StepperValue.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\CAPComponentButton.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\CAPComponentGrid.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'component' is defined but never used.","line":19,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":48,"suggestions":[{"messageId":"removeVar","data":{"varName":"component"},"fix":{"range":[553,576],"text":""},"desc":"Remove unused variable 'component'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nCAPComponentGrid.svelte - Grid layout for CAP component selection buttons\nDisplays all available CAP transformations in a responsive 2x2 grid\n-->\n<script lang=\"ts\">\n  import {\n    CAP_COMPONENTS,\n    CAPComponent,\n  } from \"$create/generate/shared/domain/constants/cap-components\";\n  import CAPComponentButton from \"./CAPComponentButton.svelte\";\n\n  let {\n    selectedComponents,\n    isMultiSelectMode = false,\n    onToggleComponent,\n  } = $props<{\n    selectedComponents: Set<CAPComponent>;\n    isMultiSelectMode?: boolean;\n    onToggleComponent: (component: CAPComponent) => void;\n  }>();\n</script>\n\n<div class=\"cap-component-grid\">\n  {#each CAP_COMPONENTS as componentInfo}\n    <CAPComponentButton\n      {componentInfo}\n      {isMultiSelectMode}\n      isSelected={selectedComponents.has(componentInfo.component)}\n      onClick={() => onToggleComponent(componentInfo.component)}\n    />\n  {/each}\n</div>\n\n<style>\n  .cap-component-grid {\n    display: grid;\n    width: 100%;\n    max-width: 600px; /* Prevent buttons from getting too wide */\n    margin: 0 auto;\n    gap: 12px;\n    flex-shrink: 0;\n\n    /* 2x2 grid layout with constrained button size */\n    grid-template-columns: repeat(2, minmax(120px, 180px));\n    grid-auto-rows: minmax(\n      120px,\n      160px\n    ); /* Buttons stay within reasonable size */\n    justify-content: center;\n  }\n\n  /* Wider screens: Allow slightly larger buttons */\n  @container cap-modal (min-width: 500px) {\n    .cap-component-grid {\n      gap: 16px;\n      grid-template-columns: repeat(2, minmax(140px, 200px));\n      grid-auto-rows: minmax(140px, 180px);\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\CAPExplanationPanel.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\CAPModalHeader.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\CAPSelectionPanel.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'component' is defined but never used.","line":22,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":50,"suggestions":[{"messageId":"removeVar","data":{"varName":"component"},"fix":{"range":[883,906],"text":""},"desc":"Remove unused variable 'component'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nCAPSelectionModal.svelte - Bottom sheet for selecting CAP components\nRefactored to use Drawer component for consistent behavior\n-->\n<script lang=\"ts\">\n  import type { IHapticFeedbackService } from \"$shared\";\n  import { resolve, TYPES, Drawer, SheetDragHandle } from \"$shared\";\n  import { tryGetCreateModuleContext } from \"../../../shared/context\";\n  import { onMount } from \"svelte\";\n  import {\n    CAPComponent,\n    generateExplanationText,\n  } from \"$create/generate/shared/domain/constants/cap-components\";\n  import CAPComponentGrid from \"./CAPComponentGrid.svelte\";\n  import CAPExplanationPanel from \"./CAPExplanationPanel.svelte\";\n  import CAPModalHeader from \"./CAPModalHeader.svelte\";\n\n  let { isOpen, selectedComponents, onToggleComponent, onConfirm, onClose } =\n    $props<{\n      isOpen: boolean;\n      selectedComponents: Set<CAPComponent>;\n      onToggleComponent: (component: CAPComponent) => void;\n      onConfirm: () => void;\n      onClose: () => void;\n    }>();\n\n  let hapticService: IHapticFeedbackService;\n  let capTypeService: any;\n  let isMultiSelectMode = $state(false);\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n    capTypeService = resolve(TYPES.ICAPTypeService);\n  });\n\n  // Generate explanation text based on selected components\n  const explanationText = $derived(generateExplanationText(selectedComponents));\n\n  // Check if the current combination is implemented\n  const isImplemented = $derived.by(() => {\n    if (!capTypeService || selectionCount === 0) return true;\n    return capTypeService.isImplemented(selectedComponents);\n  });\n\n  // Derive selection count and adaptive button text\n  const selectionCount = $derived(selectedComponents.size);\n  const buttonText = $derived.by(() => {\n    if (!isMultiSelectMode) {\n      return \"Click a CAP Type\";\n    }\n    if (selectionCount === 0) return \"Select a CAP Type\";\n    if (!isImplemented) return \"Coming Soon!\";\n    if (selectionCount === 1) {\n      const component = Array.from(selectedComponents)[0] as CAPComponent;\n      const formatted = component.charAt(0) + component.slice(1).toLowerCase();\n      return `Apply ${formatted}`;\n    }\n    return `Apply ${selectionCount} Components`;\n  });\n  const isButtonDisabled = $derived(!isMultiSelectMode || selectionCount === 0);\n\n  function handleToggle(component: CAPComponent) {\n    hapticService?.trigger(\"selection\");\n\n    // Single-select mode: Apply immediately if clicking an unselected component\n    if (!isMultiSelectMode) {\n      // Clear any existing selection first\n      for (const existing of selectedComponents) {\n        onToggleComponent(existing);\n      }\n\n      // Select the new component\n      if (!selectedComponents.has(component)) {\n        onToggleComponent(component);\n      }\n\n      // Apply immediately and close\n      onConfirm();\n      return;\n    }\n\n    // Multi-select mode: Toggle selection\n    onToggleComponent(component);\n  }\n\n  function handleConfirm() {\n    if (selectionCount === 0) return; // Prevent confirming with no selection\n    hapticService?.trigger(\"selection\");\n    onConfirm();\n  }\n\n  function handleClose() {\n    onClose();\n  }\n\n  function handleToggleMultiSelect() {\n    hapticService?.trigger(\"selection\");\n    isMultiSelectMode = !isMultiSelectMode;\n  }\n\n  const createModuleContext = tryGetCreateModuleContext();\n  const isSideBySideLayout = $derived(\n    createModuleContext\n      ? createModuleContext.layout.shouldUseSideBySideLayout\n      : false\n  );\n  const drawerPlacement = $derived(isSideBySideLayout ? \"right\" : \"bottom\");\n</script>\n\n<Drawer\n  {isOpen}\n  onOpenChange={(open) => !open && handleClose()}\n  labelledBy=\"cap-title\"\n  closeOnBackdrop={true}\n  showHandle={false}\n  respectLayoutMode={true}\n  placement={drawerPlacement}\n  class=\"cap-selection-sheet\"\n  backdropClass=\"cap-selection-backdrop\"\n>\n  <div class=\"cap-modal-content\" class:desktop-layout={isSideBySideLayout}>\n    <SheetDragHandle class={isSideBySideLayout ? \"side-handle\" : \"\"} />\n    <CAPModalHeader\n      title=\"Select CAP Type\"\n      {isMultiSelectMode}\n      onToggleMultiSelect={handleToggleMultiSelect}\n      onClose={handleClose}\n    />\n\n    <CAPComponentGrid\n      {selectedComponents}\n      {isMultiSelectMode}\n      onToggleComponent={handleToggle}\n    />\n\n    <div class=\"info-section\">\n      <CAPExplanationPanel {explanationText} />\n      {#if !isImplemented && selectionCount > 0}\n        <div class=\"coming-soon-badge\">\n          ðŸš§ This combination is under development\n        </div>\n      {/if}\n    </div>\n\n    {#if isMultiSelectMode}\n      <button\n        class=\"confirm-button\"\n        class:disabled={isButtonDisabled}\n        class:coming-soon={!isImplemented && selectionCount > 0}\n        onclick={handleConfirm}\n        disabled={isButtonDisabled}\n        aria-label={buttonText}\n      >\n        {buttonText}\n      </button>\n    {/if}\n  </div>\n</Drawer>\n\n<style>\n  /* Custom styling for CAP selection bottom sheet */\n  /* Pops up halfway on mobile, side panel on desktop */\n  :global(.drawer-content.cap-selection-sheet) {\n    --sheet-backdrop-bg: var(--backdrop-transparent);\n    --sheet-backdrop-filter: var(--backdrop-blur-none);\n    --sheet-backdrop-pointer-events: none;\n    --sheet-bg: var(--sheet-bg-gradient);\n    --sheet-border: var(--sheet-border-medium);\n    --sheet-shadow: none;\n    --sheet-pointer-events: auto;\n    max-width: 1200px;\n    margin: 0 auto;\n    height: auto !important; /* Override default full height */\n    max-height: 60vh; /* Pop up about halfway */\n  }\n\n  /* Slide animations for drawer */\n  :global(.drawer-content.cap-selection-sheet[data-placement=\"bottom\"]) {\n    transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);\n  }\n\n  :global(.drawer-content.cap-selection-sheet[data-placement=\"right\"]) {\n    transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);\n  }\n\n  :global(\n    .drawer-content.cap-selection-sheet[data-state=\"closed\"][data-placement=\"bottom\"]\n  ) {\n    transform: translateY(100%);\n  }\n\n  :global(\n    .drawer-content.cap-selection-sheet[data-state=\"closed\"][data-placement=\"right\"]\n  ) {\n    transform: translateX(100%);\n  }\n\n  :global(.drawer-content.cap-selection-sheet[data-state=\"open\"]) {\n    transform: translate(0, 0);\n  }\n\n  :global(.drawer-content.cap-selection-sheet:hover) {\n    box-shadow: none;\n  }\n\n  .cap-modal-content {\n    /* Container query context for intelligent layout switching */\n    container-type: inline-size;\n    container-name: cap-modal;\n\n    position: relative;\n    height: auto; /* Natural height based on content */\n\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    padding: 24px 20px;\n    padding-bottom: calc(24px + env(safe-area-inset-bottom));\n\n    /* Animated rainbow gradient background */\n    background: linear-gradient(\n      135deg,\n      #4338ca 0%,\n      #6b21a8 12.5%,\n      #db2777 25%,\n      #f97316 37.5%,\n      #eab308 50%,\n      #22c55e 62.5%,\n      #0891b2 75%,\n      #3b82f6 87.5%,\n      #6366f1 100%\n    );\n    background-size: 300% 300%;\n    animation: meshGradientFlow 15s ease infinite;\n\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    /* Enable smooth scrolling */\n    overscroll-behavior: contain;\n  }\n\n  .cap-modal-content.desktop-layout {\n    height: 100vh; /* Full height on desktop side panel */\n    justify-content: center; /* Center content on desktop */\n    padding-bottom: 24px;\n  }\n\n  @keyframes meshGradientFlow {\n    0%,\n    100% {\n      background-position: 0% 50%;\n    }\n    25% {\n      background-position: 50% 100%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n    75% {\n      background-position: 50% 0%;\n    }\n  }\n\n  /* Position drag handle on the left for side-by-side layout */\n  .cap-modal-content.desktop-layout :global(.sheet-drag-handle.side-handle) {\n    position: absolute;\n    top: 50%;\n    left: 18px;\n    width: 4px;\n    height: 48px;\n    margin: 0;\n    border-radius: 999px;\n    transform: translateY(-50%);\n  }\n\n  .info-section {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    flex-shrink: 0;\n    max-width: 600px;\n    margin: 0 auto;\n    width: 100%;\n  }\n\n  .coming-soon-badge {\n    background: rgba(255, 193, 7, 0.2);\n    border: 2px solid rgba(255, 193, 7, 0.6);\n    border-radius: 8px;\n    padding: 8px 12px;\n    color: #ffd54f;\n    font-size: 13px;\n    font-weight: 600;\n    text-align: center;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    animation: pulse 2s ease-in-out infinite;\n  }\n\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.7;\n    }\n  }\n\n  .confirm-button {\n    position: relative;\n    z-index: 1;\n    flex-shrink: 0;\n\n    max-width: 600px;\n    margin: 0 auto;\n    width: 100%;\n    padding: 14px 24px;\n    min-height: 52px;\n\n    background: rgba(255, 255, 255, 0.25);\n    border: 2px solid rgba(255, 255, 255, 0.4);\n    border-radius: 12px;\n    color: white;\n\n    font-size: 16px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    line-height: 1.2;\n\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  .confirm-button:hover:not(:disabled) {\n    background: rgba(255, 255, 255, 0.35);\n    border-color: white;\n    transform: translateY(-2px) scale(1.02);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);\n  }\n\n  .confirm-button:active:not(:disabled) {\n    transform: translateY(0) scale(0.98);\n  }\n\n  .confirm-button:disabled,\n  .confirm-button.disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n    background: rgba(255, 255, 255, 0.1);\n    border-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .confirm-button.coming-soon {\n    background: rgba(255, 193, 7, 0.25);\n    border-color: rgba(255, 193, 7, 0.6);\n    color: #ffd54f;\n    cursor: pointer;\n  }\n\n  .confirm-button.coming-soon:hover {\n    background: rgba(255, 193, 7, 0.35);\n    border-color: #ffd54f;\n    transform: translateY(-2px) scale(1.02);\n  }\n\n  /* Reduced motion */\n  @media (prefers-reduced-motion: reduce) {\n    .confirm-button {\n      transition: none;\n    }\n\n    .confirm-button:hover:not(:disabled),\n    .confirm-button:active:not(:disabled) {\n      transform: none;\n    }\n  }\n\n  /* High contrast mode */\n  @media (prefers-contrast: high) {\n    .cap-modal-content {\n      border-top: 2px solid white;\n    }\n\n    .confirm-button {\n      background: rgba(255, 255, 255, 0.1);\n      border: 2px solid rgba(255, 255, 255, 0.3);\n    }\n\n    .confirm-button:hover:not(:disabled) {\n      background: rgba(255, 255, 255, 0.2);\n      border-color: white;\n    }\n  }\n\n  /* Mobile responsiveness for very small viewport screens */\n  @media (max-width: 380px) {\n    .cap-modal-content {\n      padding: 12px;\n      padding-bottom: calc(12px + env(safe-area-inset-bottom));\n      gap: 8px;\n    }\n\n    .confirm-button {\n      padding: 10px 16px;\n      font-size: 14px;\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\EditPresetModal.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'name' is defined but never used.","line":17,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":26,"suggestions":[{"messageId":"removeVar","data":{"varName":"name"},"fix":{"range":[643,656],"text":""},"desc":"Remove unused variable 'name'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'icon' is defined but never used.","line":17,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":41,"suggestions":[{"messageId":"removeVar","data":{"varName":"icon"},"fix":{"range":[655,670],"text":""},"desc":"Remove unused variable 'icon'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nEditPresetModal.svelte - Premium modal for editing preset name and icon\nProvides a beautiful, unified experience for customizing presets\n-->\n<script lang=\"ts\">\n  import type { IHapticFeedbackService } from \"$shared\";\n  import { resolve, TYPES } from \"$shared\";\n  import { onMount } from \"svelte\";\n  import type { GenerationPreset } from \"../../state/preset.svelte\";\n  import IconGrid from \"./IconGrid.svelte\";\n  import ModalActions from \"./ModalActions.svelte\";\n  import ModalHeader from \"./ModalHeader.svelte\";\n  import { portal } from \"./portal\";\n\n  let { preset, onSave, onClose } = $props<{\n    preset: GenerationPreset;\n    onSave: (name: string, icon?: string) => void;\n    onClose: () => void;\n  }>();\n\n  let hapticService: IHapticFeedbackService;\n  let nameInput: HTMLInputElement;\n\n  let presetName = $state(preset.name);\n  let selectedIcon = $state(preset.icon || \"âš™ï¸\");\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n\n    // Focus the name input\n    nameInput?.focus();\n    nameInput?.select(); // Select all text for easy editing\n\n    // Prevent body scroll\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  });\n\n  function handleSave() {\n    const trimmedName = presetName.trim();\n    if (!trimmedName) {\n      return;\n    }\n\n    hapticService?.trigger(\"selection\");\n    onSave(trimmedName, selectedIcon);\n  }\n\n  function handleBackdropClick(event: MouseEvent) {\n    if (event.target === event.currentTarget) {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === \"Escape\") {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    } else if (event.key === \"Enter\" && presetName.trim()) {\n      handleSave();\n    }\n  }\n\n  function handleClose() {\n    hapticService?.trigger(\"selection\");\n    onClose();\n  }\n\n  const canSave = $derived(\n    presetName.trim().length > 0 &&\n      (presetName !== preset.name || selectedIcon !== preset.icon)\n  );\n</script>\n\n<div\n  class=\"modal-backdrop\"\n  use:portal\n  onclick={handleBackdropClick}\n  onkeydown={handleKeydown}\n  tabindex=\"-1\"\n  role=\"dialog\"\n  aria-modal=\"true\"\n  aria-labelledby=\"modal-title\"\n>\n  <div class=\"modal-content\">\n    <ModalHeader title=\"Edit Preset\" icon=\"âœï¸\" onClose={handleClose} />\n\n    <div class=\"modal-body\">\n      <div class=\"form-section\">\n        <label for=\"preset-name\" class=\"form-label\">Preset Name</label>\n        <input\n          id=\"preset-name\"\n          type=\"text\"\n          class=\"name-input\"\n          bind:value={presetName}\n          bind:this={nameInput}\n          placeholder=\"e.g., Diamond 16, My Practice Flow\"\n          maxlength=\"50\"\n        />\n      </div>\n\n      <IconGrid bind:selectedIcon label=\"Icon\" />\n    </div>\n\n    <ModalActions\n      onCancel={handleClose}\n      onConfirm={handleSave}\n      cancelLabel=\"Cancel\"\n      confirmLabel=\"Save Changes\"\n      confirmDisabled={!canSave}\n      confirmVariant=\"primary\"\n    />\n  </div>\n</div>\n\n<style>\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100vw;\n    height: 100vh;\n    height: 100dvh;\n    height: var(--actual-vh, 100vh);\n    background: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(8px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 999999;\n    padding: max(16px, env(safe-area-inset-top, 16px))\n      max(16px, env(safe-area-inset-right, 16px))\n      max(16px, env(safe-area-inset-bottom, 16px))\n      max(16px, env(safe-area-inset-left, 16px));\n    animation: backdrop-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  @keyframes backdrop-appear {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  .modal-content {\n    background: linear-gradient(\n      135deg,\n      rgba(255, 255, 255, 0.1) 0%,\n      rgba(255, 255, 255, 0.05) 100%\n    );\n    backdrop-filter: blur(20px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 16px;\n    max-width: min(460px, 90vw);\n    width: 100%;\n    max-height: var(--modal-max-height, min(85dvh, calc(100dvh - 60px)));\n    max-height: var(--modal-max-height, min(85vh, calc(100vh - 60px)));\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    animation: modal-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n    margin: auto;\n    flex-shrink: 0;\n    box-sizing: border-box;\n    box-shadow:\n      0 20px 60px rgba(0, 0, 0, 0.3),\n      0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n  }\n\n  @keyframes modal-appear {\n    from {\n      opacity: 0;\n      transform: scale(0.95) translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  .modal-body {\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    overflow-y: auto;\n    flex: 1;\n    min-height: 0;\n  }\n\n  .modal-body::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  .modal-body::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n  }\n\n  .modal-body::-webkit-scrollbar-thumb {\n    background: rgba(255, 255, 255, 0.3);\n    border-radius: 4px;\n  }\n\n  .modal-body::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n\n  .form-section {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .form-label {\n    color: rgba(255, 255, 255, 0.95);\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0.01em;\n  }\n\n  .name-input {\n    width: 100%;\n    padding: 12px 16px;\n    background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.3));\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    border-radius: 10px;\n    color: white;\n    font-size: 15px;\n    font-family: inherit;\n    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) inset;\n  }\n\n  .name-input:focus {\n    outline: none;\n    border-color: rgba(59, 130, 246, 0.6);\n    background: linear-gradient(135deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.4));\n    box-shadow:\n      0 0 0 3px rgba(59, 130, 246, 0.2),\n      0 2px 8px rgba(0, 0, 0, 0.2) inset;\n  }\n\n  .name-input::placeholder {\n    color: rgba(255, 255, 255, 0.4);\n  }\n\n  @media (max-width: 640px) {\n    .modal-content {\n      max-width: 95vw;\n      border-radius: 14px;\n    }\n\n    .modal-body {\n      padding: 20px;\n      gap: 16px;\n    }\n\n    .name-input {\n      padding: 11px 14px;\n      font-size: 14px;\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\IconGrid.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\ModalActions.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\ModalHeader.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\PresetCard.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":14,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[534,558],"text":""},"desc":"Remove unused variable 'preset'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":15,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":38,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[582,606],"text":""},"desc":"Remove unused variable 'preset'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'presetId' is defined but never used.","line":16,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":32,"suggestions":[{"messageId":"removeVar","data":{"varName":"presetId"},"fix":{"range":[632,648],"text":""},"desc":"Remove unused variable 'presetId'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nPresetCard.svelte - Individual preset card display\nDisplays a single preset with icon, name, summary, and action buttons\n-->\n<script lang=\"ts\">\n  import { CAP_TYPE_LABELS, type CAPType } from \"$create/generate/circular\";\n  import type { IHapticFeedbackService } from \"$shared\";\n  import { resolve, TYPES } from \"$shared\";\n  import { onMount } from \"svelte\";\n  import type { GenerationPreset } from \"../../state/preset.svelte\";\n\n  let { preset, onSelect, onEdit, onDelete } = $props<{\n    preset: GenerationPreset;\n    onSelect: (preset: GenerationPreset) => void;\n    onEdit: (preset: GenerationPreset) => void;\n    onDelete: (presetId: string) => void;\n  }>();\n\n  let hapticService: IHapticFeedbackService;\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n  });\n\n  function handleSelect() {\n    hapticService?.trigger(\"selection\");\n    onSelect(preset);\n  }\n\n  function handleEdit(event: MouseEvent) {\n    event.stopPropagation();\n    hapticService?.trigger(\"selection\");\n    onEdit(preset);\n  }\n\n  function handleDelete(event: MouseEvent) {\n    event.stopPropagation();\n    hapticService?.trigger(\"selection\");\n    onDelete(preset.id);\n  }\n\n  // Format config summary for display\n  const configSummary = $derived(() => {\n    const { config } = preset;\n    const gridMode =\n      config.gridMode.charAt(0).toUpperCase() + config.gridMode.slice(1);\n    const mode = config.mode.charAt(0).toUpperCase() + config.mode.slice(1);\n\n    const parts = [\n      `${config.length} beats`,\n      gridMode,\n      mode,\n      CAP_TYPE_LABELS[config.capType as CAPType] || config.capType,\n    ];\n\n    if (config.turnIntensity > 0) {\n      parts.push(\n        `${config.turnIntensity}x turn${config.turnIntensity !== 1 ? \"s\" : \"\"}`\n      );\n    }\n\n    return parts.join(\" â€¢ \");\n  });\n\n  // Abbreviated config summary for narrow screens\n  const configSummaryShort = $derived(() => {\n    const { config } = preset;\n    const gridMode =\n      config.gridMode.charAt(0).toUpperCase() + config.gridMode.slice(1);\n    const mode = config.mode.charAt(0).toUpperCase() + config.mode.slice(1);\n\n    // Shorten \"Complementary\" to \"Compl.\" for narrow screens\n    let capLabel = CAP_TYPE_LABELS[config.capType as CAPType] || config.capType;\n    if (capLabel === \"Complementary\") {\n      capLabel = \"Compl.\";\n    }\n\n    const parts = [`${config.length} beats`, gridMode, mode, capLabel];\n\n    if (config.turnIntensity > 0) {\n      parts.push(\n        `${config.turnIntensity}x turn${config.turnIntensity !== 1 ? \"s\" : \"\"}`\n      );\n    }\n\n    return parts.join(\" â€¢ \");\n  });\n\n  // Get level-based background color\n  const backgroundColor = $derived.by(() => {\n    switch (preset.config.level) {\n      case 1:\n        return \"rgba(186, 230, 253, 0.15)\"; // Beginner: Light blue\n      case 2:\n        return \"rgba(148, 163, 184, 0.15)\"; // Intermediate: Silver gray\n      case 3:\n        return \"rgba(250, 204, 21, 0.15)\"; // Advanced: Gold\n      default:\n        return \"rgba(255, 255, 255, 0.05)\";\n    }\n  });\n\n  // Get level-based border color\n  const borderColor = $derived.by(() => {\n    switch (preset.config.level) {\n      case 1:\n        return \"rgba(56, 189, 248, 0.3)\"; // Beginner: Light blue\n      case 2:\n        return \"rgba(100, 116, 139, 0.3)\"; // Intermediate: Silver gray\n      case 3:\n        return \"rgba(234, 179, 8, 0.3)\"; // Advanced: Gold\n      default:\n        return \"rgba(255, 255, 255, 0.1)\";\n    }\n  });\n\n  const icon = $derived(preset.icon || \"âš™ï¸\");\n\n  const levelLabel = $derived.by(() => {\n    switch (preset.config.level) {\n      case 1:\n        return \"Beginner\";\n      case 2:\n        return \"Intermediate\";\n      case 3:\n        return \"Advanced\";\n      default:\n        return `Level ${preset.config.level}`;\n    }\n  });\n\n  const levelBadgeColor = $derived.by(() => {\n    switch (preset.config.level) {\n      case 1:\n        return {\n          bg: \"rgba(56, 189, 248, 0.2)\",\n          border: \"rgba(56, 189, 248, 0.5)\",\n          text: \"#7dd3fc\",\n        };\n      case 2:\n        return {\n          bg: \"rgba(148, 163, 184, 0.2)\",\n          border: \"rgba(148, 163, 184, 0.5)\",\n          text: \"#cbd5e1\",\n        };\n      case 3:\n        return {\n          bg: \"rgba(234, 179, 8, 0.2)\",\n          border: \"rgba(234, 179, 8, 0.5)\",\n          text: \"#fde047\",\n        };\n      default:\n        return {\n          bg: \"rgba(255, 255, 255, 0.1)\",\n          border: \"rgba(255, 255, 255, 0.2)\",\n          text: \"#ffffff\",\n        };\n    }\n  });\n</script>\n\n<div class=\"preset-item-container\">\n  <button\n    class=\"preset-item\"\n    style=\"background: {backgroundColor}; border-color: {borderColor};\"\n    onclick={handleSelect}\n    aria-label={`Load preset ${preset.name}: ${configSummary()}`}\n  >\n    <div class=\"preset-icon\">{icon}</div>\n    <div class=\"preset-info\">\n      <div class=\"preset-header\">\n        <div class=\"preset-name\">{preset.name}</div>\n        <div\n          class=\"level-badge\"\n          style=\"background: {levelBadgeColor.bg}; border-color: {levelBadgeColor.border}; color: {levelBadgeColor.text};\"\n        >\n          {levelLabel}\n        </div>\n      </div>\n      <div class=\"preset-summary\">\n        <span class=\"summary-full\">{configSummary()}</span>\n        <span class=\"summary-short\">{configSummaryShort()}</span>\n      </div>\n    </div>\n  </button>\n  <button\n    class=\"edit-button\"\n    onclick={handleEdit}\n    aria-label={`Edit preset ${preset.name}`}\n    title=\"Edit preset\"\n  >\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n      ></path>\n      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\n    </svg>\n  </button>\n  <button\n    class=\"delete-button\"\n    onclick={handleDelete}\n    aria-label={`Delete preset ${preset.name}`}\n    title=\"Delete preset\"\n  >\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n      <polyline points=\"3 6 5 6 21 6\"></polyline>\n      <path\n        d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n      ></path>\n      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n    </svg>\n  </button>\n</div>\n\n<style>\n  .preset-item-container {\n    display: flex;\n    gap: 10px;\n    align-items: stretch;\n  }\n\n  .preset-item {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    gap: 14px;\n    padding: 14px 16px;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    border-radius: 12px;\n    cursor: pointer;\n    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: left;\n    color: white;\n    font-family: inherit;\n    min-height: 88px;\n  }\n\n  .preset-item:hover {\n    background: rgba(255, 255, 255, 0.1);\n    border-color: rgba(255, 255, 255, 0.3);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  .preset-item:active {\n    transform: translateY(0);\n  }\n\n  .preset-icon {\n    font-size: 32px;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .preset-info {\n    flex: 1;\n    min-width: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 7px;\n  }\n\n  .preset-header {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    min-width: 0;\n    flex-wrap: wrap;\n  }\n\n  .preset-name {\n    font-size: 15px;\n    font-weight: 600;\n    color: white;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    flex: 1 1 auto;\n    min-width: 120px;\n  }\n\n  .level-badge {\n    padding: 3px 10px;\n    border-radius: 12px;\n    font-size: 10px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.6px;\n    border: 1px solid;\n    white-space: nowrap;\n    flex-shrink: 0;\n  }\n\n  .preset-summary {\n    font-size: 12.5px;\n    color: rgba(255, 255, 255, 0.75);\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    word-break: break-word;\n  }\n\n  /* Show full summary by default, hide short summary */\n  .summary-short {\n    display: none;\n  }\n\n  .summary-full {\n    display: inline;\n  }\n\n  .edit-button {\n    background: linear-gradient(\n      135deg,\n      rgba(100, 150, 255, 0.15),\n      rgba(100, 150, 255, 0.08)\n    );\n    border: 1px solid rgba(100, 150, 255, 0.3);\n    color: rgba(100, 150, 255, 0.9);\n    cursor: pointer;\n    padding: 10px;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n    min-width: 44px;\n    min-height: 44px;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .edit-button:hover {\n    background: linear-gradient(\n      135deg,\n      rgba(100, 150, 255, 0.25),\n      rgba(100, 150, 255, 0.15)\n    );\n    border-color: rgba(100, 150, 255, 0.5);\n    color: rgba(100, 150, 255, 1);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(100, 150, 255, 0.2);\n  }\n\n  .edit-button svg {\n    width: 18px;\n    height: 18px;\n  }\n\n  .delete-button {\n    background: linear-gradient(\n      135deg,\n      rgba(255, 100, 100, 0.15),\n      rgba(255, 100, 100, 0.08)\n    );\n    border: 1px solid rgba(255, 100, 100, 0.3);\n    color: rgba(255, 100, 100, 0.9);\n    cursor: pointer;\n    padding: 10px;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n    min-width: 44px;\n    min-height: 44px;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .delete-button:hover {\n    background: linear-gradient(\n      135deg,\n      rgba(255, 100, 100, 0.25),\n      rgba(255, 100, 100, 0.15)\n    );\n    border-color: rgba(255, 100, 100, 0.5);\n    color: rgba(255, 100, 100, 1);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(255, 100, 100, 0.2);\n  }\n\n  .delete-button svg {\n    width: 18px;\n    height: 18px;\n  }\n\n  .edit-button:active,\n  .delete-button:active {\n    transform: translateY(0);\n  }\n\n  @media (max-width: 768px) {\n    .preset-item-container {\n      gap: 8px;\n    }\n\n    .preset-item {\n      gap: 12px;\n      padding: 12px 14px;\n      min-height: 82px;\n    }\n\n    .preset-icon {\n      font-size: 28px;\n    }\n\n    .preset-name {\n      font-size: 14px;\n      min-width: 100px;\n    }\n\n    .level-badge {\n      font-size: 9px;\n      padding: 2px 8px;\n      letter-spacing: 0.5px;\n    }\n\n    .preset-summary {\n      font-size: 12px;\n    }\n\n    .edit-button,\n    .delete-button {\n      min-width: 42px;\n      min-height: 42px;\n      padding: 9px;\n    }\n\n    .edit-button svg,\n    .delete-button svg {\n      width: 18px;\n      height: 18px;\n    }\n  }\n\n  @media (max-width: 520px) {\n    .preset-item {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 10px;\n      padding: 12px;\n      min-height: auto;\n    }\n\n    .preset-icon {\n      font-size: 24px;\n    }\n\n    .preset-info {\n      width: 100%;\n    }\n\n    .preset-header {\n      flex-wrap: nowrap;\n      gap: 8px;\n    }\n\n    .preset-name {\n      font-size: 13px;\n      min-width: 0;\n    }\n\n    .preset-summary {\n      font-size: 11.5px;\n    }\n\n    .edit-button,\n    .delete-button {\n      min-width: 38px;\n      min-height: 38px;\n      padding: 8px;\n    }\n\n    .edit-button svg,\n    .delete-button svg {\n      width: 16px;\n      height: 16px;\n    }\n  }\n\n  /* Optimize for very narrow devices (Z Fold, narrow foldables) */\n  @media (max-width: 380px) {\n    .preset-item-container {\n      gap: 6px;\n    }\n\n    .preset-item {\n      gap: 8px;\n      padding: 10px;\n      border-radius: 10px;\n    }\n\n    .preset-icon {\n      font-size: 22px;\n    }\n\n    .preset-info {\n      gap: 6px;\n    }\n\n    .preset-header {\n      gap: 6px;\n    }\n\n    .preset-name {\n      font-size: 12.5px;\n    }\n\n    .level-badge {\n      font-size: 8px;\n      padding: 2px 6px;\n      letter-spacing: 0.4px;\n    }\n\n    .preset-summary {\n      font-size: 11px;\n      line-height: 1.3;\n    }\n\n    /* Switch to abbreviated summary on narrow devices */\n    .summary-short {\n      display: inline;\n    }\n\n    .summary-full {\n      display: none;\n    }\n\n    .edit-button,\n    .delete-button {\n      min-width: 36px;\n      min-height: 36px;\n      padding: 7px;\n      border-radius: 7px;\n    }\n\n    .edit-button svg,\n    .delete-button svg {\n      width: 15px;\n      height: 15px;\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\PresetGrid.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":11,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":46,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[379,403],"text":""},"desc":"Remove unused variable 'preset'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":12,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":44,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[433,457],"text":""},"desc":"Remove unused variable 'preset'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'presetId' is defined but never used.","line":13,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":38,"suggestions":[{"messageId":"removeVar","data":{"varName":"presetId"},"fix":{"range":[489,505],"text":""},"desc":"Remove unused variable 'presetId'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nPresetGrid.svelte - Grid layout for preset cards\nDisplays a list of presets in a scrollable grid layout\n-->\n<script lang=\"ts\">\n  import type { GenerationPreset } from \"../../state/preset.svelte\";\n  import PresetCard from \"./PresetCard.svelte\";\n\n  let { presets, onPresetSelect, onPresetEdit, onPresetDelete } = $props<{\n    presets: GenerationPreset[];\n    onPresetSelect: (preset: GenerationPreset) => void;\n    onPresetEdit: (preset: GenerationPreset) => void;\n    onPresetDelete: (presetId: string) => void;\n  }>();\n</script>\n\n{#if presets.length === 0}\n  <div class=\"empty-state\">\n    <div class=\"empty-icon\">ðŸ“‹</div>\n    <div class=\"empty-text\">No saved presets yet</div>\n    <div class=\"empty-hint\">Save your current settings to create a preset</div>\n  </div>\n{:else}\n  <div class=\"preset-list\">\n    {#each presets as preset (preset.id)}\n      <PresetCard\n        {preset}\n        onSelect={onPresetSelect}\n        onEdit={onPresetEdit}\n        onDelete={onPresetDelete}\n      />\n    {/each}\n  </div>\n{/if}\n\n<style>\n  .preset-list {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    padding: 20px 24px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  /* Scrollbar styling */\n  .preset-list::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  .preset-list::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n  }\n\n  .preset-list::-webkit-scrollbar-thumb {\n    background: rgba(255, 255, 255, 0.3);\n    border-radius: 4px;\n  }\n\n  .preset-list::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n\n  .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 60px 24px;\n    text-align: center;\n    color: white;\n  }\n\n  .empty-icon {\n    font-size: 64px;\n    margin-bottom: 16px;\n    opacity: 0.5;\n  }\n\n  .empty-text {\n    font-size: 20px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    color: rgba(255, 255, 255, 0.9);\n  }\n\n  .empty-hint {\n    font-size: 14px;\n    color: rgba(255, 255, 255, 0.6);\n  }\n\n  @media (max-width: 640px) {\n    .preset-list {\n      padding: 16px;\n      gap: 10px;\n    }\n\n    .empty-state {\n      padding: 40px 16px;\n    }\n\n    .empty-icon {\n      font-size: 48px;\n      margin-bottom: 12px;\n    }\n\n    .empty-text {\n      font-size: 18px;\n    }\n\n    .empty-hint {\n      font-size: 13px;\n    }\n  }\n\n  /* Optimize for very narrow devices (Z Fold, narrow foldables) */\n  @media (max-width: 380px) {\n    .preset-list {\n      padding: 12px;\n      gap: 8px;\n    }\n\n    .preset-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .empty-state {\n      padding: 32px 12px;\n    }\n\n    .empty-icon {\n      font-size: 40px;\n      margin-bottom: 10px;\n    }\n\n    .empty-text {\n      font-size: 16px;\n    }\n\n    .empty-hint {\n      font-size: 12px;\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\PresetSelectionModal.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":17,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":48,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[678,702],"text":""},"desc":"Remove unused variable 'preset'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'presetId' is defined but never used.","line":18,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"presetId"},"fix":{"range":[736,752],"text":""},"desc":"Remove unused variable 'presetId'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'preset' is defined but never used.","line":19,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":46,"suggestions":[{"messageId":"removeVar","data":{"varName":"preset"},"fix":{"range":[784,808],"text":""},"desc":"Remove unused variable 'preset'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nPresetSelectionModal.svelte - Modal for selecting saved generation presets\nDisplays user-saved presets with delete option and allows loading preset configuration\n-->\n<script lang=\"ts\">\n  import type { IHapticFeedbackService } from \"$shared\";\n  import { resolve, TYPES } from \"$shared\";\n  import { onMount } from \"svelte\";\n  import type { GenerationPreset } from \"../../state/preset.svelte\";\n  import ModalHeader from \"./ModalHeader.svelte\";\n  import { portal } from \"./portal\";\n  import PresetGrid from \"./PresetGrid.svelte\";\n\n  let { presets, onPresetSelect, onPresetDelete, onPresetEdit, onClose } =\n    $props<{\n      presets: GenerationPreset[];\n      onPresetSelect: (preset: GenerationPreset) => void;\n      onPresetDelete: (presetId: string) => void;\n      onPresetEdit: (preset: GenerationPreset) => void;\n      onClose: () => void;\n    }>();\n\n  let hapticService: IHapticFeedbackService;\n  let modalElement: HTMLElement;\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n\n    // Focus the modal for accessibility\n    modalElement?.focus();\n\n    // Prevent body scroll\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  });\n\n  function handleBackdropClick(event: MouseEvent) {\n    if (event.target === event.currentTarget) {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === \"Escape\") {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    }\n  }\n\n  function handleClose() {\n    hapticService?.trigger(\"selection\");\n    onClose();\n  }\n</script>\n\n<div\n  class=\"modal-backdrop\"\n  use:portal\n  onclick={handleBackdropClick}\n  onkeydown={handleKeydown}\n  bind:this={modalElement}\n  tabindex=\"-1\"\n  role=\"dialog\"\n  aria-modal=\"true\"\n  aria-labelledby=\"modal-title\"\n>\n  <div class=\"modal-content\">\n    <ModalHeader title=\"Load Preset\" icon=\"âš™ï¸\" onClose={handleClose} />\n    <PresetGrid {presets} {onPresetSelect} {onPresetEdit} {onPresetDelete} />\n  </div>\n</div>\n\n<style>\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100vw;\n    height: 100vh;\n    height: 100dvh;\n    height: var(--actual-vh, 100vh);\n    background: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(8px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 999999;\n    padding: max(16px, env(safe-area-inset-top, 16px))\n      max(16px, env(safe-area-inset-right, 16px))\n      max(16px, env(safe-area-inset-bottom, 16px))\n      max(16px, env(safe-area-inset-left, 16px));\n    animation: backdrop-appear 0.3s ease-out;\n  }\n\n  @keyframes backdrop-appear {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  .modal-content {\n    background: linear-gradient(\n      135deg,\n      rgba(255, 255, 255, 0.1) 0%,\n      rgba(255, 255, 255, 0.05) 100%\n    );\n    backdrop-filter: blur(20px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 16px;\n    max-width: min(900px, 92vw);\n    width: 100%;\n    max-height: var(--modal-max-height, min(90dvh, calc(100dvh - 30px)));\n    max-height: var(--modal-max-height, min(90vh, calc(100vh - 30px)));\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    animation: modal-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n    margin: auto;\n    flex-shrink: 0;\n    box-sizing: border-box;\n    padding-top: env(safe-area-inset-top, 0);\n    padding-bottom: env(safe-area-inset-bottom, 0);\n    padding-left: env(safe-area-inset-left, 0);\n    padding-right: env(safe-area-inset-right, 0);\n    box-shadow:\n      0 20px 60px rgba(0, 0, 0, 0.3),\n      0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n  }\n\n  /* Optimize for narrow devices (foldable phones, etc.) */\n  @media (max-width: 380px) {\n    .modal-backdrop {\n      padding: 12px;\n    }\n\n    .modal-content {\n      max-width: 96vw;\n      border-radius: 12px;\n    }\n  }\n\n  @keyframes modal-appear {\n    from {\n      opacity: 0;\n      transform: scale(0.9) translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n</style>\n","usedDeprecatedRules":[]},{"filePath":"F:\\_THE KINETIC ALPHABET\\_TKA-STUDIO\\src\\lib\\modules\\create\\generate\\components\\modals\\SavePresetModal.svelte","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'icon' is defined but never used.","line":15,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"icon"},"fix":{"range":[544,557],"text":""},"desc":"Remove unused variable 'icon'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<!--\nSavePresetModal.svelte - Premium modal for saving current settings as a preset\nProvides a beautiful, unified experience for creating new presets\n-->\n<script lang=\"ts\">\n  import type { IHapticFeedbackService } from \"$shared\";\n  import { resolve, TYPES } from \"$shared\";\n  import { onMount } from \"svelte\";\n  import IconGrid from \"./IconGrid.svelte\";\n  import ModalActions from \"./ModalActions.svelte\";\n  import ModalHeader from \"./ModalHeader.svelte\";\n  import { portal } from \"./portal\";\n\n  let { onSave, onClose } = $props<{\n    onSave: (icon?: string) => void;\n    onClose: () => void;\n  }>();\n\n  let hapticService: IHapticFeedbackService;\n  let modalElement: HTMLElement;\n\n  let selectedIcon = $state(\"âš™ï¸\");\n\n  onMount(() => {\n    hapticService = resolve<IHapticFeedbackService>(\n      TYPES.IHapticFeedbackService\n    );\n\n    // Focus the modal for accessibility\n    modalElement?.focus();\n\n    // Prevent body scroll\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  });\n\n  function handleSave() {\n    hapticService?.trigger(\"selection\");\n    onSave(selectedIcon);\n  }\n\n  function handleBackdropClick(event: MouseEvent) {\n    if (event.target === event.currentTarget) {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === \"Escape\") {\n      hapticService?.trigger(\"selection\");\n      onClose();\n    } else if (event.key === \"Enter\") {\n      handleSave();\n    }\n  }\n\n  function handleClose() {\n    hapticService?.trigger(\"selection\");\n    onClose();\n  }\n</script>\n\n<div\n  class=\"modal-backdrop\"\n  use:portal\n  onclick={handleBackdropClick}\n  onkeydown={handleKeydown}\n  bind:this={modalElement}\n  tabindex=\"-1\"\n  role=\"dialog\"\n  aria-modal=\"true\"\n  aria-labelledby=\"modal-title\"\n>\n  <div class=\"modal-content\">\n    <ModalHeader title=\"Save Preset\" icon=\"ðŸ’¾\" onClose={handleClose} />\n\n    <div class=\"modal-body\">\n      <div class=\"info-banner\">\n        <svg\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n          <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\n          <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\n        </svg>\n        <span>Preset name will be auto-generated from your settings</span>\n      </div>\n\n      <IconGrid bind:selectedIcon />\n    </div>\n\n    <ModalActions\n      onCancel={handleClose}\n      onConfirm={handleSave}\n      cancelLabel=\"Cancel\"\n      confirmLabel=\"Save Preset\"\n      confirmVariant=\"success\"\n    />\n  </div>\n</div>\n\n<style>\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100vw;\n    height: 100vh;\n    height: 100dvh;\n    height: var(--actual-vh, 100vh);\n    background: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(8px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 999999;\n    padding: max(16px, env(safe-area-inset-top, 16px))\n      max(16px, env(safe-area-inset-right, 16px))\n      max(16px, env(safe-area-inset-bottom, 16px))\n      max(16px, env(safe-area-inset-left, 16px));\n    animation: backdrop-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  @keyframes backdrop-appear {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  .modal-content {\n    background: linear-gradient(\n      135deg,\n      rgba(255, 255, 255, 0.1) 0%,\n      rgba(255, 255, 255, 0.05) 100%\n    );\n    backdrop-filter: blur(20px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 16px;\n    max-width: min(460px, 90vw);\n    width: 100%;\n    max-height: var(--modal-max-height, min(85dvh, calc(100dvh - 60px)));\n    max-height: var(--modal-max-height, min(85vh, calc(100vh - 60px)));\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    animation: modal-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n    margin: auto;\n    flex-shrink: 0;\n    box-sizing: border-box;\n    box-shadow:\n      0 20px 60px rgba(0, 0, 0, 0.3),\n      0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n  }\n\n  @keyframes modal-appear {\n    from {\n      opacity: 0;\n      transform: scale(0.95) translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  .modal-body {\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    overflow-y: auto;\n    flex: 1;\n    min-height: 0;\n  }\n\n  .modal-body::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  .modal-body::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n  }\n\n  .modal-body::-webkit-scrollbar-thumb {\n    background: rgba(255, 255, 255, 0.3);\n    border-radius: 4px;\n  }\n\n  .modal-body::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n\n  .info-banner {\n    display: flex;\n    align-items: center;\n    gap: 14px;\n    padding: 14px 16px;\n    background: linear-gradient(\n      135deg,\n      rgba(59, 130, 246, 0.15),\n      rgba(37, 99, 235, 0.1)\n    );\n    border: 1px solid rgba(59, 130, 246, 0.3);\n    border-radius: 12px;\n    color: rgba(147, 197, 253, 1);\n    font-size: 14px;\n    line-height: 1.5;\n    box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.1) inset;\n  }\n\n  .info-banner svg {\n    width: 22px;\n    height: 22px;\n    flex-shrink: 0;\n    filter: drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3));\n  }\n\n  @media (max-width: 640px) {\n    .modal-content {\n      max-width: 95vw;\n      border-radius: 14px;\n    }\n\n    .modal-body {\n      padding: 20px;\n      gap: 20px;\n    }\n\n    .info-banner {\n      padding: 12px 14px;\n      font-size: 13px;\n    }\n\n    .info-banner svg {\n      width: 20px;\n      height: 20px;\n    }\n  }\n</style>\n","usedDeprecatedRules":[]}]
