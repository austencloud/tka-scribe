export class MotionLetterIdentificationService {
  letterMappings = {};
  isInitialized = false;
  constructor() {
    this.initializeLetterMappings();
  }
  /**
   * Initialize letter mappings from the configuration
   */
  async initializeLetterMappings() {
    try {
      const response = await fetch("/config/codex/letter-mappings.json");
      if (!response.ok) {
        throw new Error(`Failed to load letter mappings: ${response.statusText}`);
      }
      const config = await response.json();
      this.letterMappings = config.letters || {};
      this.isInitialized = true;
      console.log("âœ… MotionLetterIdentificationService: Letter mappings loaded", {
        letterCount: Object.keys(this.letterMappings).length,
        availableLetters: Object.keys(this.letterMappings).slice(0, 10)
        // Show first 10
      });
    } catch (error) {
      console.error("âŒ MotionLetterIdentificationService: Failed to load letter mappings:", error);
      this.letterMappings = {};
      this.isInitialized = true;
    }
  }
  /**
   * Identify the TKA letter that matches the current motion parameters
   */
  identifyLetter(blueParams, redParams, gridType) {
    if (!this.isInitialized) {
      return {
        letter: null,
        confidence: "none",
        matchedParameters: [],
        missingParameters: ["Service not initialized"]
      };
    }
    console.log("ðŸ” [LETTER ID] Identifying letter for motion parameters:", {
      blue: blueParams,
      red: redParams,
      gridType
    });
    const motionSignature = this.createMotionSignature(blueParams, redParams, gridType);
    console.log("ðŸ” [LETTER ID] Created motion signature:", motionSignature);
    let bestMatch = {
      letter: null,
      confidence: "none",
      matchedParameters: [],
      missingParameters: []
    };
    for (const [letter, mapping] of Object.entries(this.letterMappings)) {
      const matchResult = this.compareMotionSignature(motionSignature, mapping, letter);
      if (matchResult.confidence === "exact") {
        console.log(`âœ… [LETTER ID] Exact match found: ${letter}`);
        return matchResult;
      }
      if (matchResult.confidence === "partial" && bestMatch.confidence !== "exact") {
        if (bestMatch.confidence === "none" || matchResult.matchedParameters.length > bestMatch.matchedParameters.length) {
          bestMatch = matchResult;
        }
      }
    }
    if (bestMatch.letter) {
      console.log(`ðŸ” [LETTER ID] Best partial match: ${bestMatch.letter} (${bestMatch.matchedParameters.length} matches)`);
    } else {
      console.log("âŒ [LETTER ID] No matching letter found");
    }
    return bestMatch;
  }
  /**
   * Create a motion signature from motion parameters
   */
  createMotionSignature(blueParams, redParams, gridType) {
    const startPosition = this.determineStartPosition(blueParams, redParams, gridType);
    const endPosition = this.determineEndPosition(blueParams, redParams, gridType);
    return {
      startPosition,
      endPosition,
      blueMotion: this.normalizeMotionType(blueParams.motionType),
      redMotion: this.normalizeMotionType(redParams.motionType),
      blueStartLocation: blueParams.startLocation.toLowerCase(),
      blueEndLocation: blueParams.endLocation.toLowerCase(),
      redStartLocation: redParams.startLocation.toLowerCase(),
      redEndLocation: redParams.endLocation.toLowerCase(),
      blueStartOrientation: blueParams.startOrientation.toLowerCase(),
      blueEndOrientation: blueParams.endOrientation.toLowerCase(),
      redStartOrientation: redParams.startOrientation.toLowerCase(),
      redEndOrientation: redParams.endOrientation.toLowerCase()
    };
  }
  /**
   * Determine start position based on motion parameters
   */
  determineStartPosition(blueParams, redParams, gridType) {
    const blueStart = blueParams.startLocation.toLowerCase();
    const redStart = redParams.startLocation.toLowerCase();
    const locationToPosition = {
      "s,n": "alpha1",
      "sw,ne": "alpha2",
      "w,e": "alpha3",
      "nw,se": "alpha4",
      "n,s": "alpha5",
      "ne,sw": "alpha6",
      "e,w": "alpha7",
      "se,nw": "alpha8",
      "n,n": "beta1",
      "ne,ne": "beta2",
      "e,e": "beta3",
      "se,se": "beta4",
      "s,s": "beta5",
      "sw,sw": "beta6",
      "w,w": "beta7",
      "nw,nw": "beta8",
      "w,n": "gamma1",
      "nw,ne": "gamma2",
      "n,e": "gamma3",
      "ne,se": "gamma4",
      "e,s": "gamma5",
      "se,sw": "gamma6",
      "s,w": "gamma7",
      "sw,nw": "gamma8",
      "e,n": "gamma9",
      "se,ne": "gamma10",
      "s,e": "gamma11",
      "sw,se": "gamma12",
      "w,s": "gamma13",
      "nw,sw": "gamma14",
      "n,w": "gamma15",
      "ne,nw": "gamma16"
    };
    const key = `${blueStart},${redStart}`;
    return locationToPosition[key] || "alpha1";
  }
  /**
   * Determine end position based on motion parameters
   */
  determineEndPosition(blueParams, redParams, gridType) {
    const blueEnd = blueParams.endLocation.toLowerCase();
    const redEnd = redParams.endLocation.toLowerCase();
    const locationToPosition = {
      "s,n": "alpha1",
      "sw,ne": "alpha2",
      "w,e": "alpha3",
      "nw,se": "alpha4",
      "n,s": "alpha5",
      "ne,sw": "alpha6",
      "e,w": "alpha7",
      "se,nw": "alpha8",
      "n,n": "beta1",
      "ne,ne": "beta2",
      "e,e": "beta3",
      "se,se": "beta4",
      "s,s": "beta5",
      "sw,sw": "beta6",
      "w,w": "beta7",
      "nw,nw": "beta8",
      "w,n": "gamma1",
      "nw,ne": "gamma2",
      "n,e": "gamma3",
      "ne,se": "gamma4",
      "e,s": "gamma5",
      "se,sw": "gamma6",
      "s,w": "gamma7",
      "sw,nw": "gamma8",
      "e,n": "gamma9",
      "se,ne": "gamma10",
      "s,e": "gamma11",
      "sw,se": "gamma12",
      "w,s": "gamma13",
      "nw,sw": "gamma14",
      "n,w": "gamma15",
      "ne,nw": "gamma16"
    };
    const key = `${blueEnd},${redEnd}`;
    return locationToPosition[key] || "alpha3";
  }
  /**
   * Normalize motion type to match letter mapping format
   */
  normalizeMotionType(motionType) {
    const normalized = motionType.toLowerCase();
    const motionMap = {
      "pro": "pro",
      "anti": "anti",
      "float": "float",
      "dash": "dash",
      "static": "static"
    };
    return motionMap[normalized] || normalized;
  }
  /**
   * Compare motion signature with letter mapping
   */
  compareMotionSignature(signature, mapping, letter) {
    const matchedParameters = [];
    const missingParameters = [];
    const coreParams = [
      { key: "startPosition", signatureKey: "startPosition" },
      { key: "endPosition", signatureKey: "endPosition" },
      { key: "blueMotion", signatureKey: "blueMotion" },
      { key: "redMotion", signatureKey: "redMotion" }
    ];
    for (const param of coreParams) {
      const mappingValue = mapping[param.key];
      const signatureValue = signature[param.signatureKey];
      if (mappingValue && signatureValue) {
        if (mappingValue.toLowerCase() === signatureValue.toLowerCase()) {
          matchedParameters.push(param.key);
        } else {
          missingParameters.push(`${param.key}: expected ${mappingValue}, got ${signatureValue}`);
        }
      } else if (mappingValue) {
        missingParameters.push(`${param.key}: missing in signature`);
      }
    }
    let confidence = "none";
    if (missingParameters.length === 0 && matchedParameters.length >= 4) {
      confidence = "exact";
    } else if (matchedParameters.length >= 2) {
      confidence = "partial";
    }
    return {
      letter: confidence !== "none" ? letter : null,
      confidence,
      matchedParameters,
      missingParameters
    };
  }
  /**
   * Get all available letters
   */
  getAvailableLetters() {
    return Object.keys(this.letterMappings);
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vdGlvbkxldHRlcklkZW50aWZpY2F0aW9uU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vdGlvbiBMZXR0ZXIgSWRlbnRpZmljYXRpb24gU2VydmljZVxuICogXG4gKiBSZXZlcnNlLWxvb2t1cCBUS0EgbGV0dGVycyBmcm9tIG1vdGlvbiBwYXJhbWV0ZXJzLlxuICogVGFrZXMgY3VycmVudCBtb3Rpb24gdGVzdGVyIHBhcmFtZXRlcnMgYW5kIGlkZW50aWZpZXMgdGhlIGNvcnJlc3BvbmRpbmcgVEtBIGxldHRlci5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE1vdGlvblRlc3RQYXJhbXMgfSBmcm9tIFwiLi9Nb3Rpb25QYXJhbWV0ZXJTZXJ2aWNlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGV0dGVySWRlbnRpZmljYXRpb25SZXN1bHQge1xuICBsZXR0ZXI6IHN0cmluZyB8IG51bGw7XG4gIGNvbmZpZGVuY2U6IFwiZXhhY3RcIiB8IFwicGFydGlhbFwiIHwgXCJub25lXCI7XG4gIG1hdGNoZWRQYXJhbWV0ZXJzOiBzdHJpbmdbXTtcbiAgbWlzc2luZ1BhcmFtZXRlcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElNb3Rpb25MZXR0ZXJJZGVudGlmaWNhdGlvblNlcnZpY2Uge1xuICBpZGVudGlmeUxldHRlcihcbiAgICBibHVlUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIHJlZFBhcmFtczogTW90aW9uVGVzdFBhcmFtcyxcbiAgICBncmlkVHlwZTogXCJkaWFtb25kXCIgfCBcImJveFwiXG4gICk6IExldHRlcklkZW50aWZpY2F0aW9uUmVzdWx0O1xuICBnZXRBdmFpbGFibGVMZXR0ZXJzKCk6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgTW90aW9uTGV0dGVySWRlbnRpZmljYXRpb25TZXJ2aWNlIGltcGxlbWVudHMgSU1vdGlvbkxldHRlcklkZW50aWZpY2F0aW9uU2VydmljZSB7XG4gIHByaXZhdGUgbGV0dGVyTWFwcGluZ3M6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplTGV0dGVyTWFwcGluZ3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGxldHRlciBtYXBwaW5ncyBmcm9tIHRoZSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVMZXR0ZXJNYXBwaW5ncygpIHtcbiAgICB0cnkge1xuICAgICAgLy8gTG9hZCBsZXR0ZXIgbWFwcGluZ3MgZnJvbSB0aGUgY29uZmlndXJhdGlvbiBmaWxlXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvY29uZmlnL2NvZGV4L2xldHRlci1tYXBwaW5ncy5qc29uJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgbGV0dGVyIG1hcHBpbmdzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHRoaXMubGV0dGVyTWFwcGluZ3MgPSBjb25maWcubGV0dGVycyB8fCB7fTtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTW90aW9uTGV0dGVySWRlbnRpZmljYXRpb25TZXJ2aWNlOiBMZXR0ZXIgbWFwcGluZ3MgbG9hZGVkJywge1xuICAgICAgICBsZXR0ZXJDb3VudDogT2JqZWN0LmtleXModGhpcy5sZXR0ZXJNYXBwaW5ncykubGVuZ3RoLFxuICAgICAgICBhdmFpbGFibGVMZXR0ZXJzOiBPYmplY3Qua2V5cyh0aGlzLmxldHRlck1hcHBpbmdzKS5zbGljZSgwLCAxMCkgLy8gU2hvdyBmaXJzdCAxMFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb3Rpb25MZXR0ZXJJZGVudGlmaWNhdGlvblNlcnZpY2U6IEZhaWxlZCB0byBsb2FkIGxldHRlciBtYXBwaW5nczonLCBlcnJvcik7XG4gICAgICB0aGlzLmxldHRlck1hcHBpbmdzID0ge307XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlOyAvLyBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IGluZmluaXRlIGxvYWRpbmdcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgdGhlIFRLQSBsZXR0ZXIgdGhhdCBtYXRjaGVzIHRoZSBjdXJyZW50IG1vdGlvbiBwYXJhbWV0ZXJzXG4gICAqL1xuICBpZGVudGlmeUxldHRlcihcbiAgICBibHVlUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIHJlZFBhcmFtczogTW90aW9uVGVzdFBhcmFtcyxcbiAgICBncmlkVHlwZTogXCJkaWFtb25kXCIgfCBcImJveFwiXG4gICk6IExldHRlcklkZW50aWZpY2F0aW9uUmVzdWx0IHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGV0dGVyOiBudWxsLFxuICAgICAgICBjb25maWRlbmNlOiBcIm5vbmVcIixcbiAgICAgICAgbWF0Y2hlZFBhcmFtZXRlcnM6IFtdLFxuICAgICAgICBtaXNzaW5nUGFyYW1ldGVyczogW1wiU2VydmljZSBub3QgaW5pdGlhbGl6ZWRcIl1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ/CflI0gW0xFVFRFUiBJRF0gSWRlbnRpZnlpbmcgbGV0dGVyIGZvciBtb3Rpb24gcGFyYW1ldGVyczonLCB7XG4gICAgICBibHVlOiBibHVlUGFyYW1zLFxuICAgICAgcmVkOiByZWRQYXJhbXMsXG4gICAgICBncmlkVHlwZVxuICAgIH0pO1xuXG4gICAgLy8gQ29udmVydCBtb3Rpb24gcGFyYW1ldGVycyB0byB0aGUgZm9ybWF0IHVzZWQgaW4gbGV0dGVyIG1hcHBpbmdzXG4gICAgY29uc3QgbW90aW9uU2lnbmF0dXJlID0gdGhpcy5jcmVhdGVNb3Rpb25TaWduYXR1cmUoYmx1ZVBhcmFtcywgcmVkUGFyYW1zLCBncmlkVHlwZSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gW0xFVFRFUiBJRF0gQ3JlYXRlZCBtb3Rpb24gc2lnbmF0dXJlOicsIG1vdGlvblNpZ25hdHVyZSk7XG5cbiAgICAvLyBGaW5kIG1hdGNoaW5nIGxldHRlclxuICAgIGxldCBiZXN0TWF0Y2g6IExldHRlcklkZW50aWZpY2F0aW9uUmVzdWx0ID0ge1xuICAgICAgbGV0dGVyOiBudWxsLFxuICAgICAgY29uZmlkZW5jZTogXCJub25lXCIsXG4gICAgICBtYXRjaGVkUGFyYW1ldGVyczogW10sXG4gICAgICBtaXNzaW5nUGFyYW1ldGVyczogW11cbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBbbGV0dGVyLCBtYXBwaW5nXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxldHRlck1hcHBpbmdzKSkge1xuICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSB0aGlzLmNvbXBhcmVNb3Rpb25TaWduYXR1cmUobW90aW9uU2lnbmF0dXJlLCBtYXBwaW5nLCBsZXR0ZXIpO1xuICAgICAgXG4gICAgICBpZiAobWF0Y2hSZXN1bHQuY29uZmlkZW5jZSA9PT0gXCJleGFjdFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgW0xFVFRFUiBJRF0gRXhhY3QgbWF0Y2ggZm91bmQ6ICR7bGV0dGVyfWApO1xuICAgICAgICByZXR1cm4gbWF0Y2hSZXN1bHQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChtYXRjaFJlc3VsdC5jb25maWRlbmNlID09PSBcInBhcnRpYWxcIiAmJiBiZXN0TWF0Y2guY29uZmlkZW5jZSAhPT0gXCJleGFjdFwiKSB7XG4gICAgICAgIGlmIChiZXN0TWF0Y2guY29uZmlkZW5jZSA9PT0gXCJub25lXCIgfHwgXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5tYXRjaGVkUGFyYW1ldGVycy5sZW5ndGggPiBiZXN0TWF0Y2gubWF0Y2hlZFBhcmFtZXRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgYmVzdE1hdGNoID0gbWF0Y2hSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmVzdE1hdGNoLmxldHRlcikge1xuICAgICAgY29uc29sZS5sb2coYPCflI0gW0xFVFRFUiBJRF0gQmVzdCBwYXJ0aWFsIG1hdGNoOiAke2Jlc3RNYXRjaC5sZXR0ZXJ9ICgke2Jlc3RNYXRjaC5tYXRjaGVkUGFyYW1ldGVycy5sZW5ndGh9IG1hdGNoZXMpYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgW0xFVFRFUiBJRF0gTm8gbWF0Y2hpbmcgbGV0dGVyIGZvdW5kJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RNYXRjaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtb3Rpb24gc2lnbmF0dXJlIGZyb20gbW90aW9uIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlTW90aW9uU2lnbmF0dXJlKFxuICAgIGJsdWVQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgcmVkUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIGdyaWRUeXBlOiBcImRpYW1vbmRcIiB8IFwiYm94XCJcbiAgKSB7XG4gICAgLy8gRGV0ZXJtaW5lIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIGJhc2VkIG9uIG1vdGlvbiBwYXJhbWV0ZXJzXG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZGV0ZXJtaW5lU3RhcnRQb3NpdGlvbihibHVlUGFyYW1zLCByZWRQYXJhbXMsIGdyaWRUeXBlKTtcbiAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHRoaXMuZGV0ZXJtaW5lRW5kUG9zaXRpb24oYmx1ZVBhcmFtcywgcmVkUGFyYW1zLCBncmlkVHlwZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnRQb3NpdGlvbixcbiAgICAgIGVuZFBvc2l0aW9uLFxuICAgICAgYmx1ZU1vdGlvbjogdGhpcy5ub3JtYWxpemVNb3Rpb25UeXBlKGJsdWVQYXJhbXMubW90aW9uVHlwZSksXG4gICAgICByZWRNb3Rpb246IHRoaXMubm9ybWFsaXplTW90aW9uVHlwZShyZWRQYXJhbXMubW90aW9uVHlwZSksXG4gICAgICBibHVlU3RhcnRMb2NhdGlvbjogYmx1ZVBhcmFtcy5zdGFydExvY2F0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICBibHVlRW5kTG9jYXRpb246IGJsdWVQYXJhbXMuZW5kTG9jYXRpb24udG9Mb3dlckNhc2UoKSxcbiAgICAgIHJlZFN0YXJ0TG9jYXRpb246IHJlZFBhcmFtcy5zdGFydExvY2F0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICByZWRFbmRMb2NhdGlvbjogcmVkUGFyYW1zLmVuZExvY2F0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICBibHVlU3RhcnRPcmllbnRhdGlvbjogYmx1ZVBhcmFtcy5zdGFydE9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICBibHVlRW5kT3JpZW50YXRpb246IGJsdWVQYXJhbXMuZW5kT3JpZW50YXRpb24udG9Mb3dlckNhc2UoKSxcbiAgICAgIHJlZFN0YXJ0T3JpZW50YXRpb246IHJlZFBhcmFtcy5zdGFydE9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICByZWRFbmRPcmllbnRhdGlvbjogcmVkUGFyYW1zLmVuZE9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgc3RhcnQgcG9zaXRpb24gYmFzZWQgb24gbW90aW9uIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgZGV0ZXJtaW5lU3RhcnRQb3NpdGlvbihcbiAgICBibHVlUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIHJlZFBhcmFtczogTW90aW9uVGVzdFBhcmFtcyxcbiAgICBncmlkVHlwZTogXCJkaWFtb25kXCIgfCBcImJveFwiXG4gICk6IHN0cmluZyB7XG4gICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgcG9zaXRpb24gZGV0ZXJtaW5hdGlvblxuICAgIC8vIEluIGEgZnVsbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCB1c2UgdGhlIHNhbWUgbG9naWMgYXMgdGhlIHBpY3RvZ3JhcGggZ2VuZXJhdGlvblxuICAgIGNvbnN0IGJsdWVTdGFydCA9IGJsdWVQYXJhbXMuc3RhcnRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHJlZFN0YXJ0ID0gcmVkUGFyYW1zLnN0YXJ0TG9jYXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICAvLyBNYXAgbG9jYXRpb24gY29tYmluYXRpb25zIHRvIHBvc2l0aW9uc1xuICAgIGNvbnN0IGxvY2F0aW9uVG9Qb3NpdGlvbjogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdzLG4nOiAnYWxwaGExJyxcbiAgICAgICdzdyxuZSc6ICdhbHBoYTInLFxuICAgICAgJ3csZSc6ICdhbHBoYTMnLFxuICAgICAgJ253LHNlJzogJ2FscGhhNCcsXG4gICAgICAnbixzJzogJ2FscGhhNScsXG4gICAgICAnbmUsc3cnOiAnYWxwaGE2JyxcbiAgICAgICdlLHcnOiAnYWxwaGE3JyxcbiAgICAgICdzZSxudyc6ICdhbHBoYTgnLFxuICAgICAgJ24sbic6ICdiZXRhMScsXG4gICAgICAnbmUsbmUnOiAnYmV0YTInLFxuICAgICAgJ2UsZSc6ICdiZXRhMycsXG4gICAgICAnc2Usc2UnOiAnYmV0YTQnLFxuICAgICAgJ3Mscyc6ICdiZXRhNScsXG4gICAgICAnc3csc3cnOiAnYmV0YTYnLFxuICAgICAgJ3csdyc6ICdiZXRhNycsXG4gICAgICAnbncsbncnOiAnYmV0YTgnLFxuICAgICAgJ3csbic6ICdnYW1tYTEnLFxuICAgICAgJ253LG5lJzogJ2dhbW1hMicsXG4gICAgICAnbixlJzogJ2dhbW1hMycsXG4gICAgICAnbmUsc2UnOiAnZ2FtbWE0JyxcbiAgICAgICdlLHMnOiAnZ2FtbWE1JyxcbiAgICAgICdzZSxzdyc6ICdnYW1tYTYnLFxuICAgICAgJ3Msdyc6ICdnYW1tYTcnLFxuICAgICAgJ3N3LG53JzogJ2dhbW1hOCcsXG4gICAgICAnZSxuJzogJ2dhbW1hOScsXG4gICAgICAnc2UsbmUnOiAnZ2FtbWExMCcsXG4gICAgICAncyxlJzogJ2dhbW1hMTEnLFxuICAgICAgJ3N3LHNlJzogJ2dhbW1hMTInLFxuICAgICAgJ3cscyc6ICdnYW1tYTEzJyxcbiAgICAgICdudyxzdyc6ICdnYW1tYTE0JyxcbiAgICAgICduLHcnOiAnZ2FtbWExNScsXG4gICAgICAnbmUsbncnOiAnZ2FtbWExNicsXG4gICAgfTtcblxuICAgIGNvbnN0IGtleSA9IGAke2JsdWVTdGFydH0sJHtyZWRTdGFydH1gO1xuICAgIHJldHVybiBsb2NhdGlvblRvUG9zaXRpb25ba2V5XSB8fCAnYWxwaGExJzsgLy8gRGVmYXVsdCBmYWxsYmFja1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBlbmQgcG9zaXRpb24gYmFzZWQgb24gbW90aW9uIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgZGV0ZXJtaW5lRW5kUG9zaXRpb24oXG4gICAgYmx1ZVBhcmFtczogTW90aW9uVGVzdFBhcmFtcyxcbiAgICByZWRQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgZ3JpZFR5cGU6IFwiZGlhbW9uZFwiIHwgXCJib3hcIlxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGJsdWVFbmQgPSBibHVlUGFyYW1zLmVuZExvY2F0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcmVkRW5kID0gcmVkUGFyYW1zLmVuZExvY2F0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgLy8gTWFwIGxvY2F0aW9uIGNvbWJpbmF0aW9ucyB0byBwb3NpdGlvbnNcbiAgICBjb25zdCBsb2NhdGlvblRvUG9zaXRpb246IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAncyxuJzogJ2FscGhhMScsXG4gICAgICAnc3csbmUnOiAnYWxwaGEyJyxcbiAgICAgICd3LGUnOiAnYWxwaGEzJyxcbiAgICAgICdudyxzZSc6ICdhbHBoYTQnLFxuICAgICAgJ24scyc6ICdhbHBoYTUnLFxuICAgICAgJ25lLHN3JzogJ2FscGhhNicsXG4gICAgICAnZSx3JzogJ2FscGhhNycsXG4gICAgICAnc2UsbncnOiAnYWxwaGE4JyxcbiAgICAgICduLG4nOiAnYmV0YTEnLFxuICAgICAgJ25lLG5lJzogJ2JldGEyJyxcbiAgICAgICdlLGUnOiAnYmV0YTMnLFxuICAgICAgJ3NlLHNlJzogJ2JldGE0JyxcbiAgICAgICdzLHMnOiAnYmV0YTUnLFxuICAgICAgJ3N3LHN3JzogJ2JldGE2JyxcbiAgICAgICd3LHcnOiAnYmV0YTcnLFxuICAgICAgJ253LG53JzogJ2JldGE4JyxcbiAgICAgICd3LG4nOiAnZ2FtbWExJyxcbiAgICAgICdudyxuZSc6ICdnYW1tYTInLFxuICAgICAgJ24sZSc6ICdnYW1tYTMnLFxuICAgICAgJ25lLHNlJzogJ2dhbW1hNCcsXG4gICAgICAnZSxzJzogJ2dhbW1hNScsXG4gICAgICAnc2Usc3cnOiAnZ2FtbWE2JyxcbiAgICAgICdzLHcnOiAnZ2FtbWE3JyxcbiAgICAgICdzdyxudyc6ICdnYW1tYTgnLFxuICAgICAgJ2Usbic6ICdnYW1tYTknLFxuICAgICAgJ3NlLG5lJzogJ2dhbW1hMTAnLFxuICAgICAgJ3MsZSc6ICdnYW1tYTExJyxcbiAgICAgICdzdyxzZSc6ICdnYW1tYTEyJyxcbiAgICAgICd3LHMnOiAnZ2FtbWExMycsXG4gICAgICAnbncsc3cnOiAnZ2FtbWExNCcsXG4gICAgICAnbix3JzogJ2dhbW1hMTUnLFxuICAgICAgJ25lLG53JzogJ2dhbW1hMTYnLFxuICAgIH07XG5cbiAgICBjb25zdCBrZXkgPSBgJHtibHVlRW5kfSwke3JlZEVuZH1gO1xuICAgIHJldHVybiBsb2NhdGlvblRvUG9zaXRpb25ba2V5XSB8fCAnYWxwaGEzJzsgLy8gRGVmYXVsdCBmYWxsYmFja1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBtb3Rpb24gdHlwZSB0byBtYXRjaCBsZXR0ZXIgbWFwcGluZyBmb3JtYXRcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplTW90aW9uVHlwZShtb3Rpb25UeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBtb3Rpb25UeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gTWFwIG1vdGlvbiB0eXBlcyB0byBsZXR0ZXIgbWFwcGluZyBmb3JtYXRcbiAgICBjb25zdCBtb3Rpb25NYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAncHJvJzogJ3BybycsXG4gICAgICAnYW50aSc6ICdhbnRpJywgXG4gICAgICAnZmxvYXQnOiAnZmxvYXQnLFxuICAgICAgJ2Rhc2gnOiAnZGFzaCcsXG4gICAgICAnc3RhdGljJzogJ3N0YXRpYydcbiAgICB9O1xuICAgIHJldHVybiBtb3Rpb25NYXBbbm9ybWFsaXplZF0gfHwgbm9ybWFsaXplZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlIG1vdGlvbiBzaWduYXR1cmUgd2l0aCBsZXR0ZXIgbWFwcGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBjb21wYXJlTW90aW9uU2lnbmF0dXJlKFxuICAgIHNpZ25hdHVyZTogYW55LFxuICAgIG1hcHBpbmc6IGFueSxcbiAgICBsZXR0ZXI6IHN0cmluZ1xuICApOiBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgbWF0Y2hlZFBhcmFtZXRlcnM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbWlzc2luZ1BhcmFtZXRlcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBDaGVjayBjb3JlIHBhcmFtZXRlcnNcbiAgICBjb25zdCBjb3JlUGFyYW1zID0gW1xuICAgICAgeyBrZXk6ICdzdGFydFBvc2l0aW9uJywgc2lnbmF0dXJlS2V5OiAnc3RhcnRQb3NpdGlvbicgfSxcbiAgICAgIHsga2V5OiAnZW5kUG9zaXRpb24nLCBzaWduYXR1cmVLZXk6ICdlbmRQb3NpdGlvbicgfSxcbiAgICAgIHsga2V5OiAnYmx1ZU1vdGlvbicsIHNpZ25hdHVyZUtleTogJ2JsdWVNb3Rpb24nIH0sXG4gICAgICB7IGtleTogJ3JlZE1vdGlvbicsIHNpZ25hdHVyZUtleTogJ3JlZE1vdGlvbicgfVxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIGNvcmVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IG1hcHBpbmdWYWx1ZSA9IG1hcHBpbmdbcGFyYW0ua2V5XTtcbiAgICAgIGNvbnN0IHNpZ25hdHVyZVZhbHVlID0gc2lnbmF0dXJlW3BhcmFtLnNpZ25hdHVyZUtleV07XG4gICAgICBcbiAgICAgIGlmIChtYXBwaW5nVmFsdWUgJiYgc2lnbmF0dXJlVmFsdWUpIHtcbiAgICAgICAgaWYgKG1hcHBpbmdWYWx1ZS50b0xvd2VyQ2FzZSgpID09PSBzaWduYXR1cmVWYWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgbWF0Y2hlZFBhcmFtZXRlcnMucHVzaChwYXJhbS5rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3NpbmdQYXJhbWV0ZXJzLnB1c2goYCR7cGFyYW0ua2V5fTogZXhwZWN0ZWQgJHttYXBwaW5nVmFsdWV9LCBnb3QgJHtzaWduYXR1cmVWYWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nVmFsdWUpIHtcbiAgICAgICAgbWlzc2luZ1BhcmFtZXRlcnMucHVzaChgJHtwYXJhbS5rZXl9OiBtaXNzaW5nIGluIHNpZ25hdHVyZWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERldGVybWluZSBjb25maWRlbmNlXG4gICAgbGV0IGNvbmZpZGVuY2U6IFwiZXhhY3RcIiB8IFwicGFydGlhbFwiIHwgXCJub25lXCIgPSBcIm5vbmVcIjtcbiAgICBcbiAgICBpZiAobWlzc2luZ1BhcmFtZXRlcnMubGVuZ3RoID09PSAwICYmIG1hdGNoZWRQYXJhbWV0ZXJzLmxlbmd0aCA+PSA0KSB7XG4gICAgICBjb25maWRlbmNlID0gXCJleGFjdFwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hlZFBhcmFtZXRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbmZpZGVuY2UgPSBcInBhcnRpYWxcIjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGV0dGVyOiBjb25maWRlbmNlICE9PSBcIm5vbmVcIiA/IGxldHRlciA6IG51bGwsXG4gICAgICBjb25maWRlbmNlLFxuICAgICAgbWF0Y2hlZFBhcmFtZXRlcnMsXG4gICAgICBtaXNzaW5nUGFyYW1ldGVyc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgbGV0dGVyc1xuICAgKi9cbiAgZ2V0QXZhaWxhYmxlTGV0dGVycygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGV0dGVyTWFwcGluZ3MpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQXlCTyxhQUFNLGtDQUFnRjtBQUFBLEVBQ25GLGlCQUFzQyxDQUFDO0FBQUEsRUFDdkMsZ0JBQWdCO0FBQUEsRUFFeEIsY0FBYztBQUNaLFNBQUsseUJBQXlCO0FBQUEsRUFDaEM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQWMsMkJBQTJCO0FBQ3ZDLFFBQUk7QUFFRixZQUFNLFdBQVcsTUFBTSxNQUFNLG9DQUFvQztBQUNqRSxVQUFJLENBQUMsU0FBUyxJQUFJO0FBQ2hCLGNBQU0sSUFBSSxNQUFNLG1DQUFtQyxTQUFTLFVBQVUsRUFBRTtBQUFBLE1BQzFFO0FBRUEsWUFBTSxTQUFTLE1BQU0sU0FBUyxLQUFLO0FBQ25DLFdBQUssaUJBQWlCLE9BQU8sV0FBVyxDQUFDO0FBQ3pDLFdBQUssZ0JBQWdCO0FBRXJCLGNBQVEsSUFBSSwrREFBK0Q7QUFBQSxRQUN6RSxhQUFhLE9BQU8sS0FBSyxLQUFL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