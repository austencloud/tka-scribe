import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/pictograph/Pictograph.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=de368f3a";

Pictograph[$.FILENAME] = 'src/lib/components/pictograph/Pictograph.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=de368f3a";
import { onMount } from "/node_modules/.vite/deps/svelte.js?v=de368f3a";
import PictographSvg from "/src/lib/components/pictograph/PictographSvg.svelte";
import { usePictographData, useComponentLoading, useArrowPositioning } from "/src/lib/components/pictograph/hooks/index.ts";

var root = $.add_locations($.from_html(`<div><!></div>`), Pictograph[$.FILENAME], [[102, 0]]);

function Pictograph($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, Pictograph);

	let pictographData = $.prop($$props, 'pictographData', 3, null),
		debug = $.prop($$props, 'debug', 3, false),
		width = $.prop($$props, 'width', 19, () => void 0),
		height = $.prop($$props, 'height', 19, () => void 0);

	const dataState = usePictographData({ pictographData: pictographData() });

	const loadingFactory = useComponentLoading({
		pictographData: dataState.effectivePictographData,
		debug: debug()
	});

	const arrowFactory = useArrowPositioning({ pictographData: dataState.effectivePictographData });
	let errorMessage = $.tag($.state(null), 'errorMessage');
	let loadedComponents = $.tag_proxy($.proxy(/* @__PURE__ */ new Set()), 'loadedComponents');
	let arrowPositions = $.tag($.state($.proxy({})), 'arrowPositions');
	let arrowMirroring = $.tag($.state($.proxy({})), 'arrowMirroring');
	let showArrows = $.tag($.state(false), 'showArrows');

	const requiredComponents = $.tag(
		$.derived(() => () => {
			return loadingFactory.getRequiredComponents(dataState.effectivePictographData);
		}),
		'requiredComponents'
	);

	const allComponentsLoaded = $.tag(
		$.derived(() => () => {
			return $.get(requiredComponents)().every((component) => loadedComponents.has(component));
		}),
		'allComponentsLoaded'
	);

	const isLoading = $.tag($.derived(() => () => !$.get(allComponentsLoaded)()), 'isLoading');
	const isLoaded = $.tag($.derived(() => () => $.get(allComponentsLoaded)()), 'isLoaded');

	function handleComponentLoaded(componentName) {
		loadedComponents.add(componentName);

		if (debug()) {
			console.log(...$.log_if_contains_state('log', `Component loaded: ${componentName}`, {
				loaded: loadedComponents.size,
				required: $.get(requiredComponents)().length
			}));
		}
	}

	function handleComponentError(componentName, error) {
		$.set(errorMessage, `${componentName}: ${error}`);

		if (debug()) {
			console.error(...$.log_if_contains_state('error', `Component error: ${componentName}`, error));
		}

		handleComponentLoaded(componentName);
	}

	function handleSvgClick() {
		$$props.onClick?.();
	}

	function handleKeyDown(event) {
		if ($.strict_equals(event.key, "Enter") || $.strict_equals(event.key, " ")) {
			event.preventDefault();
			$$props.onClick?.();
		}
	}

	$.user_effect(() => {
		if (dataState.effectivePictographData) {
			$.set(errorMessage, null);
			loadedComponents.clear();
			$.set(showArrows, false);
		}
	});

	onMount(async () => {
		const result = (await $.track_reactivity_loss(arrowFactory.calculateArrowPositions(dataState.effectivePictographData)))();

		$.set(arrowPositions, result.positions, true);
		$.set(arrowMirroring, result.mirroring, true);
		$.set(showArrows, result.showArrows, true);
	});

	const isResponsive = $.tag($.derived(() => $.strict_equals(width(), void 0) && $.strict_equals(height(), void 0)), 'isResponsive');
	const viewBox = $.tag($.derived(() => `0 0 950 950`), 'viewBox');
	var div = root();
	let classes;
	let styles;
	var node = $.child(div);

	{
		let $0 = $.derived(() => $.get(isResponsive) ? "100%" : width() || 144);
		let $1 = $.derived(() => $.get(isResponsive) ? "100%" : height() || 144);
		let $2 = $.derived(() => dataState.hasValidData ? "Pictograph" : "Empty Pictograph");

		$.add_svelte_meta(
			() => PictographSvg(node, {
				get pictographData() {
					return dataState.effectivePictographData;
				},

				get hasValidData() {
					return dataState.hasValidData;
				},

				get displayLetter() {
					return dataState.displayLetter;
				},

				get arrowsToRender() {
					return dataState.arrowsToRender;
				},

				get propsToRender() {
					return dataState.propsToRender;
				},

				get debug() {
					return debug();
				},

				get width() {
					return $.get($0);
				},

				get height() {
					return $.get($1);
				},

				viewBox: $.get(viewBox),

				get arrowPositions() {
					return $.get(arrowPositions);
				},

				get arrowMirroring() {
					return $.get(arrowMirroring);
				},

				get showArrows() {
					return $.get(showArrows);
				},

				onSvgClick: handleSvgClick,
				onKeyDown: handleKeyDown,
				onComponentLoaded: handleComponentLoaded,
				onComponentError: handleComponentError,

				get onClick() {
					return $$props.onClick;
				},

				get ariaLabel() {
					return $.get($2);
				}
			}),
			'component',
			Pictograph,
			113,
			2,
			{ componentTag: 'PictographSvg' }
		);
	}

	$.reset(div);

	$.template_effect(
		($0, $1) => {
			classes = $.set_class(div, 1, 'pictograph s-UJ7Ym6CuEIYC', null, classes, $0);
			styles = $.set_style(div, '', styles, $1);
		},
		[
			() => ({
				loading: $.get(isLoading),
				loaded: $.get(isLoaded),
				'has-error': $.get(errorMessage),
				clickable: $$props.onClick,
				'debug-mode': debug(),
				responsive: $.get(isResponsive)
			}),

			() => ({
				width: $.get(isResponsive) ? "100%" : `${width()}px`,
				height: $.get(isResponsive) ? "100%" : `${height()}px`
			})
		]
	);

	$.append($$anchor, div);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	Pictograph = $.hmr(Pictograph, () => Pictograph[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-UJ7Ym6CuEIYC');
		module.default[$.HMR].source = Pictograph[$.HMR].source;
		$.set(Pictograph[$.HMR].source, module.default[$.HMR].original);
	});
}

export default Pictograph;
import "/src/lib/components/pictograph/Pictograph.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7U0FtQkU7T0FDRTtTQWtCRSxtQkFDRixxQkFDQSwyQkFDQTs7Ozt1Q0F6Q0osQ0FBQzs7OztLQTJFSyxzREFBaUI7RUFJakI7RUFHSixnREFBTTtFQUNKLGtEQUFPOztPQVNSLGdDQUVEOztPQVNNLGlCQUFPO0VBQ1QsZ0JBQVk7RUFBc0M7OztPQUt0RCxxQ0FFQSxnQkFBUyxVQUFxQjtLQVU1Qiw2QkFBVTtLQUNaO0tBSUk7S0FHSjtLQU9BLDJCQUFjOztPQUdWO3dCQUF1QjtVQUN2QixlQUFhLHNCQUNmO0VBSUY7Ozs7T0FFSTt3QkFBVTtnQkFDWiwyQ0FDQSxpQkFBaUIsSUFBTztFQUV4Qjs7OztPQVFJLCtDQUF3QjtPQUd4Qiw2Q0FBbUI7O1VBTXZCO0VBQ0YsaUJBQWtCOztNQUNaLFNBQU87R0FDYixRQUFZLDJEQUFXO0lBQ2pCLFFBQUksaUJBQW9CO0lBQ3hCLGdCQUFVLHNCQUFTOztFQUV6QjtDQUNBOztVQUVEO1FBQ0UsaUJBQWE7O01BQ1o7R0FDQSxzRUFBb0MsYUFBQztFQUNyQzs7RUFFQSxzQkFBZSxhQUFVO0NBQzdCOztVQUVXLGlCQUFpQjs7Q0FFNUI7O1VBRUssY0FBVztzQkFDWixNQUFVLEtBQUUsNEJBQWU7R0FDM0I7O0VBRUE7Q0FDSjs7Q0FPQSxvQkFBZ0I7TUFDVDtTQUNKLGNBQVk7R0FDWCxpQkFBbUI7U0FDbkIsWUFBZTtFQUNmO0NBQ0o7O0NBR0E7UUFDRyx3Q0FBc0IsYUFBQyx3QkFDdEIsVUFBWTs7UUFFWixnQkFBZTtRQUNoQjtRQUNIO0NBQ0UsQ0FBQzs7T0FPQyxxREFBNEI7T0FHN0I7Ozs7Ozs7aUNBd0JIO2lDQUNZLFlBQVE7MkJBVWpCOzs7OztZQWpCSDs7OztZQUNlLFNBQVksYUFBVTs7OztZQUMxQixTQUFpQixDQUFDLGFBQUU7Ozs7WUFDZDs7OztZQUNGLFNBQVMsY0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBUWpCLGNBQUc7ZUFDZDt1QkFDSztzQkFDUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21CQXpCTCxTQUFZO2tCQUNWLFFBQUc7dUJBQ0QsWUFBSTs7a0JBRXRCO3NCQUNvQixZQUFROzs7O2lCQUNmLFlBQUs7a0JBQ0YsWUFBVTs7Ozs7Ozs7Q0FkMUIiLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlBpY3RvZ3JhcGguc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjwhLS1cclxuUGljdG9ncmFwaC5zdmVsdGUgLSBNb2Rlcm4gUnVuZS1CYXNlZCBQaWN0b2dyYXBoIENvbXBvbmVudCAoUmVmYWN0b3JlZClcclxuXHJcblRoaXMgaXMgdGhlIHJlZmFjdG9yZWQgdmVyc2lvbiBvZiB0aGUgUGljdG9ncmFwaCBjb21wb25lbnQsIGJyb2tlbiBkb3duIGludG8gbG9naWNhbCxcclxuZWFzeS10by11bmRlcnN0YW5kIHBhcnRzIHVzaW5nIGZvY3VzZWQgaG9va3MgYW5kIGNvbXBvbmVudHMgZm9yIGRpZmZlcmVudCBjb25jZXJucy5cclxuXHJcbkFSQ0hJVEVDVFVSRTpcclxuLSB1c2VQaWN0b2dyYXBoRGF0YTogSGFuZGxlcyBkYXRhIHRyYW5zZm9ybWF0aW9uIGFuZCBkZXJpdmF0aW9uXHJcbi0gdXNlQ29tcG9uZW50TG9hZGluZzogTWFuYWdlcyBjb21wb25lbnQgbG9hZGluZyBzdGF0ZSBjb29yZGluYXRpb25cclxuLSB1c2VBcnJvd1Bvc2l0aW9uaW5nOiBDb29yZGluYXRlcyBhcnJvdyBwb3NpdGlvbmluZ1xyXG4tIFBpY3RvZ3JhcGhTdmc6IEhhbmRsZXMgU1ZHIHJlbmRlcmluZ1xyXG4tIE1haW4gY29tcG9uZW50OiBGb2N1c2VzIG9uIHN0YXRlIG1hbmFnZW1lbnQgYW5kIGxheW91dFxyXG4tLT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICBpbXBvcnQgdHlwZSB7IEJlYXREYXRhLCBQaWN0b2dyYXBoRGF0YSB9IGZyb20gXCIkbGliL2RvbWFpblwiO1xyXG4gIGltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XHJcbiAgaW1wb3J0IFBpY3RvZ3JhcGhTdmcgZnJvbSBcIi4vUGljdG9ncmFwaFN2Zy5zdmVsdGVcIjtcclxuXHJcbiAgLy8gSW1wb3J0IG91ciBmb2N1c2VkIGhvb2tzXHJcbiAgaW1wb3J0IHtcclxuICAgIHVzZVBpY3RvZ3JhcGhEYXRhLFxyXG4gICAgdXNlQ29tcG9uZW50TG9hZGluZyxcclxuICAgIHVzZUFycm93UG9zaXRpb25pbmcsXHJcbiAgfSBmcm9tIFwiLi9ob29rc1wiO1xyXG5cclxuICAvLyBTaW1wbGlmaWVkIFByb3BzIGludGVyZmFjZSAtIHJlbW92ZWQgYmVhdC1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgaW50ZXJmYWNlIFByb3BzIHtcclxuICAgIC8qKiBQaWN0b2dyYXBoIGRhdGEgdG8gcmVuZGVyICovXHJcbiAgICBwaWN0b2dyYXBoRGF0YT86IFBpY3RvZ3JhcGhEYXRhIHwgbnVsbDtcclxuICAgIC8qKiBDbGljayBoYW5kbGVyICovXHJcbiAgICBvbkNsaWNrPzogKCkgPT4gdm9pZDtcclxuICAgIC8qKiBEZWJ1ZyBtb2RlICovXHJcbiAgICBkZWJ1Zz86IGJvb2xlYW47XHJcbiAgICAvKiogU1ZHIGRpbWVuc2lvbnMgKi9cclxuICAgIHdpZHRoPzogbnVtYmVyO1xyXG4gICAgaGVpZ2h0PzogbnVtYmVyO1xyXG4gIH1cclxuXHJcbiAgbGV0IHtcclxuICAgIHBpY3RvZ3JhcGhEYXRhID0gbnVsbCxcclxuICAgIG9uQ2xpY2ssXHJcbiAgICBkZWJ1ZyA9IGZhbHNlLFxyXG4gICAgd2lkdGggPSB1bmRlZmluZWQsXHJcbiAgICBoZWlnaHQgPSB1bmRlZmluZWQsXHJcbiAgfTogUHJvcHMgPSAkcHJvcHMoKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBIT09LLUJBU0VEIFNUQVRFIE1BTkFHRU1FTlRcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvLyBEYXRhIHRyYW5zZm9ybWF0aW9uIGFuZCBkZXJpdmF0aW9uXHJcbiAgY29uc3QgZGF0YVN0YXRlID0gdXNlUGljdG9ncmFwaERhdGEoe1xyXG4gICAgcGljdG9ncmFwaERhdGEsXHJcbiAgfSk7XHJcblxyXG4gIC8vIENvbXBvbmVudCBsb2FkaW5nIG1hbmFnZW1lbnQgZmFjdG9yeVxyXG4gIGNvbnN0IGxvYWRpbmdGYWN0b3J5ID0gdXNlQ29tcG9uZW50TG9hZGluZyh7XHJcbiAgICBwaWN0b2dyYXBoRGF0YTogZGF0YVN0YXRlLmVmZmVjdGl2ZVBpY3RvZ3JhcGhEYXRhLFxyXG4gICAgZGVidWcsXHJcbiAgfSk7XHJcblxyXG4gIC8vIEFycm93IHBvc2l0aW9uaW5nIGZhY3RvcnlcclxuICBjb25zdCBhcnJvd0ZhY3RvcnkgPSB1c2VBcnJvd1Bvc2l0aW9uaW5nKHtcclxuICAgIHBpY3RvZ3JhcGhEYXRhOiBkYXRhU3RhdGUuZWZmZWN0aXZlUGljdG9ncmFwaERhdGEsXHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gUkVBQ1RJVkUgU1RBVEUgKHVzaW5nIFN2ZWx0ZSBydW5lcylcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvLyBDb21wb25lbnQgbG9hZGluZyBzdGF0ZVxyXG4gIGxldCBlcnJvck1lc3NhZ2UgPSAkc3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgbGV0IGxvYWRlZENvbXBvbmVudHMgPSAkc3RhdGUobmV3IFNldDxzdHJpbmc+KCkpO1xyXG5cclxuICAvLyBBcnJvdyBwb3NpdGlvbmluZyBzdGF0ZVxyXG4gIGxldCBhcnJvd1Bvc2l0aW9ucyA9ICRzdGF0ZTxcclxuICAgIFJlY29yZDxzdHJpbmcsIHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IHJvdGF0aW9uOiBudW1iZXIgfT5cclxuICA+KHt9KTtcclxuICBsZXQgYXJyb3dNaXJyb3JpbmcgPSAkc3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcclxuICBsZXQgc2hvd0Fycm93cyA9ICRzdGF0ZShmYWxzZSk7XHJcblxyXG4gIC8vIERlcml2ZWQgc3RhdGVzXHJcbiAgY29uc3QgcmVxdWlyZWRDb21wb25lbnRzID0gJGRlcml2ZWQoKCkgPT4ge1xyXG4gICAgcmV0dXJuIGxvYWRpbmdGYWN0b3J5LmdldFJlcXVpcmVkQ29tcG9uZW50cyhcclxuICAgICAgZGF0YVN0YXRlLmVmZmVjdGl2ZVBpY3RvZ3JhcGhEYXRhXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhbGxDb21wb25lbnRzTG9hZGVkID0gJGRlcml2ZWQoKCkgPT4ge1xyXG4gICAgcmV0dXJuIHJlcXVpcmVkQ29tcG9uZW50cygpLmV2ZXJ5KChjb21wb25lbnQ6IHN0cmluZykgPT5cclxuICAgICAgbG9hZGVkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaXNMb2FkaW5nID0gJGRlcml2ZWQoKCkgPT4gIWFsbENvbXBvbmVudHNMb2FkZWQoKSk7XHJcbiAgY29uc3QgaXNMb2FkZWQgPSAkZGVyaXZlZCgoKSA9PiBhbGxDb21wb25lbnRzTG9hZGVkKCkpO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEVWRU5UIEhBTkRMRVJTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQ29tcG9uZW50TG9hZGVkKGNvbXBvbmVudE5hbWU6IHN0cmluZykge1xyXG4gICAgbG9hZGVkQ29tcG9uZW50cy5hZGQoY29tcG9uZW50TmFtZSk7XHJcbiAgICBpZiAoZGVidWcpIHtcclxuICAgICAgY29uc29sZS5sb2coYENvbXBvbmVudCBsb2FkZWQ6ICR7Y29tcG9uZW50TmFtZX1gLCB7XHJcbiAgICAgICAgbG9hZGVkOiBsb2FkZWRDb21wb25lbnRzLnNpemUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkQ29tcG9uZW50cygpLmxlbmd0aCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVDb21wb25lbnRFcnJvcihjb21wb25lbnROYW1lOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcpIHtcclxuICAgIGVycm9yTWVzc2FnZSA9IGAke2NvbXBvbmVudE5hbWV9OiAke2Vycm9yfWA7XHJcbiAgICBpZiAoZGVidWcpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgQ29tcG9uZW50IGVycm9yOiAke2NvbXBvbmVudE5hbWV9YCwgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8gU3RpbGwgbWFyayBhcyBsb2FkZWQgdG8gcHJldmVudCBibG9ja2luZ1xyXG4gICAgaGFuZGxlQ29tcG9uZW50TG9hZGVkKGNvbXBvbmVudE5hbWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlU3ZnQ2xpY2soKSB7XHJcbiAgICBvbkNsaWNrPy4oKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldmVudC5rZXkgPT09IFwiIFwiKSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIG9uQ2xpY2s/LigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBMSUZFQ1lDTEUgJiBFRkZFQ1RTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLy8gQ2xlYXIgbG9hZGluZyBzdGF0ZSB3aGVuIGRhdGEgY2hhbmdlc1xyXG4gICRlZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGRhdGFTdGF0ZS5lZmZlY3RpdmVQaWN0b2dyYXBoRGF0YSkge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICBsb2FkZWRDb21wb25lbnRzLmNsZWFyKCk7XHJcbiAgICAgIHNob3dBcnJvd3MgPSBmYWxzZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGFycm93IHBvc2l0aW9ucyB3aGVuIGNvbXBvbmVudCBtb3VudHNcclxuICBvbk1vdW50KGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFycm93RmFjdG9yeS5jYWxjdWxhdGVBcnJvd1Bvc2l0aW9ucyhcclxuICAgICAgZGF0YVN0YXRlLmVmZmVjdGl2ZVBpY3RvZ3JhcGhEYXRhXHJcbiAgICApO1xyXG4gICAgYXJyb3dQb3NpdGlvbnMgPSByZXN1bHQucG9zaXRpb25zO1xyXG4gICAgYXJyb3dNaXJyb3JpbmcgPSByZXN1bHQubWlycm9yaW5nO1xyXG4gICAgc2hvd0Fycm93cyA9IHJlc3VsdC5zaG93QXJyb3dzO1xyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFVJIFNUQVRFXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCB1c2UgcmVzcG9uc2l2ZSBzaXppbmdcclxuICBjb25zdCBpc1Jlc3BvbnNpdmUgPSAkZGVyaXZlZCh3aWR0aCA9PT0gdW5kZWZpbmVkICYmIGhlaWdodCA9PT0gdW5kZWZpbmVkKTtcclxuXHJcbiAgLy8gU1ZHIHZpZXdCb3ggY2FsY3VsYXRpb25cclxuICBjb25zdCB2aWV3Qm94ID0gJGRlcml2ZWQoYDAgMCA5NTAgOTUwYCk7XHJcbjwvc2NyaXB0PlxyXG5cclxuPCEtLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgIE1BSU4gQ09OVEFJTkVSXHJcbiAgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLS0+XHJcbjxkaXZcclxuICBjbGFzcz1cInBpY3RvZ3JhcGhcIlxyXG4gIGNsYXNzOmxvYWRpbmc9e2lzTG9hZGluZ31cclxuICBjbGFzczpsb2FkZWQ9e2lzTG9hZGVkfVxyXG4gIGNsYXNzOmhhcy1lcnJvcj17ZXJyb3JNZXNzYWdlfVxyXG4gIGNsYXNzOmNsaWNrYWJsZT17b25DbGlja31cclxuICBjbGFzczpkZWJ1Zy1tb2RlPXtkZWJ1Z31cclxuICBjbGFzczpyZXNwb25zaXZlPXtpc1Jlc3BvbnNpdmV9XHJcbiAgc3R5bGU6d2lkdGg9e2lzUmVzcG9uc2l2ZSA/IFwiMTAwJVwiIDogYCR7d2lkdGh9cHhgfVxyXG4gIHN0eWxlOmhlaWdodD17aXNSZXNwb25zaXZlID8gXCIxMDAlXCIgOiBgJHtoZWlnaHR9cHhgfVxyXG4+XHJcbiAgPFBpY3RvZ3JhcGhTdmdcclxuICAgIHBpY3RvZ3JhcGhEYXRhPXtkYXRhU3RhdGUuZWZmZWN0aXZlUGljdG9ncmFwaERhdGF9XHJcbiAgICBoYXNWYWxpZERhdGE9e2RhdGFTdGF0ZS5oYXNWYWxpZERhdGF9XHJcbiAgICBkaXNwbGF5TGV0dGVyPXtkYXRhU3RhdGUuZGlzcGxheUxldHRlcn1cclxuICAgIGFycm93c1RvUmVuZGVyPXtkYXRhU3RhdGUuYXJyb3dzVG9SZW5kZXJ9XHJcbiAgICBwcm9wc1RvUmVuZGVyPXtkYXRhU3RhdGUucHJvcHNUb1JlbmRlcn1cclxuICAgIHtkZWJ1Z31cclxuICAgIHdpZHRoPXtpc1Jlc3BvbnNpdmUgPyBcIjEwMCVcIiA6IHdpZHRoIHx8IDE0NH1cclxuICAgIGhlaWdodD17aXNSZXNwb25zaXZlID8gXCIxMDAlXCIgOiBoZWlnaHQgfHwgMTQ0fVxyXG4gICAge3ZpZXdCb3h9XHJcbiAgICB7YXJyb3dQb3NpdGlvbnN9XHJcbiAgICB7YXJyb3dNaXJyb3Jpbmd9XHJcbiAgICB7c2hvd0Fycm93c31cclxuICAgIG9uU3ZnQ2xpY2s9e2hhbmRsZVN2Z0NsaWNrfVxyXG4gICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxyXG4gICAgb25Db21wb25lbnRMb2FkZWQ9e2hhbmRsZUNvbXBvbmVudExvYWRlZH1cclxuICAgIG9uQ29tcG9uZW50RXJyb3I9e2hhbmRsZUNvbXBvbmVudEVycm9yfVxyXG4gICAge29uQ2xpY2t9XHJcbiAgICBhcmlhTGFiZWw9e2RhdGFTdGF0ZS5oYXNWYWxpZERhdGEgPyBcIlBpY3RvZ3JhcGhcIiA6IFwiRW1wdHkgUGljdG9ncmFwaFwifVxyXG4gIC8+XHJcbjwvZGl2PlxyXG5cclxuPCEtLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgIFNUWUxFUyAodXBkYXRlZCBmb3IgY29udGFpbmVyLW9ubHkgc3R5bGVzKVxyXG4gICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC0tPlxyXG48c3R5bGU+XHJcbiAgLnBpY3RvZ3JhcGgge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjtcclxuICB9XHJcblxyXG4gIC5waWN0b2dyYXBoLnJlc3BvbnNpdmUge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG5cclxuICAucGljdG9ncmFwaC5jbGlja2FibGUge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLnBpY3RvZ3JhcGguY2xpY2thYmxlOmhvdmVyIHtcclxuICAgIGJvcmRlci1jb2xvcjogIzNiODJmNjtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSg1OSwgMTMwLCAyNDYsIDAuMTUpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG4gIH1cclxuXHJcbiAgLnBpY3RvZ3JhcGgubG9hZGluZyB7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbiAgfVxyXG5cclxuICAucGljdG9ncmFwaC5oYXMtZXJyb3Ige1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZWY0NDQ0O1xyXG4gIH1cclxuXHJcbiAgLnBpY3RvZ3JhcGguZGVidWctbW9kZSB7XHJcbiAgICBib3JkZXItY29sb3I6ICM4YjVjZjY7XHJcbiAgICBib3JkZXItd2lkdGg6IDJweDtcclxuICB9XHJcblxyXG4gIC5waWN0b2dyYXBoOmZvY3VzLXdpdGhpbiB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjM2I4MmY2O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjIpO1xyXG4gIH1cclxuXHJcbiAgLyogQW5pbWF0aW9uIGNsYXNzZXMgZm9yIGNvbXBvbmVudCBsb2FkaW5nICovXHJcbiAgOmdsb2JhbCguY29tcG9uZW50LWxvYWRpbmcpIHtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIGFuaW1hdGlvbjogcHVsc2UgMXMgaW5maW5pdGU7XHJcbiAgfVxyXG5cclxuICBAa2V5ZnJhbWVzIHB1bHNlIHtcclxuICAgIDAlIHtcclxuICAgICAgb3BhY2l0eTogMC41O1xyXG4gICAgfVxyXG4gICAgNTAlIHtcclxuICAgICAgb3BhY2l0eTogMC44O1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIH1cclxuICB9XHJcbjwvc3R5bGU+XHJcbiJdLCJmaWxlIjoiRjovQ09ERS9US0Evd2ViL3NyYy9saWIvY29tcG9uZW50cy9waWN0b2dyYXBoL1BpY3RvZ3JhcGguc3ZlbHRlIn0=