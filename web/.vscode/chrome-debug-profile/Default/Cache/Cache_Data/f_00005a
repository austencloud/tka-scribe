import { Location } from "/src/lib/domain/index.ts";
import { ArrowQuadrantCalculator } from "/src/lib/services/positioning/arrows/orchestration/ArrowQuadrantCalculator.ts";
export class DirectionalTupleCalculator {
  /**
   * Calculator for directional tuples used in arrow positioning.
   */
  calculateDirectionalTuple(_motion, _location) {
    return [0, 0];
  }
  generateDirectionalTuples(motion, baseX, baseY) {
    const mt = String(motion.motionType).toLowerCase();
    const rot = String(motion.rotationDirection).toLowerCase();
    const NE = Location.NORTHEAST;
    const SE = Location.SOUTHEAST;
    const SW = Location.SOUTHWEST;
    const NW = Location.NORTHWEST;
    const N = Location.NORTH;
    const E = Location.EAST;
    const S = Location.SOUTH;
    const W = Location.WEST;
    const cardinalSet = /* @__PURE__ */ new Set([N, E, S, W]);
    const gridIsDiamond = cardinalSet.has(motion.startLocation) || cardinalSet.has(motion.endLocation);
    const isCW = rot === "clockwise" || rot === "cw";
    const isCCW = rot === "counter_clockwise" || rot === "ccw";
    const isNoRot = rot === "noRotation";
    const tuple = (a, b) => [a, b];
    const shiftDiamond = () => {
      if (mt === "float") {
        const order = [NE, SE, SW, NW];
        const idxStart = order.indexOf(motion.startLocation);
        const idxEnd = order.indexOf(motion.endLocation);
        const cwStep = (idxStart + 1) % 4 === idxEnd;
        if (cwStep) {
          return [
            tuple(baseX, baseY),
            tuple(-baseY, baseX),
            tuple(-baseX, -baseY),
            tuple(baseY, -baseX)
          ];
        } else {
          return [
            tuple(-baseY, -baseX),
            tuple(baseX, -baseY),
            tuple(baseY, baseX),
            tuple(-baseX, baseY)
          ];
        }
      }
      if (mt === "pro" && isCW)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      if (mt === "pro" && isCCW)
        return [
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX),
          tuple(-baseX, baseY)
        ];
      if (mt === "anti" && isCW)
        return [
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX),
          tuple(-baseX, baseY)
        ];
      if (mt === "anti" && isCCW)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      return [
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY)
      ];
    };
    const shiftBox = () => {
      if (mt === "float") {
        const order = [N, E, S, W];
        const idxStart = order.indexOf(motion.startLocation);
        const idxEnd = order.indexOf(motion.endLocation);
        const cwStep = (idxStart + 1) % 4 === idxEnd;
        if (cwStep) {
          return [
            tuple(baseX, baseY),
            tuple(-baseY, baseX),
            tuple(-baseX, -baseY),
            tuple(baseY, -baseX)
          ];
        } else {
          return [
            tuple(-baseY, -baseX),
            tuple(baseX, -baseY),
            tuple(baseY, baseX),
            tuple(-baseX, baseY)
          ];
        }
      }
      if (mt === "pro" && isCW)
        return [
          tuple(-baseX, baseY),
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX)
        ];
      if (mt === "pro" && isCCW)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      if (mt === "anti" && isCW)
        return [
          tuple(-baseX, baseY),
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX)
        ];
      if (mt === "anti" && isCCW)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      return [
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY)
      ];
    };
    const dashDiamond = () => {
      if (isCW)
        return [
          tuple(baseX, -baseY),
          tuple(baseY, baseX),
          tuple(-baseX, baseY),
          tuple(-baseY, -baseX)
        ];
      if (isCCW)
        return [
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX),
          tuple(baseX, baseY),
          tuple(-baseY, baseX)
        ];
      if (isNoRot)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX)
        ];
      return [
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY)
      ];
    };
    const dashBox = () => {
      if (isCW)
        return [
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX),
          tuple(baseX, baseY)
        ];
      if (isCCW)
        return [
          tuple(-baseX, baseY),
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX)
        ];
      if (isNoRot)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      return [
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY),
        tuple(baseX, baseY)
      ];
    };
    const staticDiamond = () => {
      if (isCW)
        return [
          tuple(baseX, -baseY),
          tuple(baseY, baseX),
          tuple(-baseX, baseY),
          tuple(-baseY, -baseX)
        ];
      if (isCCW)
        return [
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX),
          tuple(baseX, baseY),
          tuple(-baseY, baseX)
        ];
      return [
        tuple(baseX, baseY),
        tuple(-baseX, -baseY),
        tuple(-baseY, baseX),
        tuple(baseY, -baseX)
      ];
    };
    const staticBox = () => {
      if (isCW)
        return [
          tuple(baseX, baseY),
          tuple(-baseY, baseX),
          tuple(-baseX, -baseY),
          tuple(baseY, -baseX)
        ];
      if (isCCW)
        return [
          tuple(-baseY, -baseX),
          tuple(baseX, -baseY),
          tuple(baseY, baseX),
          tuple(-baseX, baseY)
        ];
      return [
        tuple(baseX, baseY),
        tuple(-baseY, baseX),
        tuple(-baseX, -baseY),
        tuple(baseY, -baseX)
      ];
    };
    if (mt === "dash") return gridIsDiamond ? dashDiamond() : dashBox();
    if (mt === "static") return gridIsDiamond ? staticDiamond() : staticBox();
    return gridIsDiamond ? shiftDiamond() : shiftBox();
  }
}
export class QuadrantIndexCalculator {
  /**
   * Wrapper around ArrowQuadrantCalculator to maintain interface compatibility.
   * Delegates to the centralized quadrant calculation logic.
   */
  quadrantCalculator;
  constructor() {
    this.quadrantCalculator = new ArrowQuadrantCalculator();
  }
  calculateQuadrantIndex(motion, location) {
    return this.quadrantCalculator.calculateQuadrantIndex(motion, location);
  }
}
export class DirectionalTupleProcessor {
  /**
   * Processor for applying directional tuple adjustments to arrow positioning.
   */
  constructor(directionalTupleService, quadrantIndexService) {
    this.directionalTupleService = directionalTupleService;
    this.quadrantIndexService = quadrantIndexService;
  }
  processDirectionalTuples(baseAdjustment, _motion, location) {
    try {
      const directionalTuples = this.directionalTupleService.generateDirectionalTuples(
        _motion,
        baseAdjustment.x,
        baseAdjustment.y
      );
      const quadrantIndex = this.quadrantIndexService.calculateQuadrantIndex(
        _motion,
        location
      );
      const selectedTuple = directionalTuples[quadrantIndex] || [0, 0];
      return { x: selectedTuple[0], y: selectedTuple[1] };
    } catch (error) {
      console.warn(
        "Directional tuple processing failed, using base adjustment:",
        error
      );
      return baseAdjustment;
    }
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRpcmVjdGlvbmFsVHVwbGVQcm9jZXNzb3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEaXJlY3Rpb25hbCBUdXBsZSBQcm9jZXNzb3JcbiAqXG4gKiBIYW5kbGVzIGNvbXBsZXggZGlyZWN0aW9uYWwgdHVwbGUgcHJvY2Vzc2luZyBmb3IgYXJyb3cgcG9zaXRpb25pbmcgYWRqdXN0bWVudHMuXG4gKiBEaXJlY3QgVHlwZVNjcmlwdCBwb3J0IG9mIHRoZSBQeXRob24gRGlyZWN0aW9uYWxUdXBsZVByb2Nlc3Nvci5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaGFuZGxlczpcbiAqIC0gRGlyZWN0aW9uYWwgdHVwbGUgZ2VuZXJhdGlvbiBiYXNlZCBvbiBtb3Rpb24gZGF0YVxuICogLSBDb21wbGV4IGFkanVzdG1lbnQgcHJvY2Vzc2luZyBmb3IgZGlmZmVyZW50IG1vdGlvbiB0eXBlc1xuICpcbiAqIE5vdGU6IFVzZXMgQXJyb3dRdWFkcmFudENhbGN1bGF0b3IgZm9yIHF1YWRyYW50IGluZGV4IGNhbGN1bGF0aW9ucyB0byBhdm9pZCBkdXBsaWNhdGlvbi5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE1vdGlvbkRhdGEgfSBmcm9tIFwiJGxpYi9kb21haW5cIjtcbmltcG9ydCB7IExvY2F0aW9uIH0gZnJvbSBcIiRsaWIvZG9tYWluXCI7XG5pbXBvcnQgdHlwZSB7IFBvaW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBBcnJvd1F1YWRyYW50Q2FsY3VsYXRvciB9IGZyb20gXCIuLi9vcmNoZXN0cmF0aW9uL0Fycm93UXVhZHJhbnRDYWxjdWxhdG9yXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURpcmVjdGlvbmFsVHVwbGVDYWxjdWxhdG9yIHtcbiAgY2FsY3VsYXRlRGlyZWN0aW9uYWxUdXBsZShcbiAgICBtb3Rpb246IE1vdGlvbkRhdGEsXG4gICAgbG9jYXRpb246IExvY2F0aW9uXG4gICk6IFtudW1iZXIsIG51bWJlcl07XG4gIGdlbmVyYXRlRGlyZWN0aW9uYWxUdXBsZXMoXG4gICAgbW90aW9uOiBNb3Rpb25EYXRhLFxuICAgIGJhc2VYOiBudW1iZXIsXG4gICAgYmFzZVk6IG51bWJlclxuICApOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPjtcbn1cblxuLy8gVXNpbmcgQXJyb3dRdWFkcmFudENhbGN1bGF0b3IgZnJvbSBvcmNoZXN0cmF0aW9uIGluc3RlYWQgb2YgZHVwbGljYXRlIGludGVyZmFjZVxuXG5leHBvcnQgaW50ZXJmYWNlIElEaXJlY3Rpb25hbFR1cGxlUHJvY2Vzc29yIHtcbiAgcHJvY2Vzc0RpcmVjdGlvbmFsVHVwbGVzKFxuICAgIGJhc2VBZGp1c3RtZW50OiBQb2ludCxcbiAgICBfbW90aW9uOiBNb3Rpb25EYXRhLFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvblxuICApOiBQb2ludDtcbn1cblxuZXhwb3J0IGNsYXNzIERpcmVjdGlvbmFsVHVwbGVDYWxjdWxhdG9yIGltcGxlbWVudHMgSURpcmVjdGlvbmFsVHVwbGVDYWxjdWxhdG9yIHtcbiAgLyoqXG4gICAqIENhbGN1bGF0b3IgZm9yIGRpcmVjdGlvbmFsIHR1cGxlcyB1c2VkIGluIGFycm93IHBvc2l0aW9uaW5nLlxuICAgKi9cblxuICBjYWxjdWxhdGVEaXJlY3Rpb25hbFR1cGxlKFxuICAgIF9tb3Rpb246IE1vdGlvbkRhdGEsXG4gICAgX2xvY2F0aW9uOiBMb2NhdGlvblxuICApOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICAvKipcbiAgICAgKiBMZWdhY3kgcGFyaXR5OiBBZGRpdGlvbmFsIGRpcmVjdGlvbmFsIHR1cGxlIGlzIG5vdCBzZXBhcmF0ZWx5IGFkZGVkLlxuICAgICAqIFRoZSBzZWxlY3Rpb24gaXMgbWFkZSBkaXJlY3RseSBmcm9tIHRoZSBnZW5lcmF0ZWQgNC10dXBsZXMuXG4gICAgICovXG4gICAgcmV0dXJuIFswLCAwXTtcbiAgfVxuXG4gIGdlbmVyYXRlRGlyZWN0aW9uYWxUdXBsZXMoXG4gICAgbW90aW9uOiBNb3Rpb25EYXRhLFxuICAgIGJhc2VYOiBudW1iZXIsXG4gICAgYmFzZVk6IG51bWJlclxuICApOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiB7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgZGlyZWN0aW9uYWwgdHVwbGVzIHVzaW5nIGxlZ2FjeSBtYXBwaW5ncyBieSBtb3Rpb24gdHlwZSwgcm90YXRpb24sIGFuZCBpbmZlcnJlZCBncmlkLlxuICAgICAqIFR1cGxlIG9yZGVyOiBpbmRpY2VzIDAuLjMgY29ycmVzcG9uZCB0byBORSwgU0UsIFNXLCBOVyBxdWFkcmFudCBtYXBwaW5nLlxuICAgICAqL1xuICAgIGNvbnN0IG10ID0gU3RyaW5nKG1vdGlvbi5tb3Rpb25UeXBlKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHJvdCA9IFN0cmluZyhtb3Rpb24ucm90YXRpb25EaXJlY3Rpb24pLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBjb25zdCBORSA9IExvY2F0aW9uLk5PUlRIRUFTVDtcbiAgICBjb25zdCBTRSA9IExvY2F0aW9uLlNPVVRIRUFTVDtcbiAgICBjb25zdCBTVyA9IExvY2F0aW9uLlNPVVRIV0VTVDtcbiAgICBjb25zdCBOVyA9IExvY2F0aW9uLk5PUlRIV0VTVDtcbiAgICBjb25zdCBOID0gTG9jYXRpb24uTk9SVEg7XG4gICAgY29uc3QgRSA9IExvY2F0aW9uLkVBU1Q7XG4gICAgY29uc3QgUyA9IExvY2F0aW9uLlNPVVRIO1xuICAgIGNvbnN0IFcgPSBMb2NhdGlvbi5XRVNUO1xuXG4gICAgLy8gSW5mZXIgZ3JpZCBtb2RlIGZyb20gbW90aW9uIGxvY2F0aW9ucyAoTk9UIGFycm93IGxvY2F0aW9ucylcbiAgICAvLyBEaWFtb25kIG1vZGU6IG1vdGlvbiB1c2VzIGNhcmRpbmFscyAoTiwgRSwgUywgVykg4oaSIGFycm93cyBwbGFjZWQgYXQgZGlhZ29uYWxzXG4gICAgLy8gQm94IG1vZGU6IG1vdGlvbiB1c2VzIGRpYWdvbmFscyAoTkUsIFNFLCBTVywgTlcpIOKGkiBhcnJvd3MgcGxhY2VkIGF0IGNhcmRpbmFsc1xuICAgIGNvbnN0IGNhcmRpbmFsU2V0ID0gbmV3IFNldDxMb2NhdGlvbj4oW04sIEUsIFMsIFddKTtcbiAgICBjb25zdCBncmlkSXNEaWFtb25kID1cbiAgICAgIGNhcmRpbmFsU2V0Lmhhcyhtb3Rpb24uc3RhcnRMb2NhdGlvbikgfHxcbiAgICAgIGNhcmRpbmFsU2V0Lmhhcyhtb3Rpb24uZW5kTG9jYXRpb24pO1xuXG4gICAgLy8gSGVscGVyIHRvIG5vcm1hbGl6ZSByb3RhdGlvbiBrZXlzXG4gICAgY29uc3QgaXNDVyA9IHJvdCA9PT0gXCJjbG9ja3dpc2VcIiB8fCByb3QgPT09IFwiY3dcIjtcbiAgICBjb25zdCBpc0NDVyA9IHJvdCA9PT0gXCJjb3VudGVyX2Nsb2Nrd2lzZVwiIHx8IHJvdCA9PT0gXCJjY3dcIjtcbiAgICBjb25zdCBpc05vUm90ID0gcm90ID09PSBcIm5vUm90YXRpb25cIjtcblxuICAgIC8vIE1hcHBpbmcgYnVpbGRlcnNcbiAgICBjb25zdCB0dXBsZSA9IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gW2EsIGJdIGFzIFtudW1iZXIsIG51bWJlcl07XG5cbiAgICAvLyBTSElGVCAocHJvL2FudGkvZmxvYXQpXG4gICAgY29uc3Qgc2hpZnREaWFtb25kID0gKCkgPT4ge1xuICAgICAgaWYgKG10ID09PSBcImZsb2F0XCIpIHtcbiAgICAgICAgLy8gSGFuZHBhdGgtYmFzZWQgbWFwcGluZzsgYXBwcm94aW1hdGUgdmlhIHN0YXJ0L2VuZCBzdGVwIGRpcmVjdGlvblxuICAgICAgICBjb25zdCBvcmRlciA9IFtORSwgU0UsIFNXLCBOV107XG4gICAgICAgIGNvbnN0IGlkeFN0YXJ0ID0gb3JkZXIuaW5kZXhPZihtb3Rpb24uc3RhcnRMb2NhdGlvbiBhcyBMb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IGlkeEVuZCA9IG9yZGVyLmluZGV4T2YobW90aW9uLmVuZExvY2F0aW9uIGFzIExvY2F0aW9uKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGN3IHZzIGNjdyBzdGVwICgxIHN0ZXAgY3cgPT4gY3c7IGVsc2UgY2N3KVxuICAgICAgICBjb25zdCBjd1N0ZXAgPSAoaWR4U3RhcnQgKyAxKSAlIDQgPT09IGlkeEVuZDtcbiAgICAgICAgaWYgKGN3U3RlcCkge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgICB0dXBsZSgtYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgICB0dXBsZShiYXNlWSwgLWJhc2VYKSxcbiAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0dXBsZSgtYmFzZVksIC1iYXNlWCksXG4gICAgICAgICAgICB0dXBsZShiYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgICAgIHR1cGxlKGJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgICB0dXBsZSgtYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobXQgPT09IFwicHJvXCIgJiYgaXNDVylcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWSwgYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgICB0dXBsZShiYXNlWSwgLWJhc2VYKSxcbiAgICAgICAgXTtcbiAgICAgIGlmIChtdCA9PT0gXCJwcm9cIiAmJiBpc0NDVylcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIC1iYXNlWCksXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIGJhc2VYKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgXTtcbiAgICAgIGlmIChtdCA9PT0gXCJhbnRpXCIgJiYgaXNDVylcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIC1iYXNlWCksXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIGJhc2VYKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgXTtcbiAgICAgIGlmIChtdCA9PT0gXCJhbnRpXCIgJiYgaXNDQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIGJhc2VYKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIC1iYXNlWCksXG4gICAgICAgIF07XG4gICAgICByZXR1cm4gW1xuICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hpZnRCb3ggPSAoKSA9PiB7XG4gICAgICBpZiAobXQgPT09IFwiZmxvYXRcIikge1xuICAgICAgICAvLyBVc2UgYm94IGN3L2NjdyBmcm9tIHN0YXJ0LT5lbmQgYXJvdW5kIE4sRSxTLFcgb3JkZXJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBbTiwgRSwgUywgV107XG4gICAgICAgIGNvbnN0IGlkeFN0YXJ0ID0gb3JkZXIuaW5kZXhPZihtb3Rpb24uc3RhcnRMb2NhdGlvbiBhcyBMb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IGlkeEVuZCA9IG9yZGVyLmluZGV4T2YobW90aW9uLmVuZExvY2F0aW9uIGFzIExvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgY3dTdGVwID0gKGlkeFN0YXJ0ICsgMSkgJSA0ID09PSBpZHhFbmQ7XG4gICAgICAgIGlmIChjd1N0ZXApIHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICAgIHR1cGxlKC1iYXNlWSwgYmFzZVgpLFxuICAgICAgICAgICAgdHVwbGUoLWJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgICAgdHVwbGUoYmFzZVksIC1iYXNlWCksXG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdHVwbGUoLWJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgICAgdHVwbGUoYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgICB0dXBsZShiYXNlWSwgYmFzZVgpLFxuICAgICAgICAgICAgdHVwbGUoLWJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG10ID09PSBcInByb1wiICYmIGlzQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKGJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCBiYXNlWCksXG4gICAgICAgIF07XG4gICAgICBpZiAobXQgPT09IFwicHJvXCIgJiYgaXNDQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIGJhc2VYKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIC1iYXNlWCksXG4gICAgICAgIF07XG4gICAgICBpZiAobXQgPT09IFwiYW50aVwiICYmIGlzQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKGJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCBiYXNlWCksXG4gICAgICAgIF07XG4gICAgICBpZiAobXQgPT09IFwiYW50aVwiICYmIGlzQ0NXKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCAtYmFzZVgpLFxuICAgICAgICBdO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgIF07XG4gICAgfTtcblxuICAgIC8vIERBU0hcbiAgICBjb25zdCBkYXNoRGlhbW9uZCA9ICgpID0+IHtcbiAgICAgIGlmIChpc0NXKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHR1cGxlKGJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCAtYmFzZVgpLFxuICAgICAgICBdO1xuICAgICAgaWYgKGlzQ0NXKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHR1cGxlKC1iYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgICB0dXBsZShiYXNlWSwgLWJhc2VYKSxcbiAgICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWSwgYmFzZVgpLFxuICAgICAgICBdO1xuICAgICAgaWYgKGlzTm9Sb3QpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIC1iYXNlWCksXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIGJhc2VYKSxcbiAgICAgICAgXTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICBdO1xuICAgIH07XG5cbiAgICBjb25zdCBkYXNoQm94ID0gKCkgPT4ge1xuICAgICAgaWYgKGlzQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIF07XG4gICAgICBpZiAoaXNDQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKGJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCBiYXNlWCksXG4gICAgICAgIF07XG4gICAgICBpZiAoaXNOb1JvdClcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWSwgYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgICB0dXBsZShiYXNlWSwgLWJhc2VYKSxcbiAgICAgICAgXTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICBdO1xuICAgIH07XG5cbiAgICAvLyBTVEFUSUNcbiAgICBjb25zdCBzdGF0aWNEaWFtb25kID0gKCkgPT4ge1xuICAgICAgaWYgKGlzQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoYmFzZVgsIC1iYXNlWSksXG4gICAgICAgICAgdHVwbGUoYmFzZVksIGJhc2VYKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgICB0dXBsZSgtYmFzZVksIC1iYXNlWCksXG4gICAgICAgIF07XG4gICAgICBpZiAoaXNDQ1cpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCAtYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgIF07XG4gICAgICByZXR1cm4gW1xuICAgICAgICB0dXBsZShiYXNlWCwgYmFzZVkpLFxuICAgICAgICB0dXBsZSgtYmFzZVgsIC1iYXNlWSksXG4gICAgICAgIHR1cGxlKC1iYXNlWSwgYmFzZVgpLFxuICAgICAgICB0dXBsZShiYXNlWSwgLWJhc2VYKSxcbiAgICAgIF07XG4gICAgfTtcblxuICAgIGNvbnN0IHN0YXRpY0JveCA9ICgpID0+IHtcbiAgICAgIGlmIChpc0NXKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHR1cGxlKGJhc2VYLCBiYXNlWSksXG4gICAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgICAgdHVwbGUoLWJhc2VYLCAtYmFzZVkpLFxuICAgICAgICAgIHR1cGxlKGJhc2VZLCAtYmFzZVgpLFxuICAgICAgICBdO1xuICAgICAgaWYgKGlzQ0NXKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHR1cGxlKC1iYXNlWSwgLWJhc2VYKSxcbiAgICAgICAgICB0dXBsZShiYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgICB0dXBsZShiYXNlWSwgYmFzZVgpLFxuICAgICAgICAgIHR1cGxlKC1iYXNlWCwgYmFzZVkpLFxuICAgICAgICBdO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgdHVwbGUoYmFzZVgsIGJhc2VZKSxcbiAgICAgICAgdHVwbGUoLWJhc2VZLCBiYXNlWCksXG4gICAgICAgIHR1cGxlKC1iYXNlWCwgLWJhc2VZKSxcbiAgICAgICAgdHVwbGUoYmFzZVksIC1iYXNlWCksXG4gICAgICBdO1xuICAgIH07XG5cbiAgICAvLyBEaXNwYXRjaCBieSBtb3Rpb24gdHlwZSBhbmQgZ3JpZFxuICAgIGlmIChtdCA9PT0gXCJkYXNoXCIpIHJldHVybiBncmlkSXNEaWFtb25kID8gZGFzaERpYW1vbmQoKSA6IGRhc2hCb3goKTtcbiAgICBpZiAobXQgPT09IFwic3RhdGljXCIpIHJldHVybiBncmlkSXNEaWFtb25kID8gc3RhdGljRGlhbW9uZCgpIDogc3RhdGljQm94KCk7XG4gICAgLy8gcHJvL2FudGkvZmxvYXRcbiAgICByZXR1cm4gZ3JpZElzRGlhbW9uZCA/IHNoaWZ0RGlhbW9uZCgpIDogc2hpZnRCb3goKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUXVhZHJhbnRJbmRleENhbGN1bGF0b3Ige1xuICAvKipcbiAgICogV3JhcHBlciBhcm91bmQgQXJyb3dRdWFkcmFudENhbGN1bGF0b3IgdG8gbWFpbnRhaW4gaW50ZXJmYWNlIGNvbXBhdGliaWxpdHkuXG4gICAqIERlbGVnYXRlcyB0byB0aGUgY2VudHJhbGl6ZWQgcXVhZHJhbnQgY2FsY3VsYXRpb24gbG9naWMuXG4gICAqL1xuICBwcml2YXRlIHF1YWRyYW50Q2FsY3VsYXRvcjogQXJyb3dRdWFkcmFudENhbGN1bGF0b3I7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5xdWFkcmFudENhbGN1bGF0b3IgPSBuZXcgQXJyb3dRdWFkcmFudENhbGN1bGF0b3IoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVF1YWRyYW50SW5kZXgobW90aW9uOiBNb3Rpb25EYXRhLCBsb2NhdGlvbjogTG9jYXRpb24pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnF1YWRyYW50Q2FsY3VsYXRvci5jYWxjdWxhdGVRdWFkcmFudEluZGV4KG1vdGlvbiwgbG9jYXRpb24pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaXJlY3Rpb25hbFR1cGxlUHJvY2Vzc29yIGltcGxlbWVudHMgSURpcmVjdGlvbmFsVHVwbGVQcm9jZXNzb3Ige1xuICAvKipcbiAgICogUHJvY2Vzc29yIGZvciBhcHBseWluZyBkaXJlY3Rpb25hbCB0dXBsZSBhZGp1c3RtZW50cyB0byBhcnJvdyBwb3NpdGlvbmluZy5cbiAgICovXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBkaXJlY3Rpb25hbFR1cGxlU2VydmljZTogSURpcmVjdGlvbmFsVHVwbGVDYWxjdWxhdG9yLFxuICAgIHByaXZhdGUgcXVhZHJhbnRJbmRleFNlcnZpY2U6IFF1YWRyYW50SW5kZXhDYWxjdWxhdG9yXG4gICkge31cblxuICBwcm9jZXNzRGlyZWN0aW9uYWxUdXBsZXMoXG4gICAgYmFzZUFkanVzdG1lbnQ6IFBvaW50LFxuICAgIF9tb3Rpb246IE1vdGlvbkRhdGEsXG4gICAgbG9jYXRpb246IExvY2F0aW9uXG4gICk6IFBvaW50IHtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGRpcmVjdGlvbmFsIHR1cGxlcyB0byBjYWxjdWxhdGUgZmluYWwgYWRqdXN0bWVudC5cbiAgICAgKlxuICAgICAqIEFyZ3M6XG4gICAgICogICAgIGJhc2VBZGp1c3RtZW50OiBCYXNlIGFkanVzdG1lbnQgZnJvbSBwbGFjZW1lbnQgc2VydmljZXNcbiAgICAgKiAgICAgbW90aW9uOiBNb3Rpb24gZGF0YSBmb3IgZGlyZWN0aW9uYWwgY2FsY3VsYXRpb25zXG4gICAgICogICAgIGxvY2F0aW9uOiBBcnJvdyBsb2NhdGlvbiBmb3IgcXVhZHJhbnQgc2VsZWN0aW9uXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqICAgICBGaW5hbCBhZGp1c3RtZW50IHBvaW50IGFmdGVyIGRpcmVjdGlvbmFsIHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICB0cnkge1xuICAgICAgLy8gR2VuZXJhdGUgZGlyZWN0aW9uYWwgdHVwbGVzIGZyb20gYmFzZSBhZGp1c3RtZW50XG4gICAgICBjb25zdCBkaXJlY3Rpb25hbFR1cGxlcyA9XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxUdXBsZVNlcnZpY2UuZ2VuZXJhdGVEaXJlY3Rpb25hbFR1cGxlcyhcbiAgICAgICAgICBfbW90aW9uLFxuICAgICAgICAgIGJhc2VBZGp1c3RtZW50LngsXG4gICAgICAgICAgYmFzZUFkanVzdG1lbnQueVxuICAgICAgICApO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcXVhZHJhbnQgaW5kZXggZm9yIHR1cGxlIHNlbGVjdGlvblxuICAgICAgY29uc3QgcXVhZHJhbnRJbmRleCA9IHRoaXMucXVhZHJhbnRJbmRleFNlcnZpY2UuY2FsY3VsYXRlUXVhZHJhbnRJbmRleChcbiAgICAgICAgX21vdGlvbixcbiAgICAgICAgbG9jYXRpb25cbiAgICAgICk7XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgYXBwcm9wcmlhdGUgdHVwbGUgYmFzZWQgb24gcXVhZHJhbnQgKGxlZ2FjeSBwYXJpdHkpXG4gICAgICBjb25zdCBzZWxlY3RlZFR1cGxlID0gZGlyZWN0aW9uYWxUdXBsZXNbcXVhZHJhbnRJbmRleF0gfHwgWzAsIDBdO1xuXG4gICAgICAvLyBGaW5hbCBhZGp1c3RtZW50ID0gc2VsZWN0ZWQgdHVwbGUgb25seSAoYmFzZUFkanVzdG1lbnQgYWxyZWFkeSB1c2VkIHRvIGJ1aWxkIHR1cGxlcylcbiAgICAgIHJldHVybiB7IHg6IHNlbGVjdGVkVHVwbGVbMF0sIHk6IHNlbGVjdGVkVHVwbGVbMV0gfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIkRpcmVjdGlvbmFsIHR1cGxlIHByb2Nlc3NpbmcgZmFpbGVkLCB1c2luZyBiYXNlIGFkanVzdG1lbnQ6XCIsXG4gICAgICAgIGVycm9yXG4gICAgICApO1xuICAgICAgcmV0dXJuIGJhc2VBZGp1c3RtZW50O1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFjQSxTQUFTLGdCQUFnQjtBQUV6QixTQUFTLCtCQUErQjtBQXdCakMsYUFBTSwyQkFBa0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUs3RSwwQkFDRSxTQUNBLFdBQ2tCO0FBS2xCLFdBQU8sQ0FBQyxHQUFHLENBQUM7QUFBQSxFQUNkO0FBQUEsRUFFQSwwQkFDRSxRQUNBLE9BQ0EsT0FDeUI7QUFLekIsVUFBTSxLQUFLLE9BQU8sT0FBTyxVQUFVLEVBQUUsWUFBWTtBQUNqRCxVQUFNLE1BQU0sT0FBTyxPQUFPLGlCQUFpQixFQUFFLFlBQVk7QUFFekQsVUFBTSxLQUFLLFNBQVM7QUFDcEIsVUFBTSxLQUFLLFNBQVM7QUFDcEIsVUFBTSxLQUFLLFNBQVM7QUFDcEIsVUFBTSxLQUFLLFNBQVM7QUFDcEIsVUFBTSxJQUFJLFNBQVM7QUFDbkIsVUFBTSxJQUFJLFNBQVM7QUFDbkIsVUFBTSxJQUFJLFNBQVM7QUFDbkIsVUFBTSxJQUFJLFNBQVM7QUFLbkIsVUFBTSxjQUFjLG9CQUFJLElBQWMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDbEQsVUFBTSxnQkFDSixZQUFZLElBQUksT0FBTyxhQUFhLEtBQ3BDLFlBQVksSUFBSSxPQUFPLFdBQVc7QUFHcEMsVUFBTSxPQUFPLFFBQVEsZUFBZSxRQUFRO0FBQzVDLFVBQU0sUUFBUSxRQUFRLHVCQUF1QixRQUFRO0FBQ3JELFVBQU0sVUFBVSxRQUFRO0FBR3hCLFVBQU0sUUFBUSxDQUFDLEdBQVcsTUFBYyxDQUFDLEdBQUcsQ0FBQztB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