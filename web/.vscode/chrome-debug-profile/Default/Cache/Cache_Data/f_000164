import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/resource-guide/ResourceModal.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=de368f3a";

ResourceModal[$.FILENAME] = 'src/lib/components/resource-guide/ResourceModal.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=de368f3a";
import { onMount } from "/node_modules/.vite/deps/svelte.js?v=de368f3a";

function handleBackdropClick(event, modalContainer, handleClose) {
	if ($.strict_equals(event.target, $.get(modalContainer))) {
		handleClose();
	}
}

function handleKeydown(event, handleClose, modalContent) {
	if ($.strict_equals(event.key, "Escape")) {
		handleClose();
	} else if ($.strict_equals(event.key, "Tab")) {
		if (!$.get(modalContent)) return;

		const focusableElements = $.get(modalContent).querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');

		if (!focusableElements?.length) return;

		const firstElement = focusableElements[0];
		const lastElement = focusableElements[focusableElements.length - 1];

		if (event.shiftKey) {
			if ($.strict_equals(document.activeElement, firstElement)) {
				event.preventDefault();
				lastElement.focus();
			}
		} else {
			if ($.strict_equals(document.activeElement, lastElement)) {
				event.preventDefault();
				firstElement.focus();
			}
		}
	}
}

var root_2 = $.add_locations($.from_html(`<div class="modal-loading s-HzgDvMh6X8G6"><div class="loading-spinner s-HzgDvMh6X8G6"></div> <p class="s-HzgDvMh6X8G6">Loading resource...</p></div>`), ResourceModal[$.FILENAME], [[144, 8, [[145, 10], [146, 10]]]]);
var root_6 = $.add_locations($.from_html(`<a> </a>`), ResourceModal[$.FILENAME], [[174, 18]]);
var root_5 = $.add_locations($.from_html(`<nav class="resource-nav s-HzgDvMh6X8G6" aria-label="Resource sections"><div class="nav-links s-HzgDvMh6X8G6"></div></nav>`), ResourceModal[$.FILENAME], [[171, 12, [[172, 14]]]]);
var root_8 = $.add_locations($.from_html(`<a><span class="related-name s-HzgDvMh6X8G6"> </span> <span class="related-description s-HzgDvMh6X8G6"> </span></a>`), ResourceModal[$.FILENAME], [[198, 18, [[207, 20], [208, 20]]]]);
var root_7 = $.add_locations($.from_html(`<aside class="related-resources s-HzgDvMh6X8G6"><h3 class="s-HzgDvMh6X8G6">Related Resources</h3> <div class="related-links s-HzgDvMh6X8G6"></div></aside>`), ResourceModal[$.FILENAME], [[194, 12, [[195, 14], [196, 14]]]]);

var root_4 = $.add_locations($.from_html(`<div class="resource-content s-HzgDvMh6X8G6"><header class="resource-header s-HzgDvMh6X8G6"><div class="header-content s-HzgDvMh6X8G6"><h1 id="modal-title" class="resource-title s-HzgDvMh6X8G6"> </h1> <p class="resource-subtitle s-HzgDvMh6X8G6"> </p> <div class="resource-meta s-HzgDvMh6X8G6"><span class="creator-badge s-HzgDvMh6X8G6"> </span> <span class="category-badge s-HzgDvMh6X8G6"> </span> <span class="level-badge s-HzgDvMh6X8G6"> </span></div></div></header> <!> <main class="resource-main s-HzgDvMh6X8G6" id="modal-description"><!></main> <!> <footer class="resource-footer s-HzgDvMh6X8G6"><a target="_blank" rel="noopener noreferrer" class="visit-original s-HzgDvMh6X8G6">Visit Original Resource â†’</a></footer></div>`), ResourceModal[$.FILENAME], [
	[
		150,
		8,

		[
			[
				152,
				10,

				[
					[
						156,
						12,

						[
							[157, 14],
							[158, 14],
							[159, 14, [[160, 16], [163, 16], [164, 16]]]
						]
					]
				]
			],

			[187, 10],
			[218, 10, [[219, 12]]]
		]
	]
]);

var root_9 = $.add_locations($.from_html(`<div class="modal-error s-HzgDvMh6X8G6"><h2 class="s-HzgDvMh6X8G6">Resource Not Found</h2> <p class="s-HzgDvMh6X8G6">The requested resource could not be loaded.</p></div>`), ResourceModal[$.FILENAME], [[231, 8, [[232, 10], [233, 10]]]]);
var root_1 = $.add_locations($.from_html(`<div class="modal-overlay s-HzgDvMh6X8G6" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-description" tabindex="-1"><div class="modal-container s-HzgDvMh6X8G6"><button class="modal-close s-HzgDvMh6X8G6" aria-label="Close modal" type="button"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="s-HzgDvMh6X8G6"><path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="s-HzgDvMh6X8G6"></path></svg></button> <!></div></div>`), ResourceModal[$.FILENAME], [[104, 2, [[116, 4, [[118, 6, [[125, 8, [[132, 10]]]]]]]]]]);

function ResourceModal($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, ResourceModal);

	let isOpen = $.prop($$props, 'isOpen', 3, false),
		onClose = $.prop($$props, 'onClose', 3, () => {}),
		modalData = $.prop($$props, 'modalData', 3, null);

	let modalContainer = $.tag($.state(void 0), 'modalContainer');
	let modalContent = $.tag($.state(void 0), 'modalContent');
	let closeButton = $.tag($.state(void 0), 'closeButton');
	let previouslyFocusedElement = null;
	let currentSection = $.tag($.state(""), 'currentSection');
	const data = $.tag($.derived(modalData), 'data');
	const loading = $.tag($.derived(() => false), 'loading');

	function lockBodyScroll() {
		if ($.strict_equals(typeof document, "undefined", false)) {
			document.body.style.overflow = "hidden";
			document.body.style.paddingRight = getScrollbarWidth() + "px";
		}
	}

	function unlockBodyScroll() {
		if ($.strict_equals(typeof document, "undefined", false)) {
			document.body.style.overflow = "";
			document.body.style.paddingRight = "";
		}
	}

	function getScrollbarWidth() {
		if ($.strict_equals(typeof window, "undefined")) return 0;

		return window.innerWidth - document.documentElement.clientWidth;
	}

	function handleClose() {
		onClose()();
	}

	$.user_effect(() => {
		if (isOpen()) {
			lockBodyScroll();

			if ($.strict_equals(typeof document, "undefined", false)) {
				previouslyFocusedElement = document.activeElement;

				setTimeout(
					() => {
						if ($.get(closeButton)) {
							$.get(closeButton).focus();
						}
					},
					100
				);
			}
		} else {
			unlockBodyScroll();

			if (previouslyFocusedElement) {
				previouslyFocusedElement.focus();
			}
		}

		return () => {
			if (!isOpen()) {
				unlockBodyScroll();
			}
		};
	});

	onMount(() => {
		const observer = new IntersectionObserver(
			(entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						$.set(currentSection, entry.target.id, true);
					}
				});
			},
			{ threshold: 0.6 }
		);

		return () => observer.disconnect();
	});

	var fragment = $.comment();
	var node = $.first_child(fragment);

	{
		var consequent_4 = ($$anchor) => {
			var div = root_1();

			div.__click = [handleBackdropClick, modalContainer, handleClose];
			div.__keydown = [handleKeydown, handleClose, modalContent];

			var div_1 = $.child(div);
			var button = $.child(div_1);

			button.__click = handleClose;
			$.bind_this(button, ($$value) => $.set(closeButton, $$value), () => $.get(closeButton));

			var node_1 = $.sibling(button, 2);

			{
				var consequent = ($$anchor) => {
					var div_2 = root_2();

					$.append($$anchor, div_2);
				};

				var alternate_1 = ($$anchor) => {
					var fragment_1 = $.comment();
					var node_2 = $.first_child(fragment_1);

					{
						var consequent_3 = ($$anchor) => {
							var div_3 = root_4();
							var header = $.child(div_3);
							var div_4 = $.child(header);
							var h1 = $.child(div_4);
							var text = $.child(h1, true);

							$.reset(h1);

							var p = $.sibling(h1, 2);
							var text_1 = $.child(p, true);

							$.reset(p);

							var div_5 = $.sibling(p, 2);
							var span = $.child(div_5);
							var text_2 = $.child(span, true);

							$.reset(span);

							var span_1 = $.sibling(span, 2);
							var text_3 = $.child(span_1, true);

							$.reset(span_1);

							var span_2 = $.sibling(span_1, 2);
							var text_4 = $.child(span_2, true);

							$.reset(span_2);
							$.reset(div_5);
							$.reset(div_4);
							$.reset(header);

							var node_3 = $.sibling(header, 2);

							{
								var consequent_1 = ($$anchor) => {
									var nav = root_5();
									var div_6 = $.child(nav);

									$.add_svelte_meta(
										() => $.each(div_6, 21, () => $.get(data).tableOfContents, $.index, ($$anchor, section) => {
											var a = root_6();
											let classes;
											var text_5 = $.child(a, true);

											$.reset(a);

											$.template_effect(
												($0) => {
													$.set_attribute(a, 'href', `#${$.get(section).id ?? ''}`);
													classes = $.set_class(a, 1, 'nav-link s-HzgDvMh6X8G6', null, classes, $0);
													$.set_text(text_5, $.get(section).label);
												},
												[
													() => ({
														active: $.strict_equals($.get(currentSection), $.get(section).id)
													})
												]
											);

											$.append($$anchor, a);
										}),
										'each',
										ResourceModal,
										173,
										16
									);

									$.reset(div_6);
									$.reset(nav);
									$.append($$anchor, nav);
								};

								$.add_svelte_meta(
									() => $.if(node_3, ($$render) => {
										if ($.get(data).tableOfContents && $.get(data).tableOfContents.length > 0) $$render(consequent_1);
									}),
									'if',
									ResourceModal,
									170,
									10
								);
							}

							var main = $.sibling(node_3, 2);
							var node_4 = $.child(main);

							$.add_svelte_meta(() => $.snippet(node_4, () => $$props.children ?? $.noop), 'render', ResourceModal, 189, 12);
							$.reset(main);

							var node_5 = $.sibling(main, 2);

							{
								var consequent_2 = ($$anchor) => {
									var aside = root_7();
									var div_7 = $.sibling($.child(aside), 2);

									$.add_svelte_meta(
										() => $.each(div_7, 21, () => $.get(data).relatedResources, $.index, ($$anchor, related) => {
											var a_1 = root_8();
											let classes_1;
											var span_3 = $.child(a_1);
											var text_6 = $.child(span_3, true);

											$.reset(span_3);

											var span_4 = $.sibling(span_3, 2);
											var text_7 = $.child(span_4, true);

											$.reset(span_4);
											$.reset(a_1);

											$.template_effect(
												($0) => {
													$.set_attribute(a_1, 'href', $.get(related).url);
													classes_1 = $.set_class(a_1, 1, 'related-link s-HzgDvMh6X8G6', null, classes_1, $0);
													$.set_attribute(a_1, 'target', $.strict_equals($.get(related).type, "external") ? "_blank" : "_self");
													$.set_attribute(a_1, 'rel', $.strict_equals($.get(related).type, "external") ? "noopener noreferrer" : "");
													$.set_text(text_6, $.get(related).name);
													$.set_text(text_7, $.get(related).description);
												},
												[
													() => ({ internal: $.strict_equals($.get(related).type, "internal") })
												]
											);

											$.append($$anchor, a_1);
										}),
										'each',
										ResourceModal,
										197,
										16
									);

									$.reset(div_7);
									$.reset(aside);
									$.append($$anchor, aside);
								};

								$.add_svelte_meta(
									() => $.if(node_5, ($$render) => {
										if ($.get(data).relatedResources && $.get(data).relatedResources.length > 0) $$render(consequent_2);
									}),
									'if',
									ResourceModal,
									193,
									10
								);
							}

							var footer = $.sibling(node_5, 2);
							var a_2 = $.child(footer);

							$.reset(footer);
							$.reset(div_3);

							$.template_effect(() => {
								$.set_style(header, `background: ${$.get(data).heroGradient ?? ''}`);
								$.set_text(text, $.get(data).title);
								$.set_text(text_1, $.get(data).subtitle);
								$.set_style(span, `color: ${$.get(data).creatorColor ?? ''}`);
								$.set_text(text_2, $.get(data).creator);
								$.set_text(text_3, $.get(data).category);
								$.set_text(text_4, $.get(data).level);
								$.set_attribute(a_2, 'href', $.get(data).url);
							});

							$.append($$anchor, div_3);
						};

						var alternate = ($$anchor) => {
							var div_8 = root_9();

							$.append($$anchor, div_8);
						};

						$.add_svelte_meta(
							() => $.if(
								node_2,
								($$render) => {
									if ($.get(data)) $$render(consequent_3); else $$render(alternate, false);
								},
								true
							),
							'if',
							ResourceModal,
							148,
							6
						);
					}

					$.append($$anchor, fragment_1);
				};

				$.add_svelte_meta(
					() => $.if(node_1, ($$render) => {
						if ($.get(loading)) $$render(consequent); else $$render(alternate_1, false);
					}),
					'if',
					ResourceModal,
					142,
					6
				);
			}

			$.reset(div_1);
			$.bind_this(div_1, ($$value) => $.set(modalContent, $$value), () => $.get(modalContent));
			$.reset(div);
			$.bind_this(div, ($$value) => $.set(modalContainer, $$value), () => $.get(modalContainer));
			$.append($$anchor, div);
		};

		$.add_svelte_meta(
			() => $.if(node, ($$render) => {
				if (isOpen()) $$render(consequent_4);
			}),
			'if',
			ResourceModal,
			102,
			0
		);
	}

	$.append($$anchor, fragment);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	ResourceModal = $.hmr(ResourceModal, () => ResourceModal[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-HzgDvMh6X8G6');
		module.default[$.HMR].source = ResourceModal[$.HMR].source;
		$.set(ResourceModal[$.HMR].source, module.default[$.HMR].original);
	});
}

export default ResourceModal;

$.delegate(['click', 'keydown']);
import "/src/lib/components/resource-guide/ResourceModal.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7U0FXTTs7U0E4RUksb0JBQXFCO3FCQUNyQixvQkFBYSxrQkFBTTtFQUNyQjtDQUNGO0FBQ0Y7O1NBS0ksY0FBUTtxQkFDVixXQUFlO0VBQ2Y7Q0FDRSw4Q0FBMkI7YUFHekI7O1FBRUEseURBQ0Y7O09BR0YsbUJBQWlCOztRQUVmLGlDQUErQjtRQUNqQyxnQ0FDRiw0QkFHQTs7TUFFSSxnQkFBaUI7dUJBQ25CO0lBQ0Y7SUFDRDtHQUdPO0VBQ04sT0FBTTt1QkFDSCxTQUFZO0lBQ1gsTUFBUTtJQUNOLGFBQVU7R0FDUjtFQUE4QjtDQUNoQztBQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FwSVQsQ0FBQzs7OztLQXlCSztFQUdKLDhDQUFhO0VBQ2IsNENBQWdCOztLQU9kO0tBQ0Y7S0FFQTtLQUdJLDJCQUFtQztLQUNyQztPQUlJLHVCQUFrQjtPQUN0QixnQ0FBYyxLQUFhOztVQUtuQjs2QkFDVjtHQUdBLFNBQVMsc0JBQXVDO0dBQzFDLFNBQU0sV0FBVyxlQUFnQjtFQUNuQztDQUNGOztVQUlPLG1CQUFvQzs2QkFDakMsVUFBUSxxQkFBVTtHQUMxQixjQUFZO0dBQ2QsU0FBVyxLQUFNLHFCQUFlO0VBRTlCO0NBRUE7O1VBRUE7NkJBRUssNkJBQTJCOztTQUUxQixvQkFBZSx5QkFBbUI7Q0FDeEM7O1VBTUksY0FBTTtFQUNOO0NBQWtCOztDQW9EeEIsb0JBQWE7TUFDZDtHQUNEOzs7SUFFRywyQkFBTTs7SUFFUjtXQUFBO2dCQUNRLGNBQWE7YUFDZixhQUFNO01BQ1g7S0FDQTtLQUFBLEdBQVU7O0dBQ1Y7RUFDQSxPQUFLO0dBQ0w7O09BQ0ssMEJBQW1CO0lBQ3hCLHlCQUFZO0dBQ2Q7RUFDRTs7ZUFHRztRQUNDLFVBQU87SUFDUDtHQUNSO0VBQ0E7Q0FDQTs7Q0FHQSxjQUFnQjtRQUNOLGVBQVU7SUFDcEIsWUFBbUI7SUFDbkIsUUFBZ0IsU0FBSTtTQUNWLE1BQU8sZ0JBQWtCO1lBQzNCO0tBQ0U7SUFDVjtHQUNBO0tBQ0EsV0FBbUI7OztlQUdSO0NBQ1g7Ozs7Ozs7OztrQkFRYTtvQkFDRSxhQUFLOzs7OztvQkFhcEIsV0FBeUI7MENBRFIsV0FBWSx3QkFBWixXQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBcURWOzs7Ozs7Ozs7a0RBRUw7O3NDQUlEOzs7OzRDQUZXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFQeEIsTUFBb0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQTJCYjs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tFQUtVOytEQUNFLDZCQUNULHdCQUNDO3NDQUVLO3NDQUVLLE9BQVM7OztzREFSVjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFSUCxJQUFJLGtCQUFtQixjQUFNLEVBQUcsZ0JBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7aURBdkNqQyxJQUFRLGNBQVU7K0JBR1c7aUNBQ3BDOzBDQUVvQjtpQ0FDbkIsTUFBSyxPQUFDO2lDQUVpQixNQUFRO2lDQUNqQixJQUFVOzJDQXdENUI7Ozs7Ozs7Ozs7Ozs7Ozs7bUJBeEVBLElBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBTmpCLE9BQWdCOzs7Ozs7Ozs7O3lDQTFCdUI7O3VDQVYxQixjQUFnQix3QkFBaEIsY0FBZ0I7Ozs7OztRQUo3QixNQUFXOzs7Ozs7Ozs7Ozs7Q0FGWCIsIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiUmVzb3VyY2VNb2RhbC5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgaW1wb3J0IHR5cGUgeyBSZXNvdXJjZU1vZGFsRGF0YSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbiAgaW50ZXJmYWNlIFByb3BzIHtcbiAgICBpc09wZW4/OiBib29sZWFuO1xuICAgIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICAgIG1vZGFsRGF0YT86IFJlc291cmNlTW9kYWxEYXRhIHwgbnVsbDtcbiAgICBjaGlsZHJlbj86IGFueTtcbiAgfVxuXG4gIGxldCB7XG4gICAgaXNPcGVuID0gZmFsc2UsXG4gICAgb25DbG9zZSA9ICgpID0+IHt9LFxuICAgIG1vZGFsRGF0YSA9IG51bGwsXG4gICAgY2hpbGRyZW4sXG4gIH06IFByb3BzID0gJHByb3BzKCk7XG5cbiAgLy8gRE9NIGVsZW1lbnQgcmVmZXJlbmNlcyAtIHVzZWQgaW4gcmVhY3RpdmUgY29udGV4dHMgc28gbmVlZCAkc3RhdGVcbiAgbGV0IG1vZGFsQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCA9ICRzdGF0ZSgpO1xuICBsZXQgbW9kYWxDb250ZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCA9ICRzdGF0ZSgpO1xuICBsZXQgY2xvc2VCdXR0b246IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkID0gJHN0YXRlKCk7XG5cbiAgLy8gUmVhY3RpdmUgc3RhdGVcbiAgbGV0IHByZXZpb3VzbHlGb2N1c2VkRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGN1cnJlbnRTZWN0aW9uID0gJHN0YXRlKFwiXCIpO1xuXG4gIC8vIERlcml2ZWQgZGF0YSBmcm9tIHByb3BzXG4gIGNvbnN0IGRhdGEgPSAkZGVyaXZlZChtb2RhbERhdGEpO1xuICBjb25zdCBsb2FkaW5nID0gJGRlcml2ZWQoZmFsc2UpOyAvLyBObyBsb2FkaW5nIHN0YXRlIG5lZWRlZCBmb3Igbm93XG5cbiAgLy8gSGFuZGxlIGJvZHkgc2Nyb2xsIGxvY2tcbiAgZnVuY3Rpb24gbG9ja0JvZHlTY3JvbGwoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IGdldFNjcm9sbGJhcldpZHRoKCkgKyBcInB4XCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdW5sb2NrQm9keVNjcm9sbCgpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCJcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpOiBudW1iZXIge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gMDtcbiAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIH1cblxuICAvLyBIYW5kbGUgY2xvc2VcbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7XG4gICAgb25DbG9zZSgpO1xuICB9XG5cbiAgLy8gSGFuZGxlIGJhY2tkcm9wIGNsaWNrXG4gIGZ1bmN0aW9uIGhhbmRsZUJhY2tkcm9wQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbENvbnRhaW5lcikge1xuICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgZXNjYXBlIGtleSBhbmQgZm9jdXMgdHJhcFxuICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgLy8gRm9jdXMgdHJhcCBpbXBsZW1lbnRhdGlvblxuICAgICAgaWYgKCFtb2RhbENvbnRlbnQpIHJldHVybjtcblxuICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBtb2RhbENvbnRlbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgJ2J1dHRvbiwgW2hyZWZdLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJ1xuICAgICAgKTtcblxuICAgICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cz8ubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGZpcnN0RWxlbWVudCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgbGFzdEVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1tcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMVxuICAgICAgXSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEVsZW1lbnQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGxhc3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0RWxlbWVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZmlyc3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgbW9kYWwgc3RhdGUgY2hhbmdlcyB3aXRoICRlZmZlY3RcbiAgJGVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgbG9ja0JvZHlTY3JvbGwoKTtcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgLy8gRm9jdXMgdGhlIGNsb3NlIGJ1dHRvbiBhZnRlciBhIGJyaWVmIGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChjbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgY2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVubG9ja0JvZHlTY3JvbGwoKTtcbiAgICAgIGlmIChwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgICAgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICB1bmxvY2tCb2R5U2Nyb2xsKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gSW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciB0YWJsZSBvZiBjb250ZW50c1xuICBvbk1vdW50KCgpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTZWN0aW9uID0gZW50cnkudGFyZ2V0LmlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQ6IDAuNiB9XG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0pO1xuPC9zY3JpcHQ+XG5cbnsjaWYgaXNPcGVufVxuICA8IS0tIE1vZGFsIE92ZXJsYXkgLS0+XG4gIDxkaXZcbiAgICBjbGFzcz1cIm1vZGFsLW92ZXJsYXlcIlxuICAgIGJpbmQ6dGhpcz17bW9kYWxDb250YWluZXJ9XG4gICAgb25jbGljaz17aGFuZGxlQmFja2Ryb3BDbGlja31cbiAgICBvbmtleWRvd249e2hhbmRsZUtleWRvd259XG4gICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgIGFyaWEtbGFiZWxsZWRieT1cIm1vZGFsLXRpdGxlXCJcbiAgICBhcmlhLWRlc2NyaWJlZGJ5PVwibW9kYWwtZGVzY3JpcHRpb25cIlxuICAgIHRhYmluZGV4PVwiLTFcIlxuICA+XG4gICAgPCEtLSBNb2RhbCBDb250YWluZXIgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiIGJpbmQ6dGhpcz17bW9kYWxDb250ZW50fT5cbiAgICAgIDwhLS0gQ2xvc2UgQnV0dG9uIC0tPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cIm1vZGFsLWNsb3NlXCJcbiAgICAgICAgYmluZDp0aGlzPXtjbG9zZUJ1dHRvbn1cbiAgICAgICAgb25jbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgd2lkdGg9XCIyNFwiXG4gICAgICAgICAgaGVpZ2h0PVwiMjRcIlxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTE4IDZMNiAxOE02IDZMMTggMThcIlxuICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgeyNpZiBsb2FkaW5nfVxuICAgICAgICA8IS0tIExvYWRpbmcgU3RhdGUgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1sb2FkaW5nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvZGl2PlxuICAgICAgICAgIDxwPkxvYWRpbmcgcmVzb3VyY2UuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlIGlmIGRhdGF9XG4gICAgICAgIDwhLS0gUmVzb3VyY2UgQ29udGVudCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc291cmNlLWNvbnRlbnRcIj5cbiAgICAgICAgICA8IS0tIEhlYWRlciAtLT5cbiAgICAgICAgICA8aGVhZGVyXG4gICAgICAgICAgICBjbGFzcz1cInJlc291cmNlLWhlYWRlclwiXG4gICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6IHtkYXRhLmhlcm9HcmFkaWVudH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItY29udGVudFwiPlxuICAgICAgICAgICAgICA8aDEgaWQ9XCJtb2RhbC10aXRsZVwiIGNsYXNzPVwicmVzb3VyY2UtdGl0bGVcIj57ZGF0YS50aXRsZX08L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInJlc291cmNlLXN1YnRpdGxlXCI+e2RhdGEuc3VidGl0bGV9PC9wPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzb3VyY2UtbWV0YVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY3JlYXRvci1iYWRnZVwiIHN0eWxlPVwiY29sb3I6IHtkYXRhLmNyZWF0b3JDb2xvcn1cIlxuICAgICAgICAgICAgICAgICAgPntkYXRhLmNyZWF0b3J9PC9zcGFuXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2F0ZWdvcnktYmFkZ2VcIj57ZGF0YS5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZXZlbC1iYWRnZVwiPntkYXRhLmxldmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgIDwhLS0gTmF2aWdhdGlvbiAtLT5cbiAgICAgICAgICB7I2lmIGRhdGEudGFibGVPZkNvbnRlbnRzICYmIGRhdGEudGFibGVPZkNvbnRlbnRzLmxlbmd0aCA+IDB9XG4gICAgICAgICAgICA8bmF2IGNsYXNzPVwicmVzb3VyY2UtbmF2XCIgYXJpYS1sYWJlbD1cIlJlc291cmNlIHNlY3Rpb25zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuYXYtbGlua3NcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZGF0YS50YWJsZU9mQ29udGVudHMgYXMgc2VjdGlvbn1cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIje3NlY3Rpb24uaWR9XCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJuYXYtbGlua1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOmFjdGl2ZT17Y3VycmVudFNlY3Rpb24gPT09IHNlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L25hdj5cbiAgICAgICAgICB7L2lmfVxuXG4gICAgICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+XG4gICAgICAgICAgPG1haW4gY2xhc3M9XCJyZXNvdXJjZS1tYWluXCIgaWQ9XCJtb2RhbC1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgPCEtLSBDb250ZW50IHdpbGwgYmUgcHJvdmlkZWQgYnkgY2hpbGRyZW4gc2xvdCAtLT5cbiAgICAgICAgICAgIHtAcmVuZGVyIGNoaWxkcmVuPy4oKX1cbiAgICAgICAgICA8L21haW4+XG5cbiAgICAgICAgICA8IS0tIFJlbGF0ZWQgUmVzb3VyY2VzIC0tPlxuICAgICAgICAgIHsjaWYgZGF0YS5yZWxhdGVkUmVzb3VyY2VzICYmIGRhdGEucmVsYXRlZFJlc291cmNlcy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgPGFzaWRlIGNsYXNzPVwicmVsYXRlZC1yZXNvdXJjZXNcIj5cbiAgICAgICAgICAgICAgPGgzPlJlbGF0ZWQgUmVzb3VyY2VzPC9oMz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0ZWQtbGlua3NcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZGF0YS5yZWxhdGVkUmVzb3VyY2VzIGFzIHJlbGF0ZWR9XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBocmVmPXtyZWxhdGVkLnVybH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZWxhdGVkLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzczppbnRlcm5hbD17cmVsYXRlZC50eXBlID09PSBcImludGVybmFsXCJ9XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldD17cmVsYXRlZC50eXBlID09PSBcImV4dGVybmFsXCIgPyBcIl9ibGFua1wiIDogXCJfc2VsZlwifVxuICAgICAgICAgICAgICAgICAgICByZWw9e3JlbGF0ZWQudHlwZSA9PT0gXCJleHRlcm5hbFwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWxhdGVkLW5hbWVcIj57cmVsYXRlZC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWxhdGVkLWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+e3JlbGF0ZWQuZGVzY3JpcHRpb259PC9zcGFuXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgICB7L2lmfVxuXG4gICAgICAgICAgPCEtLSBGb290ZXIgLS0+XG4gICAgICAgICAgPGZvb3RlciBjbGFzcz1cInJlc291cmNlLWZvb3RlclwiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgaHJlZj17ZGF0YS51cmx9XG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICBjbGFzcz1cInZpc2l0LW9yaWdpbmFsXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgVmlzaXQgT3JpZ2luYWwgUmVzb3VyY2Ug4oaSXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlfVxuICAgICAgICA8IS0tIE5vIERhdGEgU3RhdGUgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1lcnJvclwiPlxuICAgICAgICAgIDxoMj5SZXNvdXJjZSBOb3QgRm91bmQ8L2gyPlxuICAgICAgICAgIDxwPlRoZSByZXF1ZXN0ZWQgcmVzb3VyY2UgY291bGQgbm90IGJlIGxvYWRlZC48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gIC8qIE1vZGFsIE92ZXJsYXkgKi9cbiAgLm1vZGFsLW92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpO1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpO1xuICAgIHotaW5kZXg6IDEwMDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbGcpO1xuICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1vdXQ7XG4gIH1cblxuICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgZnJvbSB7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgICB0byB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgfVxuXG4gIC8qIE1vZGFsIENvbnRhaW5lciAqL1xuICAubW9kYWwtY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWNvbG9yKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1sZyk7XG4gICAgbWF4LXdpZHRoOiA5MDBweDtcbiAgICBtYXgtaGVpZ2h0OiA5MHZoO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlLW91dDtcbiAgfVxuXG4gIEBrZXlmcmFtZXMgc2xpZGVJbiB7XG4gICAgZnJvbSB7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MHB4KSBzY2FsZSgwLjk1KTtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKSBzY2FsZSgxKTtcbiAgICB9XG4gIH1cblxuICAvKiBDbG9zZSBCdXR0b24gKi9cbiAgLm1vZGFsLWNsb3NlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgICByaWdodDogdmFyKC0tc3BhY2luZy1tZCk7XG4gICAgei1pbmRleDogMTA7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIH1cblxuICAubW9kYWwtY2xvc2U6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG4gIH1cblxuICAvKiBMb2FkaW5nIFN0YXRlICovXG4gIC5tb2RhbC1sb2FkaW5nIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLTN4bCk7XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XG4gIH1cblxuICAubG9hZGluZy1zcGlubmVyIHtcbiAgICB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgYm9yZGVyOiAzcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgfVxuXG4gIEBrZXlmcmFtZXMgc3BpbiB7XG4gICAgdG8ge1xuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgICB9XG4gIH1cblxuICAvKiBSZXNvdXJjZSBDb250ZW50ICovXG4gIC5yZXNvdXJjZS1jb250ZW50IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDkwdmg7XG4gIH1cblxuICAvKiBIZWFkZXIgKi9cbiAgLnJlc291cmNlLWhlYWRlciB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgfVxuXG4gIC5oZWFkZXItY29udGVudCB7XG4gICAgbWF4LXdpZHRoOiA4MDBweDtcbiAgfVxuXG4gIC5yZXNvdXJjZS10aXRsZSB7XG4gICAgZm9udC1zaXplOiAycmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctc20pO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XG4gIH1cblxuICAucmVzb3VyY2Utc3VidGl0bGUge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLWxnKTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpO1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbWQpO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gIH1cblxuICAucmVzb3VyY2UtbWV0YSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmctc20pO1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgfVxuXG4gIC5jcmVhdG9yLWJhZGdlLFxuICAuY2F0ZWdvcnktYmFkZ2UsXG4gIC5sZXZlbC1iYWRnZSB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14cykgdmFyKC0tc3BhY2luZy1zbSk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbSk7XG4gICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUteHMpO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gIH1cblxuICAuY3JlYXRvci1iYWRnZSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgxNjgsIDI4LCAyMzcsIDAuMik7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNjgsIDI4LCAyMzcsIDAuMyk7XG4gIH1cblxuICAuY2F0ZWdvcnktYmFkZ2Uge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoNzQsIDE0NCwgMjI2LCAwLjIpO1xuICAgIGNvbG9yOiAjNGE5MGUyO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNzQsIDE0NCwgMjI2LCAwLjMpO1xuICB9XG5cbiAgLmxldmVsLWJhZGdlIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDc2LCAxNzUsIDgwLCAwLjIpO1xuICAgIGNvbG9yOiAjNGNhZjUwO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNzYsIDE3NSwgODAsIDAuMyk7XG4gIH1cblxuICAvKiBOYXZpZ2F0aW9uICovXG4gIC5yZXNvdXJjZS1uYXYge1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbWQpIHZhcigtLXNwYWNpbmcteGwpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAyKTtcbiAgfVxuXG4gIC5uYXYtbGlua3Mge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gIH1cblxuICAubmF2LWxpbmsge1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmcteHMpIHZhcigtLXNwYWNpbmctc20pO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc20pO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtKTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAubmF2LWxpbms6aG92ZXIsXG4gIC5uYXYtbGluay5hY3RpdmUge1xuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2OCwgMjgsIDIzNywgMC4xKTtcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMTY4LCAyOCwgMjM3LCAwLjMpO1xuICB9XG5cbiAgLyogTWFpbiBDb250ZW50ICovXG4gIC5yZXNvdXJjZS1tYWluIHtcbiAgICBmbGV4OiAxO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XG4gIH1cblxuICAvKiBSZWxhdGVkIFJlc291cmNlcyAqL1xuICAucmVsYXRlZC1yZXNvdXJjZXMge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAyKTtcbiAgfVxuXG4gIC5yZWxhdGVkLXJlc291cmNlcyBoMyB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbWQpO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLWxnKTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG5cbiAgLnJlbGF0ZWQtbGlua3Mge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcbiAgfVxuXG4gIC5yZWxhdGVkLWxpbmsge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgfVxuXG4gIC5yZWxhdGVkLWxpbms6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIH1cblxuICAucmVsYXRlZC1uYW1lIHtcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLXhzKTtcbiAgfVxuXG4gIC5yZWxhdGVkLWRlc2NyaXB0aW9uIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtKTtcbiAgICBsaW5lLWhlaWdodDogMS40O1xuICB9XG5cbiAgLyogRm9vdGVyICovXG4gIC5yZXNvdXJjZS1mb290ZXIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1sZykgdmFyKC0tc3BhY2luZy14bCk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC52aXNpdC1vcmlnaW5hbCB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmctc20pO1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctc20pIHZhcigtLXNwYWNpbmctbGcpO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLWxnKTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIH1cblxuICAudmlzaXQtb3JpZ2luYWw6aG92ZXIge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KTtcbiAgfVxuXG4gIC8qIEVycm9yIFN0YXRlICovXG4gIC5tb2RhbC1lcnJvciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy0zeGwpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XG4gIH1cblxuICAubW9kYWwtZXJyb3IgaDIge1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbWQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcbiAgfVxuXG4gIC8qIE1vYmlsZSBSZXNwb25zaXZlICovXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC5tb2RhbC1vdmVybGF5IHtcbiAgICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbWQpO1xuICAgIH1cblxuICAgIC5tb2RhbC1jb250YWluZXIge1xuICAgICAgbWF4LWhlaWdodDogOTV2aDtcbiAgICB9XG5cbiAgICAucmVzb3VyY2UtaGVhZGVyLFxuICAgIC5yZXNvdXJjZS1tYWluLFxuICAgIC5yZWxhdGVkLXJlc291cmNlcyxcbiAgICAucmVzb3VyY2UtZm9vdGVyIHtcbiAgICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbWQpO1xuICAgIH1cblxuICAgIC5yZXNvdXJjZS1uYXYge1xuICAgICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1zbSkgdmFyKC0tc3BhY2luZy1tZCk7XG4gICAgfVxuXG4gICAgLnJlc291cmNlLXRpdGxlIHtcbiAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIH1cblxuICAgIC5uYXYtbGlua3Mge1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnJlbGF0ZWQtbGlua3Mge1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgfVxuICB9XG5cbiAgLyogUmVkdWNlZCBtb3Rpb24gc3VwcG9ydCAqL1xuICBAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge1xuICAgIC5tb2RhbC1vdmVybGF5LFxuICAgIC5tb2RhbC1jb250YWluZXIsXG4gICAgLm5hdi1saW5rLFxuICAgIC5yZWxhdGVkLWxpbmssXG4gICAgLnZpc2l0LW9yaWdpbmFsLFxuICAgIC5tb2RhbC1jbG9zZSB7XG4gICAgICBhbmltYXRpb246IG5vbmU7XG4gICAgICB0cmFuc2l0aW9uOiBub25lO1xuICAgIH1cblxuICAgIC5yZWxhdGVkLWxpbms6aG92ZXIsXG4gICAgLnZpc2l0LW9yaWdpbmFsOmhvdmVyLFxuICAgIC5tb2RhbC1jbG9zZTpob3ZlciB7XG4gICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgfVxuXG4gICAgLmxvYWRpbmctc3Bpbm5lciB7XG4gICAgICBhbmltYXRpb246IG5vbmU7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIl0sImZpbGUiOiJGOi9DT0RFL1RLQS93ZWIvc3JjL2xpYi9jb21wb25lbnRzL3Jlc291cmNlLWd1aWRlL1Jlc291cmNlTW9kYWwuc3ZlbHRlIn0=