import { GridMode } from "/src/lib/domain/index.ts";
export class CSVLoaderService {
  cache = /* @__PURE__ */ new Map();
  dataSetCache = null;
  loadingPromises = /* @__PURE__ */ new Map();
  /**
   * Load a single CSV file with caching and multiple source fallback
   */
  async loadCSVFile(filename) {
    if (this.cache.has(filename)) {
      return {
        success: true,
        data: this.cache.get(filename),
        source: "cache"
      };
    }
    if (this.loadingPromises.has(filename)) {
      return await this.loadingPromises.get(filename);
    }
    const loadingPromise = this.performCSVLoad(filename);
    this.loadingPromises.set(filename, loadingPromise);
    try {
      const result = await loadingPromise;
      if (result.success && result.data) {
        this.cache.set(filename, result.data);
      }
      return result;
    } finally {
      this.loadingPromises.delete(filename);
    }
  }
  /**
   * Load complete CSV dataset (diamond + box)
   */
  async loadCSVDataSet() {
    if (this.dataSetCache) {
      return {
        success: true,
        data: this.dataSetCache,
        sources: { diamond: "cache", box: "cache" }
      };
    }
    try {
      if (typeof window !== "undefined" && window.csvData) {
        this.dataSetCache = window.csvData;
        return {
          success: true,
          data: this.dataSetCache,
          sources: { diamond: "window", box: "window" }
        };
      }
      const [diamondResult, boxResult] = await Promise.all([
        this.loadCSVFile("DiamondPictographDataframe.csv"),
        this.loadCSVFile("BoxPictographDataframe.csv")
      ]);
      if (!diamondResult.success || !boxResult.success) {
        return {
          success: false,
          error: `Failed to load CSV files: Diamond=${diamondResult.error || "unknown"}, Box=${boxResult.error || "unknown"}`,
          sources: { diamond: "fetch", box: "fetch" }
        };
      }
      this.dataSetCache = {
        diamondData: diamondResult.data,
        boxData: boxResult.data
      };
      return {
        success: true,
        data: this.dataSetCache,
        sources: {
          diamond: diamondResult.source,
          box: boxResult.source
        }
      };
    } catch (error) {
      return {
        success: false,
        error: `Failed to load CSV dataset: ${error instanceof Error ? error.message : "Unknown error"}`,
        sources: { diamond: "fetch", box: "fetch" }
      };
    }
  }
  /**
   * Load CSV for specific grid mode
   */
  async loadCSVForGridMode(gridMode) {
    const dataSetResult = await this.loadCSVDataSet();
    if (!dataSetResult.success || !dataSetResult.data) {
      return {
        success: false,
        error: dataSetResult.error || "Failed to load CSV dataset",
        source: "fetch"
      };
    }
    const data = gridMode === GridMode.DIAMOND ? dataSetResult.data.diamondData : dataSetResult.data.boxData;
    return {
      success: true,
      data,
      source: dataSetResult.sources[gridMode === GridMode.DIAMOND ? "diamond" : "box"]
    };
  }
  /**
   * Clear all caches
   */
  clearCache() {
    this.cache.clear();
    this.dataSetCache = null;
    this.loadingPromises.clear();
  }
  /**
   * Check if data is cached
   */
  isDataCached() {
    return this.dataSetCache !== null;
  }
  /**
   * Perform the actual CSV loading with error handling
   */
  async performCSVLoad(filename) {
    try {
      const url = filename.startsWith("/") ? filename : `/${filename}`;
      const response = await fetch(url);
      if (!response.ok) {
        return {
          success: false,
          error: `HTTP ${response.status}: ${response.statusText}`,
          source: "fetch"
        };
      }
      const data = await response.text();
      if (!data || data.trim().length === 0) {
        return {
          success: false,
          error: "CSV file is empty",
          source: "fetch"
        };
      }
      return {
        success: true,
        data,
        source: "fetch"
      };
    } catch (error) {
      return {
        success: false,
        error: `Network error: ${error instanceof Error ? error.message : "Unknown error"}`,
        source: "fetch"
      };
    }
  }
  /**
   * Get cache statistics for debugging
   */
  getCacheStats() {
    return {
      filesCached: this.cache.size,
      dataSetCached: this.dataSetCache !== null,
      activeLoads: this.loadingPromises.size,
      cacheKeys: Array.from(this.cache.keys())
    };
  }
  /**
   * Preload common CSV files
   */
  async preloadCommonFiles() {
    try {
      await Promise.all([
        this.loadCSVFile("DiamondPictographDataframe.csv"),
        this.loadCSVFile("BoxPictographDataframe.csv")
      ]);
    } catch (error) {
      console.warn("⚠️ Failed to preload CSV files:", error);
    }
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNTVkxvYWRlclNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDU1ZMb2FkZXJTZXJ2aWNlIC0gQ2VudHJhbGl6ZWQgQ1NWIGxvYWRpbmcgdXRpbGl0aWVzXG4gKiBcbiAqIEhhbmRsZXMgQ1NWIGZpbGUgbG9hZGluZyBmcm9tIG11bHRpcGxlIHNvdXJjZXMgKHN0YXRpYyBmaWxlcywgd2luZG93LmNzdkRhdGEpXG4gKiB3aXRoIGNvbnNpc3RlbnQgZXJyb3IgaGFuZGxpbmcgYW5kIGNhY2hpbmcgc3RyYXRlZ2llcy5cbiAqL1xuXG5pbXBvcnQgeyBHcmlkTW9kZSB9IGZyb20gXCIkbGliL2RvbWFpblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENzdkRhdGFTZXQge1xuICBkaWFtb25kRGF0YTogc3RyaW5nO1xuICBib3hEYXRhOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NWTG9hZFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGRhdGE/OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xuICBzb3VyY2U6ICdmZXRjaCcgfCAnd2luZG93JyB8ICdjYWNoZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NWRGF0YVNldFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGRhdGE/OiBDc3ZEYXRhU2V0O1xuICBlcnJvcj86IHN0cmluZztcbiAgc291cmNlczoge1xuICAgIGRpYW1vbmQ6ICdmZXRjaCcgfCAnd2luZG93JyB8ICdjYWNoZSc7XG4gICAgYm94OiAnZmV0Y2gnIHwgJ3dpbmRvdycgfCAnY2FjaGUnO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDU1ZMb2FkZXJTZXJ2aWNlIHtcbiAgbG9hZENTVkZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8Q1NWTG9hZFJlc3VsdD47XG4gIGxvYWRDU1ZEYXRhU2V0KCk6IFByb21pc2U8Q1NWRGF0YVNldFJlc3VsdD47XG4gIGxvYWRDU1ZGb3JHcmlkTW9kZShncmlkTW9kZTogR3JpZE1vZGUpOiBQcm9taXNlPENTVkxvYWRSZXN1bHQ+O1xuICBjbGVhckNhY2hlKCk6IHZvaWQ7XG4gIGlzRGF0YUNhY2hlZCgpOiBib29sZWFuO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGNzdkRhdGE/OiBDc3ZEYXRhU2V0O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDU1ZMb2FkZXJTZXJ2aWNlIGltcGxlbWVudHMgSUNTVkxvYWRlclNlcnZpY2Uge1xuICBwcml2YXRlIGNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgcHJpdmF0ZSBkYXRhU2V0Q2FjaGU6IENzdkRhdGFTZXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsb2FkaW5nUHJvbWlzZXMgPSBuZXcgTWFwPHN0cmluZywgUHJvbWlzZTxDU1ZMb2FkUmVzdWx0Pj4oKTtcblxuICAvKipcbiAgICogTG9hZCBhIHNpbmdsZSBDU1YgZmlsZSB3aXRoIGNhY2hpbmcgYW5kIG11bHRpcGxlIHNvdXJjZSBmYWxsYmFja1xuICAgKi9cbiAgYXN5bmMgbG9hZENTVkZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8Q1NWTG9hZFJlc3VsdD4ge1xuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gICAgaWYgKHRoaXMuY2FjaGUuaGFzKGZpbGVuYW1lKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogdGhpcy5jYWNoZS5nZXQoZmlsZW5hbWUpISxcbiAgICAgICAgc291cmNlOiAnY2FjaGUnXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFscmVhZHkgbG9hZGluZyB0byBwcmV2ZW50IGR1cGxpY2F0ZSByZXF1ZXN0c1xuICAgIGlmICh0aGlzLmxvYWRpbmdQcm9taXNlcy5oYXMoZmlsZW5hbWUpKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5sb2FkaW5nUHJvbWlzZXMuZ2V0KGZpbGVuYW1lKSE7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGxvYWRpbmcgcHJvbWlzZVxuICAgIGNvbnN0IGxvYWRpbmdQcm9taXNlID0gdGhpcy5wZXJmb3JtQ1NWTG9hZChmaWxlbmFtZSk7XG4gICAgdGhpcy5sb2FkaW5nUHJvbWlzZXMuc2V0KGZpbGVuYW1lLCBsb2FkaW5nUHJvbWlzZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9hZGluZ1Byb21pc2U7XG4gICAgICBcbiAgICAgIC8vIENhY2hlIHN1Y2Nlc3NmdWwgcmVzdWx0c1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGZpbGVuYW1lLCByZXN1bHQuZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIENsZWFuIHVwIGxvYWRpbmcgcHJvbWlzZVxuICAgICAgdGhpcy5sb2FkaW5nUHJvbWlzZXMuZGVsZXRlKGZpbGVuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBjb21wbGV0ZSBDU1YgZGF0YXNldCAoZGlhbW9uZCArIGJveClcbiAgICovXG4gIGFzeW5jIGxvYWRDU1ZEYXRhU2V0KCk6IFByb21pc2U8Q1NWRGF0YVNldFJlc3VsdD4ge1xuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gICAgaWYgKHRoaXMuZGF0YVNldENhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB0aGlzLmRhdGFTZXRDYWNoZSxcbiAgICAgICAgc291cmNlczogeyBkaWFtb25kOiAnY2FjaGUnLCBib3g6ICdjYWNoZScgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGdldCBkYXRhIGZyb20gZ2xvYmFsIHdpbmRvdy5jc3ZEYXRhIGZpcnN0IChzZXQgYnkgbGF5b3V0KVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmNzdkRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhU2V0Q2FjaGUgPSB3aW5kb3cuY3N2RGF0YTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YVNldENhY2hlLFxuICAgICAgICAgIHNvdXJjZXM6IHsgZGlhbW9uZDogJ3dpbmRvdycsIGJveDogJ3dpbmRvdycgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBGYWxsYmFjazogTG9hZCBib3RoIGZpbGVzIGZyb20gc3RhdGljIGRpcmVjdG9yeVxuICAgICAgY29uc3QgW2RpYW1vbmRSZXN1bHQsIGJveFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMubG9hZENTVkZpbGUoXCJEaWFtb25kUGljdG9ncmFwaERhdGFmcmFtZS5jc3ZcIiksXG4gICAgICAgIHRoaXMubG9hZENTVkZpbGUoXCJCb3hQaWN0b2dyYXBoRGF0YWZyYW1lLmNzdlwiKVxuICAgICAgXSk7XG5cbiAgICAgIGlmICghZGlhbW9uZFJlc3VsdC5zdWNjZXNzIHx8ICFib3hSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBgRmFpbGVkIHRvIGxvYWQgQ1NWIGZpbGVzOiBEaWFtb25kPSR7ZGlhbW9uZFJlc3VsdC5lcnJvciB8fCAndW5rbm93bid9LCBCb3g9JHtib3hSZXN1bHQuZXJyb3IgfHwgJ3Vua25vd24nfWAsXG4gICAgICAgICAgc291cmNlczogeyBkaWFtb25kOiAnZmV0Y2gnLCBib3g6ICdmZXRjaCcgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRhdGFTZXRDYWNoZSA9IHtcbiAgICAgICAgZGlhbW9uZERhdGE6IGRpYW1vbmRSZXN1bHQuZGF0YSEsXG4gICAgICAgIGJveERhdGE6IGJveFJlc3VsdC5kYXRhIVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhU2V0Q2FjaGUsXG4gICAgICAgIHNvdXJjZXM6IHsgXG4gICAgICAgICAgZGlhbW9uZDogZGlhbW9uZFJlc3VsdC5zb3VyY2UsIFxuICAgICAgICAgIGJveDogYm94UmVzdWx0LnNvdXJjZSBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGBGYWlsZWQgdG8gbG9hZCBDU1YgZGF0YXNldDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICBzb3VyY2VzOiB7IGRpYW1vbmQ6ICdmZXRjaCcsIGJveDogJ2ZldGNoJyB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIENTViBmb3Igc3BlY2lmaWMgZ3JpZCBtb2RlXG4gICAqL1xuICBhc3luYyBsb2FkQ1NWRm9yR3JpZE1vZGUoZ3JpZE1vZGU6IEdyaWRNb2RlKTogUHJvbWlzZTxDU1ZMb2FkUmVzdWx0PiB7XG4gICAgY29uc3QgZGF0YVNldFJlc3VsdCA9IGF3YWl0IHRoaXMubG9hZENTVkRhdGFTZXQoKTtcbiAgICBcbiAgICBpZiAoIWRhdGFTZXRSZXN1bHQuc3VjY2VzcyB8fCAhZGF0YVNldFJlc3VsdC5kYXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGRhdGFTZXRSZXN1bHQuZXJyb3IgfHwgJ0ZhaWxlZCB0byBsb2FkIENTViBkYXRhc2V0JyxcbiAgICAgICAgc291cmNlOiAnZmV0Y2gnXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBncmlkTW9kZSA9PT0gR3JpZE1vZGUuRElBTU9ORCBcbiAgICAgID8gZGF0YVNldFJlc3VsdC5kYXRhLmRpYW1vbmREYXRhIFxuICAgICAgOiBkYXRhU2V0UmVzdWx0LmRhdGEuYm94RGF0YTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YSxcbiAgICAgIHNvdXJjZTogZGF0YVNldFJlc3VsdC5zb3VyY2VzW2dyaWRNb2RlID09PSBHcmlkTW9kZS5ESUFNT05EID8gJ2RpYW1vbmQnIDogJ2JveCddXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgY2FjaGVzXG4gICAqL1xuICBjbGVhckNhY2hlKCk6IHZvaWQge1xuICAgIHRoaXMuY2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLmRhdGFTZXRDYWNoZSA9IG51bGw7XG4gICAgdGhpcy5sb2FkaW5nUHJvbWlzZXMuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkYXRhIGlzIGNhY2hlZFxuICAgKi9cbiAgaXNEYXRhQ2FjaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRhdGFTZXRDYWNoZSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIHRoZSBhY3R1YWwgQ1NWIGxvYWRpbmcgd2l0aCBlcnJvciBoYW5kbGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtQ1NWTG9hZChmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTxDU1ZMb2FkUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnN0cnVjdCBVUkwgZm9yIHN0YXRpYyBmaWxlXG4gICAgICBjb25zdCB1cmwgPSBmaWxlbmFtZS5zdGFydHNXaXRoKCcvJykgPyBmaWxlbmFtZSA6IGAvJHtmaWxlbmFtZX1gO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCxcbiAgICAgICAgICBzb3VyY2U6ICdmZXRjaCdcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIFxuICAgICAgaWYgKCFkYXRhIHx8IGRhdGEudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnQ1NWIGZpbGUgaXMgZW1wdHknLFxuICAgICAgICAgIHNvdXJjZTogJ2ZldGNoJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhLFxuICAgICAgICBzb3VyY2U6ICdmZXRjaCdcbiAgICAgIH07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBgTmV0d29yayBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICBzb3VyY2U6ICdmZXRjaCdcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYWNoZSBzdGF0aXN0aWNzIGZvciBkZWJ1Z2dpbmdcbiAgICovXG4gIGdldENhY2hlU3RhdHMoKTogeyBcbiAgICBmaWxlc0NhY2hlZDogbnVtYmVyOyBcbiAgICBkYXRhU2V0Q2FjaGVkOiBib29sZWFuOyBcbiAgICBhY3RpdmVMb2FkczogbnVtYmVyO1xuICAgIGNhY2hlS2V5czogc3RyaW5nW107XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBmaWxlc0NhY2hlZDogdGhpcy5jYWNoZS5zaXplLFxuICAgICAgZGF0YVNldENhY2hlZDogdGhpcy5kYXRhU2V0Q2FjaGUgIT09IG51bGwsXG4gICAgICBhY3RpdmVMb2FkczogdGhpcy5sb2FkaW5nUHJvbWlzZXMuc2l6ZSxcbiAgICAgIGNhY2hlS2V5czogQXJyYXkuZnJvbSh0aGlzLmNhY2hlLmtleXMoKSlcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFByZWxvYWQgY29tbW9uIENTViBmaWxlc1xuICAgKi9cbiAgYXN5bmMgcHJlbG9hZENvbW1vbkZpbGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMubG9hZENTVkZpbGUoXCJEaWFtb25kUGljdG9ncmFwaERhdGFmcmFtZS5jc3ZcIiksXG4gICAgICAgIHRoaXMubG9hZENTVkZpbGUoXCJCb3hQaWN0b2dyYXBoRGF0YWZyYW1lLmNzdlwiKVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBGYWlsZWQgdG8gcHJlbG9hZCBDU1YgZmlsZXM6XCIsIGVycm9yKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBT0EsU0FBUyxnQkFBZ0I7QUFzQ2xCLGFBQU0saUJBQThDO0FBQUEsRUFDakQsUUFBUSxvQkFBSSxJQUFvQjtBQUFBLEVBQ2hDLGVBQWtDO0FBQUEsRUFDbEMsa0JBQWtCLG9CQUFJLElBQW9DO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLbEUsTUFBTSxZQUFZLFVBQTBDO0FBRTFELFFBQUksS0FBSyxNQUFNLElBQUksUUFBUSxHQUFHO0FBQzVCLGFBQU87QUFBQSxRQUNMLFNBQVM7QUFBQSxRQUNULE1BQU0sS0FBSyxNQUFNLElBQUksUUFBUTtBQUFBLFFBQzdCLFFBQVE7QUFBQSxN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