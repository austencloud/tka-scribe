import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/routes/motion-tester/components/StaticSection.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=cc8aba6c";

StaticSection[$.FILENAME] = 'src/routes/motion-tester/components/StaticSection.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=cc8aba6c";
import Pictograph from "/src/lib/components/pictograph/Pictograph.svelte";
import PropPanel from "/src/routes/motion-tester/components/PropPanel.svelte";
import SimpleGridToggle from "/src/routes/motion-tester/components/SimpleGridToggle.svelte";
import LetterIdentificationDisplay from "/src/routes/motion-tester/components/LetterIdentificationDisplay.svelte";
import { resolve } from "/src/lib/services/bootstrap.ts";
import { IArrowPositioningOrchestratorInterface } from "/src/lib/services/di/interfaces/positioning-interfaces.ts";

import {
	createPictographData,
	createMotionData,
	createPropData,
	createGridData
} from "/src/lib/domain/index.ts";

import {
	MotionType,
	Orientation,
	GridMode,
	MotionColor,
	Location,
	RotationDirection
} from "/src/lib/domain/enums.ts";

var root_3 = $.add_locations($.from_html(`<div class="error-state s-aeptAB2-JEBZ"><span class="error-icon s-aeptAB2-JEBZ">⚠️</span> <p class="s-aeptAB2-JEBZ">Unable to display pictograph</p></div>`), StaticSection[$.FILENAME], [[159, 8, [[160, 10], [161, 10]]]]);

var root = $.add_locations($.from_html(`<div class="static-section s-aeptAB2-JEBZ"><div class="pictograph-area s-aeptAB2-JEBZ"><div class="grid-toggle-overlay s-aeptAB2-JEBZ"><!></div> <div class="pictograph-container s-aeptAB2-JEBZ"><!></div></div> <!> <div class="motion-controls s-aeptAB2-JEBZ"><div class="prop-section s-aeptAB2-JEBZ"><!></div> <div class="prop-section s-aeptAB2-JEBZ"><!></div></div></div>`), StaticSection[$.FILENAME], [
	[
		141,
		0,

		[
			[143, 2, [[144, 4], [148, 4]]],
			[173, 2, [[175, 4], [204, 4]]]
		]
	]
]);

function StaticSection($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, StaticSection);

	const PICTOGRAPH_SIZE = 320;
	const arrowPositioningService = resolve(IArrowPositioningOrchestratorInterface);
	let pictographData = $.tag($.state(null), 'pictographData');

	$.user_effect(() => {
		const blueStartLocation = $$props.motionState.blueMotionParams.startLocation;
		const blueEndLocation = $$props.motionState.blueMotionParams.endLocation;
		const blueMotionType = $$props.motionState.blueMotionParams.motionType;
		const redStartLocation = $$props.motionState.redMotionParams.startLocation;
		const redEndLocation = $$props.motionState.redMotionParams.endLocation;
		const redMotionType = $$props.motionState.redMotionParams.motionType;
		const gridType = $$props.motionState.gridType;

		updatePictographData();
	});

	async function updatePictographData() {
		try {
			console.log("\u{1F50D} StaticSection: Creating dynamic pictograph from motion parameters...");

			console.log(...$.log_if_contains_state('log', "\u{1F50D} StaticSection: Current motion state values:", {
				blueEndLocation: $$props.motionState.blueMotionParams.endLocation,
				redEndLocation: $$props.motionState.redMotionParams.endLocation,
				blueStartLocation: $$props.motionState.blueMotionParams.startLocation,
				redStartLocation: $$props.motionState.redMotionParams.startLocation
			}));

			const gridMode = $.strict_equals($$props.motionState.gridType, "diamond") ? GridMode.DIAMOND : GridMode.BOX;

			const blueMotion = createMotionData({
				startLocation: $$props.motionState.blueMotionParams.startLocation,
				endLocation: $$props.motionState.blueMotionParams.endLocation,
				startOrientation: $$props.motionState.blueMotionParams.startOrientation,
				endOrientation: $$props.motionState.blueMotionParams.endOrientation,
				motionType: $$props.motionState.blueMotionParams.motionType,
				rotationDirection: $$props.motionState.blueMotionParams.rotationDirection,
				turns: $$props.motionState.blueMotionParams.turns,
				isVisible: true
			});

			const redMotion = createMotionData({
				startLocation: $$props.motionState.redMotionParams.startLocation,
				endLocation: $$props.motionState.redMotionParams.endLocation,
				startOrientation: $$props.motionState.redMotionParams.startOrientation,
				endOrientation: $$props.motionState.redMotionParams.endOrientation,
				motionType: $$props.motionState.redMotionParams.motionType,
				rotationDirection: $$props.motionState.redMotionParams.rotationDirection,
				turns: $$props.motionState.redMotionParams.turns,
				isVisible: true
			});

			const blueProps = createPropData({
				color: MotionColor.BLUE,
				location: $$props.motionState.blueMotionParams.endLocation,
				orientation: $$props.motionState.blueMotionParams.endOrientation,
				rotationDirection: $$props.motionState.blueMotionParams.rotationDirection,
				isVisible: true
			});

			const redProps = createPropData({
				color: MotionColor.RED,
				location: $$props.motionState.redMotionParams.endLocation,
				orientation: $$props.motionState.redMotionParams.endOrientation,
				rotationDirection: $$props.motionState.redMotionParams.rotationDirection,
				isVisible: true
			});

			const dynamicPictograph = createPictographData({
				id: `motion-tester-${Date.now()}`,
				gridData: createGridData({ gridMode, center_x: 0, center_y: 0, radius: 100 }),
				motions: { blue: blueMotion, red: redMotion },
				props: { blue: blueProps, red: redProps },
				letter: "",
				isBlank: false,
				isMirrored: false,
				metadata: { source: "motion_tester_dynamic", created: Date.now() }
			});

			const positionedPictograph = (await $.track_reactivity_loss(arrowPositioningService.calculateAllArrowPositions(dynamicPictograph)))();

			$.set(pictographData, positionedPictograph, true);
			console.log("\u2705 StaticSection: Dynamic pictograph created successfully!");
			console.log("\u{1F527} [DEBUG] pictographData is:", $.get(pictographData) ? "NOT NULL" : "NULL");

			console.log(...$.log_if_contains_state('log', "\u{1F527} [DEBUG] Pictograph data:", {
				id: $.get(pictographData)?.id,
				letter: $.get(pictographData)?.letter,
				blueProps: $.get(pictographData)?.props?.blue,
				redProps: $.get(pictographData)?.props?.red,
				blueMotions: $.get(pictographData)?.motions?.blue,
				redMotions: $.get(pictographData)?.motions?.red
			}));
		} catch(error) {
			console.error(...$.log_if_contains_state('error', "\u274C StaticSection: Error creating dynamic pictograph:", error));
			$.set(pictographData, null);
		}
	}

	var div = root();
	var div_1 = $.child(div);
	var div_2 = $.child(div_1);
	var node = $.child(div_2);

	$.add_svelte_meta(
		() => SimpleGridToggle(node, {
			get state() {
				return $$props.motionState;
			}
		}),
		'component',
		StaticSection,
		145,
		6,
		{ componentTag: 'SimpleGridToggle' }
	);

	$.reset(div_2);

	var div_3 = $.sibling(div_2, 2);
	var node_1 = $.child(div_3);

	{
		var consequent = ($$anchor) => {
			var fragment = $.comment();
			var node_2 = $.first_child(fragment);

			$.add_svelte_meta(
				() => $.key(node_2, () => $.get(pictographData).id, ($$anchor) => {
					var fragment_1 = $.comment();
					var node_3 = $.first_child(fragment_1);

					$.add_svelte_meta(
						() => Pictograph(node_3, {
							get pictographData() {
								return $.get(pictographData);
							},

							width: PICTOGRAPH_SIZE,
							height: PICTOGRAPH_SIZE,
							debug: false
						}),
						'component',
						StaticSection,
						151,
						10,
						{ componentTag: 'Pictograph' }
					);

					$.append($$anchor, fragment_1);
				}),
				'key',
				StaticSection,
				150,
				8
			);

			$.append($$anchor, fragment);
		};

		var alternate = ($$anchor) => {
			var div_4 = root_3();

			$.append($$anchor, div_4);
		};

		$.add_svelte_meta(
			() => $.if(node_1, ($$render) => {
				if ($.get(pictographData)) $$render(consequent); else $$render(alternate, false);
			}),
			'if',
			StaticSection,
			149,
			6
		);
	}

	$.reset(div_3);
	$.reset(div_1);

	var node_4 = $.sibling(div_1, 2);

	$.add_svelte_meta(
		() => LetterIdentificationDisplay(node_4, {
			get identificationResult() {
				return $$props.motionState.identifiedLetter;
			}
		}),
		'component',
		StaticSection,
		168,
		2,
		{ componentTag: 'LetterIdentificationDisplay' }
	);

	var div_5 = $.sibling(node_4, 2);
	var div_6 = $.child(div_5);
	var node_5 = $.child(div_6);

	$.add_svelte_meta(
		() => PropPanel(node_5, {
			propName: 'Blue',
			propColor: '#60a5fa',

			get startLocation() {
				return $$props.motionState.blueMotionParams.startLocation;
			},

			get endLocation() {
				return $$props.motionState.blueMotionParams.endLocation;
			},

			get startOrientation() {
				return $$props.motionState.blueMotionParams.startOrientation;
			},

			get endOrientation() {
				return $$props.motionState.blueMotionParams.endOrientation;
			},

			get turns() {
				return $$props.motionState.blueMotionParams.turns;
			},

			get motionType() {
				return $$props.motionState.blueMotionParams.motionType;
			},

			get gridMode() {
				return $$props.motionState.gridType;
			},

			onStartLocationChange: (location) => $$props.motionState.setBlueStartLocation(location),
			onEndLocationChange: (location) => $$props.motionState.setBlueEndLocation(location),
			onStartOrientationChange: (orientation) => $$props.motionState.updateBlueMotionParam("startOrientation", orientation),
			onEndOrientationChange: (orientation) => $$props.motionState.updateBlueMotionParam("endOrientation", orientation),
			onTurnsChange: (turns) => $$props.motionState.updateBlueMotionParam("turns", turns),
			onMotionTypeChange: (motionType) => $$props.motionState.updateBlueMotionParam("motionType", motionType)
		}),
		'component',
		StaticSection,
		176,
		6,
		{ componentTag: 'PropPanel' }
	);

	$.reset(div_6);

	var div_7 = $.sibling(div_6, 2);
	var node_6 = $.child(div_7);

	$.add_svelte_meta(
		() => PropPanel(node_6, {
			propName: 'Red',
			propColor: '#f87171',

			get startLocation() {
				return $$props.motionState.redMotionParams.startLocation;
			},

			get endLocation() {
				return $$props.motionState.redMotionParams.endLocation;
			},

			get startOrientation() {
				return $$props.motionState.redMotionParams.startOrientation;
			},

			get endOrientation() {
				return $$props.motionState.redMotionParams.endOrientation;
			},

			get turns() {
				return $$props.motionState.redMotionParams.turns;
			},

			get motionType() {
				return $$props.motionState.redMotionParams.motionType;
			},

			get gridMode() {
				return $$props.motionState.gridType;
			},

			onStartLocationChange: (location) => $$props.motionState.setRedStartLocation(location),
			onEndLocationChange: (location) => $$props.motionState.setRedEndLocation(location),
			onStartOrientationChange: (orientation) => $$props.motionState.updateRedMotionParam("startOrientation", orientation),
			onEndOrientationChange: (orientation) => $$props.motionState.updateRedMotionParam("endOrientation", orientation),
			onTurnsChange: (turns) => $$props.motionState.updateRedMotionParam("turns", turns),
			onMotionTypeChange: (motionType) => $$props.motionState.updateRedMotionParam("motionType", motionType)
		}),
		'component',
		StaticSection,
		205,
		6,
		{ componentTag: 'PropPanel' }
	);

	$.reset(div_7);
	$.reset(div_5);
	$.reset(div);
	$.append($$anchor, div);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	StaticSection = $.hmr(StaticSection, () => StaticSection[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-aeptAB2-JEBZ');
		module.default[$.HMR].source = StaticSection[$.HMR].source;
		$.set(StaticSection[$.HMR].source, module.default[$.HMR].original);
	});
}

export default StaticSection;
import "/src/routes/motion-tester/components/StaticSection.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7T0FXUztPQUNBO09BQ0Usc0JBQWU7T0FDZjtTQUVUO1NBQ0U7OztDQUdBO0NBQUE7Q0FFRjtDQUNFO09BQ0E7OztDQUVBO0NBQ0E7Q0FDQTtDQUFBO0NBT0U7Q0FHSjtPQUdNOzs7Ozs7Ozs7Ozs7Ozs7OzBDQXpDUixDQUFDOzs7O09BNkRTLGtCQUFpQjtPQU92QiwwQkFBcUIsUUFDdEI7S0FLSzs7Q0FFNEQsb0JBQzVEO1FBSUQ7UUFPSyxzQ0FBOEI7UUFFbEMscUNBQXlCLGlCQUFpQjtRQUcxQyx1Q0FBNEIsZ0JBQ3pCO1FBRUgscUNBQStCLGdCQUM1QjtRQUVILG9DQUFXO1FBR1AsK0JBQVk7O0VBRXlCO0NBRXRDOztnQkFJSCx1QkFBK0I7TUFFL0I7R0FDQSxZQUNEOztHQUlDLFFBQU87SUFDUCxxQ0FBc0IsaUJBQWlCO0lBQ3ZDLG9DQUF5QixnQkFBaUI7SUFDMUMsdUNBQStCLGlCQUM1QjtJQUNILHNDQUFXOzs7U0FLWCwrQ0FDYSxVQUFZLHNCQUFnQjs7U0FJMUM7SUFHRCxtQ0FBMEIsaUJBQXFCO0lBQzdDLGlDQUEwQixpQkFBSztJQUMvQixzQ0FBeUIsaUJBQ3ZCO0lBQ0Esb0NBQVUsaUJBQ1Y7SUFDQSxnQ0FBUTtJQUNULHdEQUNEO0lBQ0UsMkJBQU07SUFDTixXQUFLOzs7U0FHTCxZQUFNO0lBQ04sbUNBQUs7SUFDUDtJQUNBLHNDQUFRLGdCQUNSO0lBQ0Esb0NBQVksZ0JBQ1o7SUFDRSxnQ0FBUTtJQUNSLHVDQUFrQixnQkFDcEI7SUFDRDtJQUdELFdBQU07OztTQU1FLFlBQUk7SUFDWixPQUFRO0lBQ047SUFDQSxpQ0FBaUIsaUJBQWE7SUFDaEMsd0RBQ0E7SUFDRSxXQUFJOzs7U0FHSixXQUFVO0lBQ1YsbUJBQWE7SUFDYiw4QkFBWSxnQkFBeUI7SUFDdEM7SUFDSCx1Q0FBZ0IsZ0JBQ2Q7SUFDRTs7O1NBSUo7SUFDRjtJQUNNLHFDQUVFLFVBQVMsR0FDWixVQUFPLEdBQ1AsUUFBTztJQUVQLFdBQ0U7SUFHRCxTQUNFLE1BQUksV0FDSixLQUFDO0lBRVgsUUFBWTtJQUNaLFNBQVk7SUFDWixZQUFtQjtJQUNuQixZQUNVLFFBQUcseUJBQ0wsU0FBSTs7O1NBS0Ysc0RBQ0QsbURBQ0Y7O1NBR0o7R0FDQyw0RUFBa0Q7R0FDbkQsMERBRUksa0JBQWdCLGFBQVc7O0dBRTVCLFFBQVEsc0NBQUk7SUFDVixVQUFDLGlCQUFtQjtJQUNyQjtJQUNDLGlCQUFVLGlCQUFJO0lBQ2QsZ0JBQVUsaUJBQVE7SUFDbEIsbUJBQWEsaUJBQWM7SUFDM0Isa0JBQVksaUJBQWE7O0VBRWpDLFFBQVc7R0FDWCxRQUFRLDBDQUNSLDREQUNRO1NBRVIsZ0JBQWtCO0VBQ2xCO0NBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0NBWVM7Ozs7Ozs7Ozs7Y0FHTyxlQUFhO2VBQ3RCO2NBQ1csS0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztjQU5kOzs7Ozs7Ozs7Ozs7Ozs7OzsrQkFvQmUsZ0JBQTJCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQkFVeEM7Ozs7K0JBQ0Y7Ozs7K0JBQ0Y7Ozs7K0JBRUMsaUJBQ0ksY0FBUTs7OzsrQkFDRDs7OzsrQkFDUzs7OzsrQkFDVjs7OzJCQUNlLGlDQUNuQjt5QkFDa0IsaUNBQ1Ysa0JBQVM7OEJBQ3hCLG9DQUNpQjs0QkFDRixvQ0FDQSxxQkFBSTttQkFDdEI7d0JBRWlCLG1DQUNHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7K0JBVUM7Ozs7K0JBQ0QsZ0JBQ2IsZ0JBQUk7Ozs7K0JBQ0UsZ0JBQ0osY0FBSTs7OzsrQkFDYjs7Ozs7Ozs7K0JBRXNCOzs7MkJBQ1AsaUNBQ0EsbUJBQU07eUJBQ0ksaUNBQ0w7OEJBQ2EsV0FBTSx5QkFDeEI7NEJBQ2Y7bUJBRWEsOEJBQ0U7d0JBQ1MsbUNBQ1Qsb0JBQU07Ozs7Ozs7Ozs7Ozs7OztDQXpGdkIiLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlN0YXRpY1NlY3Rpb24uc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjwhLS1cblN0YXRpY1NlY3Rpb24uc3ZlbHRlIC0gU3RhdGljIHBpY3RvZ3JhcGggd2l0aCBtb3Rpb24gY29udHJvbHNcblxuQ29tYmluZXMgc3RhdGljIHBpY3RvZ3JhcGggZGlzcGxheSAobm8gY2FyZCB3cmFwcGVyKSB3aXRoIG1vdGlvbiBkZXNpZ25lciBjb250cm9sc1xuKGJsdWUvcmVkIHByb3AgcGFuZWxzKSBiZWxvdy4gR3JpZCB0b2dnbGUgcG9zaXRpb25lZCBhcyBvdmVybGF5IG9uIHBpY3RvZ3JhcGguXG5UaGlzIGlzIHRoZSBsZWZ0IDIvMyBzZWN0aW9uIG9mIHRoZSBuZXcgbGF5b3V0LlxuLS0+XG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgdHlwZSB7IE1vdGlvblRlc3RlclN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlL21vdGlvbi10ZXN0ZXItc3RhdGUuc3ZlbHRlXCI7XG4gIGltcG9ydCBQaWN0b2dyYXBoIGZyb20gXCIkbGliL2NvbXBvbmVudHMvcGljdG9ncmFwaC9QaWN0b2dyYXBoLnN2ZWx0ZVwiO1xuICBpbXBvcnQgUHJvcFBhbmVsIGZyb20gXCIuL1Byb3BQYW5lbC5zdmVsdGVcIjtcbiAgaW1wb3J0IFNpbXBsZUdyaWRUb2dnbGUgZnJvbSBcIi4vU2ltcGxlR3JpZFRvZ2dsZS5zdmVsdGVcIjtcbiAgaW1wb3J0IExldHRlcklkZW50aWZpY2F0aW9uRGlzcGxheSBmcm9tIFwiLi9MZXR0ZXJJZGVudGlmaWNhdGlvbkRpc3BsYXkuc3ZlbHRlXCI7XG4gIGltcG9ydCB7IHJlc29sdmUgfSBmcm9tIFwiJGxpYi9zZXJ2aWNlcy9ib290c3RyYXBcIjtcbiAgaW1wb3J0IHsgSUFycm93UG9zaXRpb25pbmdPcmNoZXN0cmF0b3JJbnRlcmZhY2UgfSBmcm9tIFwiJGxpYi9zZXJ2aWNlcy9kaS9pbnRlcmZhY2VzL3Bvc2l0aW9uaW5nLWludGVyZmFjZXNcIjtcbiAgaW1wb3J0IHR5cGUgeyBQaWN0b2dyYXBoRGF0YSB9IGZyb20gXCIkbGliL2RvbWFpblwiO1xuICBpbXBvcnQge1xuICAgIGNyZWF0ZVBpY3RvZ3JhcGhEYXRhLFxuICAgIGNyZWF0ZU1vdGlvbkRhdGEsXG4gICAgY3JlYXRlUHJvcERhdGEsXG4gICAgY3JlYXRlR3JpZERhdGEsXG4gIH0gZnJvbSBcIiRsaWIvZG9tYWluXCI7XG4gIGltcG9ydCB7XG4gICAgTW90aW9uVHlwZSxcbiAgICBPcmllbnRhdGlvbixcbiAgICBHcmlkTW9kZSxcbiAgICBNb3Rpb25Db2xvcixcbiAgICBMb2NhdGlvbixcbiAgICBSb3RhdGlvbkRpcmVjdGlvbixcbiAgfSBmcm9tIFwiJGxpYi9kb21haW4vZW51bXNcIjtcblxuICBpbnRlcmZhY2UgUHJvcHMge1xuICAgIG1vdGlvblN0YXRlOiBNb3Rpb25UZXN0ZXJTdGF0ZTtcbiAgfVxuXG4gIGxldCB7IG1vdGlvblN0YXRlIH06IFByb3BzID0gJHByb3BzKCk7XG5cbiAgLy8gRml4ZWQgc2l6ZSBmb3IgY29uc2lzdGVudCBsYXlvdXRcbiAgY29uc3QgUElDVE9HUkFQSF9TSVpFID0gMzIwO1xuXG4gIC8vIFJlc29sdmUgc2VydmljZXNcbiAgY29uc3QgYXJyb3dQb3NpdGlvbmluZ1NlcnZpY2UgPSByZXNvbHZlKFxuICAgIElBcnJvd1Bvc2l0aW9uaW5nT3JjaGVzdHJhdG9ySW50ZXJmYWNlXG4gICk7XG5cbiAgLy8gVXNlIENTViBsb29rdXAgc2VydmljZSB0byBnZXQgcmVhbCBwaWN0b2dyYXBoIGRhdGFcbiAgbGV0IHBpY3RvZ3JhcGhEYXRhID0gJHN0YXRlPFBpY3RvZ3JhcGhEYXRhIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRWZmZWN0IHRvIHVwZGF0ZSBwaWN0b2dyYXBoIGRhdGEgd2hlbiBtb3Rpb24gcGFyYW1ldGVycyBjaGFuZ2VcbiAgJGVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQWNjZXNzIHNwZWNpZmljIHByb3BlcnRpZXMgdG8gZXN0YWJsaXNoIHJlYWN0aXZlIGRlcGVuZGVuY2llc1xuICAgIC8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgaW50ZW50aW9uYWxseSB1bnVzZWQgLSB0aGV5IGV4aXN0IG9ubHkgdG8gdHJhY2sgY2hhbmdlc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBjb25zdCBibHVlU3RhcnRMb2NhdGlvbiA9IG1vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXMuc3RhcnRMb2NhdGlvbjtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgYmx1ZUVuZExvY2F0aW9uID0gbW90aW9uU3RhdGUuYmx1ZU1vdGlvblBhcmFtcy5lbmRMb2NhdGlvbjtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgYmx1ZU1vdGlvblR5cGUgPSBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLm1vdGlvblR5cGU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGNvbnN0IHJlZFN0YXJ0TG9jYXRpb24gPSBtb3Rpb25TdGF0ZS5yZWRNb3Rpb25QYXJhbXMuc3RhcnRMb2NhdGlvbjtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgcmVkRW5kTG9jYXRpb24gPSBtb3Rpb25TdGF0ZS5yZWRNb3Rpb25QYXJhbXMuZW5kTG9jYXRpb247XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGNvbnN0IHJlZE1vdGlvblR5cGUgPSBtb3Rpb25TdGF0ZS5yZWRNb3Rpb25QYXJhbXMubW90aW9uVHlwZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY29uc3QgZ3JpZFR5cGUgPSBtb3Rpb25TdGF0ZS5ncmlkVHlwZTtcblxuICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBwaWN0b2dyYXBoIGRhdGEgdXNpbmcgQ1NWIGxvb2t1cFxuICAgIHVwZGF0ZVBpY3RvZ3JhcGhEYXRhKCk7XG4gIH0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBpY3RvZ3JhcGhEYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCLwn5SNIFN0YXRpY1NlY3Rpb246IENyZWF0aW5nIGR5bmFtaWMgcGljdG9ncmFwaCBmcm9tIG1vdGlvbiBwYXJhbWV0ZXJzLi4uXCJcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflI0gU3RhdGljU2VjdGlvbjogQ3VycmVudCBtb3Rpb24gc3RhdGUgdmFsdWVzOlwiLCB7XG4gICAgICAgIGJsdWVFbmRMb2NhdGlvbjogbW90aW9uU3RhdGUuYmx1ZU1vdGlvblBhcmFtcy5lbmRMb2NhdGlvbixcbiAgICAgICAgcmVkRW5kTG9jYXRpb246IG1vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtcy5lbmRMb2NhdGlvbixcbiAgICAgICAgYmx1ZVN0YXJ0TG9jYXRpb246IG1vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXMuc3RhcnRMb2NhdGlvbixcbiAgICAgICAgcmVkU3RhcnRMb2NhdGlvbjogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLnN0YXJ0TG9jYXRpb24sXG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IHRoZSBncmlkIG1vZGVcbiAgICAgIGNvbnN0IGdyaWRNb2RlID1cbiAgICAgICAgbW90aW9uU3RhdGUuZ3JpZFR5cGUgPT09IFwiZGlhbW9uZFwiID8gR3JpZE1vZGUuRElBTU9ORCA6IEdyaWRNb2RlLkJPWDtcblxuICAgICAgLy8gQ3JlYXRlIG1vdGlvbiBkYXRhIGZyb20gY3VycmVudCBtb3Rpb24gcGFyYW1ldGVyc1xuICAgICAgY29uc3QgYmx1ZU1vdGlvbiA9IGNyZWF0ZU1vdGlvbkRhdGEoe1xuICAgICAgICBzdGFydExvY2F0aW9uOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLnN0YXJ0TG9jYXRpb24gYXMgTG9jYXRpb24sXG4gICAgICAgIGVuZExvY2F0aW9uOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLmVuZExvY2F0aW9uIGFzIExvY2F0aW9uLFxuICAgICAgICBzdGFydE9yaWVudGF0aW9uOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zXG4gICAgICAgICAgLnN0YXJ0T3JpZW50YXRpb24gYXMgT3JpZW50YXRpb24sXG4gICAgICAgIGVuZE9yaWVudGF0aW9uOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zXG4gICAgICAgICAgLmVuZE9yaWVudGF0aW9uIGFzIE9yaWVudGF0aW9uLFxuICAgICAgICBtb3Rpb25UeXBlOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLm1vdGlvblR5cGUgYXMgTW90aW9uVHlwZSxcbiAgICAgICAgcm90YXRpb25EaXJlY3Rpb246IG1vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXNcbiAgICAgICAgICAucm90YXRpb25EaXJlY3Rpb24gYXMgUm90YXRpb25EaXJlY3Rpb24sXG4gICAgICAgIHR1cm5zOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLnR1cm5zLFxuICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVkTW90aW9uID0gY3JlYXRlTW90aW9uRGF0YSh7XG4gICAgICAgIHN0YXJ0TG9jYXRpb246IG1vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtcy5zdGFydExvY2F0aW9uIGFzIExvY2F0aW9uLFxuICAgICAgICBlbmRMb2NhdGlvbjogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLmVuZExvY2F0aW9uIGFzIExvY2F0aW9uLFxuICAgICAgICBzdGFydE9yaWVudGF0aW9uOiBtb3Rpb25TdGF0ZS5yZWRNb3Rpb25QYXJhbXNcbiAgICAgICAgICAuc3RhcnRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbixcbiAgICAgICAgZW5kT3JpZW50YXRpb246IG1vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtc1xuICAgICAgICAgIC5lbmRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbixcbiAgICAgICAgbW90aW9uVHlwZTogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLm1vdGlvblR5cGUgYXMgTW90aW9uVHlwZSxcbiAgICAgICAgcm90YXRpb25EaXJlY3Rpb246IG1vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtc1xuICAgICAgICAgIC5yb3RhdGlvbkRpcmVjdGlvbiBhcyBSb3RhdGlvbkRpcmVjdGlvbixcbiAgICAgICAgdHVybnM6IG1vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtcy50dXJucyxcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBwcm9wcyBiYXNlZCBvbiBtb3Rpb24gZW5kIGxvY2F0aW9uc1xuICAgICAgY29uc3QgYmx1ZVByb3BzID0gY3JlYXRlUHJvcERhdGEoe1xuICAgICAgICBjb2xvcjogTW90aW9uQ29sb3IuQkxVRSxcbiAgICAgICAgbG9jYXRpb246IG1vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXMuZW5kTG9jYXRpb24gYXMgTG9jYXRpb24sXG4gICAgICAgIG9yaWVudGF0aW9uOiBtb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLmVuZE9yaWVudGF0aW9uIGFzIE9yaWVudGF0aW9uLFxuICAgICAgICByb3RhdGlvbkRpcmVjdGlvbjogbW90aW9uU3RhdGUuYmx1ZU1vdGlvblBhcmFtc1xuICAgICAgICAgIC5yb3RhdGlvbkRpcmVjdGlvbiBhcyBSb3RhdGlvbkRpcmVjdGlvbixcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlZFByb3BzID0gY3JlYXRlUHJvcERhdGEoe1xuICAgICAgICBjb2xvcjogTW90aW9uQ29sb3IuUkVELFxuICAgICAgICBsb2NhdGlvbjogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLmVuZExvY2F0aW9uIGFzIExvY2F0aW9uLFxuICAgICAgICBvcmllbnRhdGlvbjogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLmVuZE9yaWVudGF0aW9uIGFzIE9yaWVudGF0aW9uLFxuICAgICAgICByb3RhdGlvbkRpcmVjdGlvbjogbW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zXG4gICAgICAgICAgLnJvdGF0aW9uRGlyZWN0aW9uIGFzIFJvdGF0aW9uRGlyZWN0aW9uLFxuICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBwaWN0b2dyYXBoIGRhdGFcbiAgICAgIGNvbnN0IGR5bmFtaWNQaWN0b2dyYXBoID0gY3JlYXRlUGljdG9ncmFwaERhdGEoe1xuICAgICAgICBpZDogYG1vdGlvbi10ZXN0ZXItJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIGdyaWREYXRhOiBjcmVhdGVHcmlkRGF0YSh7XG4gICAgICAgICAgZ3JpZE1vZGU6IGdyaWRNb2RlLFxuICAgICAgICAgIGNlbnRlcl94OiAwLFxuICAgICAgICAgIGNlbnRlcl95OiAwLFxuICAgICAgICAgIHJhZGl1czogMTAwLFxuICAgICAgICB9KSxcbiAgICAgICAgbW90aW9uczoge1xuICAgICAgICAgIGJsdWU6IGJsdWVNb3Rpb24sXG4gICAgICAgICAgcmVkOiByZWRNb3Rpb24sXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgYmx1ZTogYmx1ZVByb3BzLFxuICAgICAgICAgIHJlZDogcmVkUHJvcHMsXG4gICAgICAgIH0sXG4gICAgICAgIGxldHRlcjogXCJcIixcbiAgICAgICAgaXNCbGFuazogZmFsc2UsXG4gICAgICAgIGlzTWlycm9yZWQ6IGZhbHNlLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHNvdXJjZTogXCJtb3Rpb25fdGVzdGVyX2R5bmFtaWNcIixcbiAgICAgICAgICBjcmVhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFwcGx5IGFycm93IHBvc2l0aW9uaW5nIHRvIGdldCBmaW5hbCBwb3NpdGlvbmVkIHBpY3RvZ3JhcGhcbiAgICAgIGNvbnN0IHBvc2l0aW9uZWRQaWN0b2dyYXBoID1cbiAgICAgICAgYXdhaXQgYXJyb3dQb3NpdGlvbmluZ1NlcnZpY2UuY2FsY3VsYXRlQWxsQXJyb3dQb3NpdGlvbnMoXG4gICAgICAgICAgZHluYW1pY1BpY3RvZ3JhcGhcbiAgICAgICAgKTtcblxuICAgICAgcGljdG9ncmFwaERhdGEgPSBwb3NpdGlvbmVkUGljdG9ncmFwaDtcbiAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFN0YXRpY1NlY3Rpb246IER5bmFtaWMgcGljdG9ncmFwaCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCLwn5SnIFtERUJVR10gcGljdG9ncmFwaERhdGEgaXM6XCIsXG4gICAgICAgIHBpY3RvZ3JhcGhEYXRhID8gXCJOT1QgTlVMTFwiIDogXCJOVUxMXCJcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflKcgW0RFQlVHXSBQaWN0b2dyYXBoIGRhdGE6XCIsIHtcbiAgICAgICAgaWQ6IHBpY3RvZ3JhcGhEYXRhPy5pZCxcbiAgICAgICAgbGV0dGVyOiBwaWN0b2dyYXBoRGF0YT8ubGV0dGVyLFxuICAgICAgICBibHVlUHJvcHM6IHBpY3RvZ3JhcGhEYXRhPy5wcm9wcz8uYmx1ZSxcbiAgICAgICAgcmVkUHJvcHM6IHBpY3RvZ3JhcGhEYXRhPy5wcm9wcz8ucmVkLFxuICAgICAgICBibHVlTW90aW9uczogcGljdG9ncmFwaERhdGE/Lm1vdGlvbnM/LmJsdWUsXG4gICAgICAgIHJlZE1vdGlvbnM6IHBpY3RvZ3JhcGhEYXRhPy5tb3Rpb25zPy5yZWQsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCLinYwgU3RhdGljU2VjdGlvbjogRXJyb3IgY3JlYXRpbmcgZHluYW1pYyBwaWN0b2dyYXBoOlwiLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICAgIHBpY3RvZ3JhcGhEYXRhID0gbnVsbDtcbiAgICB9XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwic3RhdGljLXNlY3Rpb25cIj5cbiAgPCEtLSBTdGF0aWMgUGljdG9ncmFwaCB3aXRoIEdyaWQgVG9nZ2xlIE92ZXJsYXkgLS0+XG4gIDxkaXYgY2xhc3M9XCJwaWN0b2dyYXBoLWFyZWFcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZ3JpZC10b2dnbGUtb3ZlcmxheVwiPlxuICAgICAgPFNpbXBsZUdyaWRUb2dnbGUgc3RhdGU9e21vdGlvblN0YXRlfSAvPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInBpY3RvZ3JhcGgtY29udGFpbmVyXCI+XG4gICAgICB7I2lmIHBpY3RvZ3JhcGhEYXRhfVxuICAgICAgICB7I2tleSBwaWN0b2dyYXBoRGF0YS5pZH1cbiAgICAgICAgICA8UGljdG9ncmFwaFxuICAgICAgICAgICAge3BpY3RvZ3JhcGhEYXRhfVxuICAgICAgICAgICAgd2lkdGg9e1BJQ1RPR1JBUEhfU0laRX1cbiAgICAgICAgICAgIGhlaWdodD17UElDVE9HUkFQSF9TSVpFfVxuICAgICAgICAgICAgZGVidWc9e2ZhbHNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIHsva2V5fVxuICAgICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZXJyb3Itc3RhdGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yLWljb25cIj7imqDvuI88L3NwYW4+XG4gICAgICAgICAgPHA+VW5hYmxlIHRvIGRpc3BsYXkgcGljdG9ncmFwaDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICB7L2lmfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8IS0tIExldHRlciBJZGVudGlmaWNhdGlvbiBEaXNwbGF5IC0tPlxuICA8TGV0dGVySWRlbnRpZmljYXRpb25EaXNwbGF5XG4gICAgaWRlbnRpZmljYXRpb25SZXN1bHQ9e21vdGlvblN0YXRlLmlkZW50aWZpZWRMZXR0ZXJ9XG4gIC8+XG5cbiAgPCEtLSBNb3Rpb24gRGVzaWduZXIgQ29udHJvbHMgLS0+XG4gIDxkaXYgY2xhc3M9XCJtb3Rpb24tY29udHJvbHNcIj5cbiAgICA8IS0tIEJsdWUgUHJvcCBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJwcm9wLXNlY3Rpb25cIj5cbiAgICAgIDxQcm9wUGFuZWxcbiAgICAgICAgcHJvcE5hbWU9XCJCbHVlXCJcbiAgICAgICAgcHJvcENvbG9yPVwiIzYwYTVmYVwiXG4gICAgICAgIHN0YXJ0TG9jYXRpb249e21vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXMuc3RhcnRMb2NhdGlvbn1cbiAgICAgICAgZW5kTG9jYXRpb249e21vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXMuZW5kTG9jYXRpb259XG4gICAgICAgIHN0YXJ0T3JpZW50YXRpb249e21vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXNcbiAgICAgICAgICAuc3RhcnRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbn1cbiAgICAgICAgZW5kT3JpZW50YXRpb249e21vdGlvblN0YXRlLmJsdWVNb3Rpb25QYXJhbXNcbiAgICAgICAgICAuZW5kT3JpZW50YXRpb24gYXMgT3JpZW50YXRpb259XG4gICAgICAgIHR1cm5zPXttb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLnR1cm5zfVxuICAgICAgICBtb3Rpb25UeXBlPXttb3Rpb25TdGF0ZS5ibHVlTW90aW9uUGFyYW1zLm1vdGlvblR5cGUgYXMgTW90aW9uVHlwZX1cbiAgICAgICAgZ3JpZE1vZGU9e21vdGlvblN0YXRlLmdyaWRUeXBlfVxuICAgICAgICBvblN0YXJ0TG9jYXRpb25DaGFuZ2U9eyhsb2NhdGlvbikgPT5cbiAgICAgICAgICBtb3Rpb25TdGF0ZS5zZXRCbHVlU3RhcnRMb2NhdGlvbihsb2NhdGlvbil9XG4gICAgICAgIG9uRW5kTG9jYXRpb25DaGFuZ2U9eyhsb2NhdGlvbikgPT5cbiAgICAgICAgICBtb3Rpb25TdGF0ZS5zZXRCbHVlRW5kTG9jYXRpb24obG9jYXRpb24pfVxuICAgICAgICBvblN0YXJ0T3JpZW50YXRpb25DaGFuZ2U9eyhvcmllbnRhdGlvbikgPT5cbiAgICAgICAgICBtb3Rpb25TdGF0ZS51cGRhdGVCbHVlTW90aW9uUGFyYW0oXCJzdGFydE9yaWVudGF0aW9uXCIsIG9yaWVudGF0aW9uKX1cbiAgICAgICAgb25FbmRPcmllbnRhdGlvbkNoYW5nZT17KG9yaWVudGF0aW9uKSA9PlxuICAgICAgICAgIG1vdGlvblN0YXRlLnVwZGF0ZUJsdWVNb3Rpb25QYXJhbShcImVuZE9yaWVudGF0aW9uXCIsIG9yaWVudGF0aW9uKX1cbiAgICAgICAgb25UdXJuc0NoYW5nZT17KHR1cm5zKSA9PlxuICAgICAgICAgIG1vdGlvblN0YXRlLnVwZGF0ZUJsdWVNb3Rpb25QYXJhbShcInR1cm5zXCIsIHR1cm5zKX1cbiAgICAgICAgb25Nb3Rpb25UeXBlQ2hhbmdlPXsobW90aW9uVHlwZSkgPT5cbiAgICAgICAgICBtb3Rpb25TdGF0ZS51cGRhdGVCbHVlTW90aW9uUGFyYW0oXCJtb3Rpb25UeXBlXCIsIG1vdGlvblR5cGUpfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gUmVkIFByb3AgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwicHJvcC1zZWN0aW9uXCI+XG4gICAgICA8UHJvcFBhbmVsXG4gICAgICAgIHByb3BOYW1lPVwiUmVkXCJcbiAgICAgICAgcHJvcENvbG9yPVwiI2Y4NzE3MVwiXG4gICAgICAgIHN0YXJ0TG9jYXRpb249e21vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtcy5zdGFydExvY2F0aW9ufVxuICAgICAgICBlbmRMb2NhdGlvbj17bW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLmVuZExvY2F0aW9ufVxuICAgICAgICBzdGFydE9yaWVudGF0aW9uPXttb3Rpb25TdGF0ZS5yZWRNb3Rpb25QYXJhbXNcbiAgICAgICAgICAuc3RhcnRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbn1cbiAgICAgICAgZW5kT3JpZW50YXRpb249e21vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtc1xuICAgICAgICAgIC5lbmRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbn1cbiAgICAgICAgdHVybnM9e21vdGlvblN0YXRlLnJlZE1vdGlvblBhcmFtcy50dXJuc31cbiAgICAgICAgbW90aW9uVHlwZT17bW90aW9uU3RhdGUucmVkTW90aW9uUGFyYW1zLm1vdGlvblR5cGUgYXMgTW90aW9uVHlwZX1cbiAgICAgICAgZ3JpZE1vZGU9e21vdGlvblN0YXRlLmdyaWRUeXBlfVxuICAgICAgICBvblN0YXJ0TG9jYXRpb25DaGFuZ2U9eyhsb2NhdGlvbikgPT5cbiAgICAgICAgICBtb3Rpb25TdGF0ZS5zZXRSZWRTdGFydExvY2F0aW9uKGxvY2F0aW9uKX1cbiAgICAgICAgb25FbmRMb2NhdGlvbkNoYW5nZT17KGxvY2F0aW9uKSA9PlxuICAgICAgICAgIG1vdGlvblN0YXRlLnNldFJlZEVuZExvY2F0aW9uKGxvY2F0aW9uKX1cbiAgICAgICAgb25TdGFydE9yaWVudGF0aW9uQ2hhbmdlPXsob3JpZW50YXRpb24pID0+XG4gICAgICAgICAgbW90aW9uU3RhdGUudXBkYXRlUmVkTW90aW9uUGFyYW0oXCJzdGFydE9yaWVudGF0aW9uXCIsIG9yaWVudGF0aW9uKX1cbiAgICAgICAgb25FbmRPcmllbnRhdGlvbkNoYW5nZT17KG9yaWVudGF0aW9uKSA9PlxuICAgICAgICAgIG1vdGlvblN0YXRlLnVwZGF0ZVJlZE1vdGlvblBhcmFtKFwiZW5kT3JpZW50YXRpb25cIiwgb3JpZW50YXRpb24pfVxuICAgICAgICBvblR1cm5zQ2hhbmdlPXsodHVybnMpID0+XG4gICAgICAgICAgbW90aW9uU3RhdGUudXBkYXRlUmVkTW90aW9uUGFyYW0oXCJ0dXJuc1wiLCB0dXJucyl9XG4gICAgICAgIG9uTW90aW9uVHlwZUNoYW5nZT17KG1vdGlvblR5cGUpID0+XG4gICAgICAgICAgbW90aW9uU3RhdGUudXBkYXRlUmVkTW90aW9uUGFyYW0oXCJtb3Rpb25UeXBlXCIsIG1vdGlvblR5cGUpfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAuc3RhdGljLXNlY3Rpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxuICAgICAgMTM1ZGVnLFxuICAgICAgcmdiYSgxNiwgMTg1LCAxMjksIDAuMDMpLFxuICAgICAgcmdiYSg1OSwgMTMwLCAyNDYsIDAuMDMpXG4gICAgKTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBjb250YWluZXItdHlwZTogc2l6ZTtcbiAgfVxuXG4gIC5waWN0b2dyYXBoLWFyZWEge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDIpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gIH1cblxuICAuZ3JpZC10b2dnbGUtb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMTZweDtcbiAgICByaWdodDogMTZweDtcbiAgICB6LWluZGV4OiAxMDtcbiAgfVxuXG4gIC5waWN0b2dyYXBoLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDEpO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gIH1cblxuICAuZXJyb3Itc3RhdGUge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGNvbG9yOiAjZjg3MTcxO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA0MHB4O1xuICB9XG5cbiAgLmVycm9yLWljb24ge1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICB9XG5cbiAgLmVycm9yLXN0YXRlIHAge1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6ICNmY2E1YTU7XG4gIH1cblxuICAubW90aW9uLWNvbnRyb2xzIHtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgIGdhcDogMWNxdztcbiAgICBwYWRkaW5nOiAxLjVjcXc7XG4gICAgbWluLWhlaWdodDogMDtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBjb250YWluZXItdHlwZTogc2l6ZTtcbiAgfVxuXG4gIC5wcm9wLXNlY3Rpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbWluLWhlaWdodDogMDtcbiAgfVxuXG4gIC8qIENvbnRhaW5lci1iYXNlZCByZXNwb25zaXZlIGxheW91dCAqL1xuICBAY29udGFpbmVyIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gICAgLm1vdGlvbi1jb250cm9scyB7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICAgIGdhcDogMS41Y3F3O1xuICAgICAgcGFkZGluZzogMmNxdztcbiAgICB9XG4gIH1cblxuICBAY29udGFpbmVyIChtYXgtd2lkdGg6IDQwMHB4KSB7XG4gICAgLm1vdGlvbi1jb250cm9scyB7XG4gICAgICBnYXA6IDJjcXc7XG4gICAgICBwYWRkaW5nOiAyLjVjcXc7XG4gICAgfVxuICB9XG5cbiAgLyogRmFsbGJhY2sgbWVkaWEgcXVlcmllcyBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLnBpY3RvZ3JhcGgtYXJlYSB7XG4gICAgICBwYWRkaW5nOiAxLjV2dztcbiAgICB9XG5cbiAgICAubW90aW9uLWNvbnRyb2xzIHtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgICAgcGFkZGluZzogMnZ3O1xuICAgICAgZ2FwOiAxLjV2dztcbiAgICB9XG5cbiAgICAuZ3JpZC10b2dnbGUtb3ZlcmxheSB7XG4gICAgICB0b3A6IDF2dztcbiAgICAgIHJpZ2h0OiAxdnc7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIl0sImZpbGUiOiJGOi9DT0RFL1RLQS93ZWIvc3JjL3JvdXRlcy9tb3Rpb24tdGVzdGVyL2NvbXBvbmVudHMvU3RhdGljU2VjdGlvbi5zdmVsdGUifQ==