import {
  GridMode as DomainGridMode,
  Orientation,
  MotionColor
} from "/src/lib/domain/enums.ts";
import { DefaultPropPositioner } from "/src/lib/services/DefaultPropPositioner.ts";
import { PropRotAngleManager } from "/src/lib/services/PropRotAngleManager.ts";
export class PropRenderingService {
  svgCache = /* @__PURE__ */ new Map();
  SUPPORTED_PROPS = ["staff", "hand", "fan"];
  // Color transformation constants (matching desktop)
  COLOR_TRANSFORMATIONS = {
    [MotionColor.BLUE]: "#2E3192",
    [MotionColor.RED]: "#ED1C24"
  };
  constructor() {
  }
  /**
   * Render a prop as an SVG element
   * DISABLED: Props are now rendered by Prop.svelte components to avoid duplicates
   */
  async renderProp(_propType, _color, _motionData, _gridMode = DomainGridMode.DIAMOND) {
    const group = document.createElementNS("http://www.w3.org/2000/svg", "g");
    group.setAttribute("class", "prop-service-disabled");
    return group;
  }
  /**
   * Calculate prop position based on motion data using real grid coordinates
   */
  async calculatePropPosition(motionData, color, gridMode = DomainGridMode.DIAMOND) {
    try {
      const location = motionData?.endLocation || "s";
      const basePosition = DefaultPropPositioner.calculatePosition(
        location,
        gridMode
      );
      const rotation = this.calculatePropRotation(motionData, location);
      const offset = this.getColorOffset(color);
      return {
        x: basePosition.x + offset.x,
        y: basePosition.y + offset.y,
        rotation
      };
    } catch (error) {
      console.error("❌ Error calculating prop position:", error);
      return { x: 475, y: 475, rotation: 0 };
    }
  }
  /**
   * Load prop SVG with color transformation
   */
  async loadPropSVG(propType, color) {
    const cacheKey = `${propType}_${color}`;
    if (this.svgCache.has(cacheKey)) {
      const cached = this.svgCache.get(cacheKey);
      if (cached) return cached;
    }
    try {
      const response = await fetch(`/images/props/${propType}.svg`);
      if (!response.ok) {
        throw new Error(`Failed to load ${propType}.svg: ${response.status}`);
      }
      let svgContent = await response.text();
      svgContent = this.applyColorTransformation(svgContent, color);
      this.svgCache.set(cacheKey, svgContent);
      return svgContent;
    } catch (error) {
      console.error(`❌ Error loading ${propType} SVG:`, error);
      return this.createFallbackSVG(propType, color);
    }
  }
  /**
   * Get supported prop types
   */
  getSupportedPropTypes() {
    return [...this.SUPPORTED_PROPS];
  }
  /**
   * Apply color transformation to SVG content
   */
  applyColorTransformation(svgContent, color) {
    const targetColor = this.COLOR_TRANSFORMATIONS[color];
    svgContent = svgContent.replace(/fill="[^"]*"/g, `fill="${targetColor}"`);
    svgContent = svgContent.replace(/fill:[^;]*/g, `fill:${targetColor}`);
    svgContent = svgContent.replace(
      /stroke="[^"]*"/g,
      `stroke="${targetColor}"`
    );
    svgContent = svgContent.replace(/stroke:[^;]*/g, `stroke:${targetColor}`);
    return svgContent;
  }
  /**
   * Get coordinates for a location on the grid using real grid data
   */
  // getLocationCoordinates removed (unused)
  /**
   * Calculate prop rotation based on motion data using PropRotAngleManager for parity
   */
  calculatePropRotation(motionData, location) {
    const endLocation = location || motionData?.endLocation || "s";
    const endOrientation = motionData?.endOrientation || "in";
    let orientation;
    switch (endOrientation) {
      case "in":
        orientation = Orientation.IN;
        break;
      case "out":
        orientation = Orientation.OUT;
        break;
      case "clock":
        orientation = Orientation.CLOCK;
        break;
      case "counter":
        orientation = Orientation.COUNTER;
        break;
      default:
        orientation = Orientation.IN;
    }
    return PropRotAngleManager.calculateRotation(endLocation, orientation);
  }
  getColorOffset(color) {
    return color === "blue" ? { x: -8, y: -8 } : { x: 8, y: 8 };
  }
  /**
   * Create fallback SVG for missing props
   */
  createFallbackSVG(propType, color) {
    const fillColor = this.COLOR_TRANSFORMATIONS[color];
    return `
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
				<rect x="10" y="10" width="80" height="80" fill="${fillColor}" opacity="0.5"/>
				<text x="50" y="55" text-anchor="middle" font-size="12" fill="white">${propType}</text>
			</svg>
		`;
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb3BSZW5kZXJpbmdTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvcCBSZW5kZXJpbmcgU2VydmljZSAtIFdlYiBJbXBsZW1lbnRhdGlvblxuICpcbiAqIFRoaXMgc2VydmljZSBoYW5kbGVzIHByb3AgcmVuZGVyaW5nIGZvciB0aGUgd2ViIGFwcCwgaW5jbHVkaW5nOlxuICogLSBMb2FkaW5nIGFuZCBjYWNoaW5nIHByb3AgU1ZHIGFzc2V0c1xuICogLSBBcHBseWluZyBjb2xvciB0cmFuc2Zvcm1hdGlvbnNcbiAqIC0gQ2FsY3VsYXRpbmcgcHJvcCBwb3NpdGlvbnMgYmFzZWQgb24gbW90aW9uIGRhdGFcbiAqIC0gUmVuZGVyaW5nIHByb3BzIGFzIFNWRyBlbGVtZW50c1xuICovXG5cbmltcG9ydCB7XG4gIEdyaWRNb2RlIGFzIERvbWFpbkdyaWRNb2RlLFxuICBPcmllbnRhdGlvbixcbiAgTW90aW9uQ29sb3IsXG59IGZyb20gXCIuLi8uLi8uLi9kb21haW4vZW51bXNcIjtcbmltcG9ydCB7IERlZmF1bHRQcm9wUG9zaXRpb25lciB9IGZyb20gXCIuLi8uLi9EZWZhdWx0UHJvcFBvc2l0aW9uZXJcIjtcbmltcG9ydCB0eXBlIHsgTW90aW9uRGF0YSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2RvbWFpbi10eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBHcmlkTW9kZSwgUHJvcFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvY29yZS10eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBJUHJvcFJlbmRlcmluZ1NlcnZpY2UgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9wb3NpdGlvbmluZy1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBQcm9wUm90QW5nbGVNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL1Byb3BSb3RBbmdsZU1hbmFnZXJcIjtcblxuZXhwb3J0IGNsYXNzIFByb3BSZW5kZXJpbmdTZXJ2aWNlIGltcGxlbWVudHMgSVByb3BSZW5kZXJpbmdTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdmdDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgU1VQUE9SVEVEX1BST1BTID0gW1wic3RhZmZcIiwgXCJoYW5kXCIsIFwiZmFuXCJdO1xuXG4gIC8vIENvbG9yIHRyYW5zZm9ybWF0aW9uIGNvbnN0YW50cyAobWF0Y2hpbmcgZGVza3RvcClcbiAgcHJpdmF0ZSByZWFkb25seSBDT0xPUl9UUkFOU0ZPUk1BVElPTlMgPSB7XG4gICAgW01vdGlvbkNvbG9yLkJMVUVdOiBcIiMyRTMxOTJcIixcbiAgICBbTW90aW9uQ29sb3IuUkVEXTogXCIjRUQxQzI0XCIsXG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcFJlbmRlcmluZ1NlcnZpY2UgaW5pdGlhbGl6ZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBwcm9wIGFzIGFuIFNWRyBlbGVtZW50XG4gICAqIERJU0FCTEVEOiBQcm9wcyBhcmUgbm93IHJlbmRlcmVkIGJ5IFByb3Auc3ZlbHRlIGNvbXBvbmVudHMgdG8gYXZvaWQgZHVwbGljYXRlc1xuICAgKi9cbiAgYXN5bmMgcmVuZGVyUHJvcChcbiAgICBfcHJvcFR5cGU6IHN0cmluZyxcbiAgICBfY29sb3I6IE1vdGlvbkNvbG9yLFxuICAgIF9tb3Rpb25EYXRhOiBNb3Rpb25EYXRhLFxuICAgIF9ncmlkTW9kZTogR3JpZE1vZGUgPSBEb21haW5HcmlkTW9kZS5ESUFNT05EXG4gICk6IFByb21pc2U8U1ZHRWxlbWVudD4ge1xuICAgIC8vIFByb3BzIGFyZSBub3cgaGFuZGxlZCBieSBQaWN0b2dyYXBoLnN2ZWx0ZSAtPiBQcm9wLnN2ZWx0ZSBjb21wb25lbnRzXG4gICAgLy8gVGhpcyBzZXJ2aWNlLWxldmVsIHJlbmRlcmluZyBpcyBkaXNhYmxlZCB0byBwcmV2ZW50IGR1cGxpY2F0ZSBDSVJDTEVfUFJPUCBlbGVtZW50c1xuXG4gICAgLy8gUmV0dXJuIGVtcHR5IGdyb3VwIHRvIHByZXZlbnQgZXJyb3JzXG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgZ3JvdXAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwcm9wLXNlcnZpY2UtZGlzYWJsZWRcIik7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwcm9wIHBvc2l0aW9uIGJhc2VkIG9uIG1vdGlvbiBkYXRhIHVzaW5nIHJlYWwgZ3JpZCBjb29yZGluYXRlc1xuICAgKi9cbiAgYXN5bmMgY2FsY3VsYXRlUHJvcFBvc2l0aW9uKFxuICAgIG1vdGlvbkRhdGE6IE1vdGlvbkRhdGEsXG4gICAgY29sb3I6IE1vdGlvbkNvbG9yLFxuICAgIGdyaWRNb2RlOiBHcmlkTW9kZSA9IERvbWFpbkdyaWRNb2RlLkRJQU1PTkRcbiAgKTogUHJvbWlzZTxQcm9wUG9zaXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGVuZCBsb2NhdGlvbiBmb3IgcHJvcCBwb3NpdGlvbmluZyAoZG9tYWluIHVzZXMgZW5kTG9jYXRpb24pXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IChtb3Rpb25EYXRhPy5lbmRMb2NhdGlvbiBhcyB1bmtub3duIGFzIHN0cmluZykgfHwgXCJzXCI7XG5cbiAgICAgIC8vIFVzZSBEZWZhdWx0UHJvcFBvc2l0aW9uZXIgZm9yIGNvbnNpc3RlbnQgcG9zaXRpb25pbmdcbiAgICAgIGNvbnN0IGJhc2VQb3NpdGlvbiA9IERlZmF1bHRQcm9wUG9zaXRpb25lci5jYWxjdWxhdGVQb3NpdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGdyaWRNb2RlXG4gICAgICApO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcm90YXRpb24gdXNpbmcgUHJvcFJvdEFuZ2xlTWFuYWdlciBmb3IgcGFyaXR5IHdpdGggbGVnYWN5XG4gICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuY2FsY3VsYXRlUHJvcFJvdGF0aW9uKG1vdGlvbkRhdGEsIGxvY2F0aW9uKTtcblxuICAgICAgLy8gQXBwbHkgc21hbGwgb2Zmc2V0IGZvciBjb2xvciBzZXBhcmF0aW9uXG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmdldENvbG9yT2Zmc2V0KGNvbG9yKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogYmFzZVBvc2l0aW9uLnggKyBvZmZzZXQueCxcbiAgICAgICAgeTogYmFzZVBvc2l0aW9uLnkgKyBvZmZzZXQueSxcbiAgICAgICAgcm90YXRpb24sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIGNhbGN1bGF0aW5nIHByb3AgcG9zaXRpb246XCIsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBjZW50ZXIgcG9zaXRpb24gYXMgZmFsbGJhY2sgKDk1MHg5NTAgc2NlbmUpXG4gICAgICByZXR1cm4geyB4OiA0NzUsIHk6IDQ3NSwgcm90YXRpb246IDAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBwcm9wIFNWRyB3aXRoIGNvbG9yIHRyYW5zZm9ybWF0aW9uXG4gICAqL1xuICBhc3luYyBsb2FkUHJvcFNWRyhwcm9wVHlwZTogc3RyaW5nLCBjb2xvcjogTW90aW9uQ29sb3IpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7cHJvcFR5cGV9XyR7Y29sb3J9YDtcblxuICAgIGlmICh0aGlzLnN2Z0NhY2hlLmhhcyhjYWNoZUtleSkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuc3ZnQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIExvYWQgYmFzZSBTVkdcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9pbWFnZXMvcHJvcHMvJHtwcm9wVHlwZX0uc3ZnYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtwcm9wVHlwZX0uc3ZnOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHN2Z0NvbnRlbnQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cbiAgICAgIC8vIEFwcGx5IGNvbG9yIHRyYW5zZm9ybWF0aW9uXG4gICAgICBzdmdDb250ZW50ID0gdGhpcy5hcHBseUNvbG9yVHJhbnNmb3JtYXRpb24oc3ZnQ29udGVudCwgY29sb3IpO1xuXG4gICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XG4gICAgICB0aGlzLnN2Z0NhY2hlLnNldChjYWNoZUtleSwgc3ZnQ29udGVudCk7XG5cbiAgICAgIHJldHVybiBzdmdDb250ZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgbG9hZGluZyAke3Byb3BUeXBlfSBTVkc6YCwgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGZhbGxiYWNrIFNWR1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRmFsbGJhY2tTVkcocHJvcFR5cGUsIGNvbG9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN1cHBvcnRlZCBwcm9wIHR5cGVzXG4gICAqL1xuICBnZXRTdXBwb3J0ZWRQcm9wVHlwZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5TVVBQT1JURURfUFJPUFNdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGNvbG9yIHRyYW5zZm9ybWF0aW9uIHRvIFNWRyBjb250ZW50XG4gICAqL1xuICBwcml2YXRlIGFwcGx5Q29sb3JUcmFuc2Zvcm1hdGlvbihcbiAgICBzdmdDb250ZW50OiBzdHJpbmcsXG4gICAgY29sb3I6IE1vdGlvbkNvbG9yXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgdGFyZ2V0Q29sb3IgPSB0aGlzLkNPTE9SX1RSQU5TRk9STUFUSU9OU1tjb2xvcl07XG5cbiAgICAvLyBSZXBsYWNlIGNvbW1vbiBmaWxsIHBhdHRlcm5zXG4gICAgc3ZnQ29udGVudCA9IHN2Z0NvbnRlbnQucmVwbGFjZSgvZmlsbD1cIlteXCJdKlwiL2csIGBmaWxsPVwiJHt0YXJnZXRDb2xvcn1cImApO1xuICAgIHN2Z0NvbnRlbnQgPSBzdmdDb250ZW50LnJlcGxhY2UoL2ZpbGw6W147XSovZywgYGZpbGw6JHt0YXJnZXRDb2xvcn1gKTtcblxuICAgIC8vIFJlcGxhY2Ugc3Ryb2tlIHBhdHRlcm5zIGZvciBvdXRsaW5lc1xuICAgIHN2Z0NvbnRlbnQgPSBzdmdDb250ZW50LnJlcGxhY2UoXG4gICAgICAvc3Ryb2tlPVwiW15cIl0qXCIvZyxcbiAgICAgIGBzdHJva2U9XCIke3RhcmdldENvbG9yfVwiYFxuICAgICk7XG4gICAgc3ZnQ29udGVudCA9IHN2Z0NvbnRlbnQucmVwbGFjZSgvc3Ryb2tlOlteO10qL2csIGBzdHJva2U6JHt0YXJnZXRDb2xvcn1gKTtcblxuICAgIHJldHVybiBzdmdDb250ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb29yZGluYXRlcyBmb3IgYSBsb2NhdGlvbiBvbiB0aGUgZ3JpZCB1c2luZyByZWFsIGdyaWQgZGF0YVxuICAgKi9cbiAgLy8gZ2V0TG9jYXRpb25Db29yZGluYXRlcyByZW1vdmVkICh1bnVzZWQpXG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwcm9wIHJvdGF0aW9uIGJhc2VkIG9uIG1vdGlvbiBkYXRhIHVzaW5nIFByb3BSb3RBbmdsZU1hbmFnZXIgZm9yIHBhcml0eVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQcm9wUm90YXRpb24oXG4gICAgbW90aW9uRGF0YTogTW90aW9uRGF0YSxcbiAgICBsb2NhdGlvbj86IHN0cmluZ1xuICApOiBudW1iZXIge1xuICAgIC8vIFVzZSBQcm9wUm90QW5nbGVNYW5hZ2VyIGZvciBjb25zaXN0ZW50IHJvdGF0aW9uIGNhbGN1bGF0aW9uIHdpdGggbGVnYWN5XG4gICAgY29uc3QgZW5kTG9jYXRpb24gPVxuICAgICAgbG9jYXRpb24gfHwgKG1vdGlvbkRhdGE/LmVuZExvY2F0aW9uIGFzIHVua25vd24gYXMgc3RyaW5nKSB8fCBcInNcIjtcbiAgICBjb25zdCBlbmRPcmllbnRhdGlvbiA9XG4gICAgICAobW90aW9uRGF0YSBhcyB1bmtub3duIGFzIHsgZW5kT3JpZW50YXRpb24/OiBzdHJpbmcgfSk/LmVuZE9yaWVudGF0aW9uIHx8XG4gICAgICBcImluXCI7XG5cbiAgICAvLyBDb252ZXJ0IHN0cmluZyBvcmllbnRhdGlvbiB0byBlbnVtXG4gICAgbGV0IG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbjtcbiAgICBzd2l0Y2ggKGVuZE9yaWVudGF0aW9uKSB7XG4gICAgICBjYXNlIFwiaW5cIjpcbiAgICAgICAgb3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5JTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib3V0XCI6XG4gICAgICAgIG9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uT1VUO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjbG9ja1wiOlxuICAgICAgICBvcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkNMT0NLO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIG9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uQ09VTlRFUjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLklOO1xuICAgIH1cblxuICAgIC8vIERlbGVnYXRlIHRvIGFuZ2xlIG1hbmFnZXJcbiAgICByZXR1cm4gUHJvcFJvdEFuZ2xlTWFuYWdlci5jYWxjdWxhdGVSb3RhdGlvbihlbmRMb2NhdGlvbiwgb3JpZW50YXRpb24pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb2xvck9mZnNldChjb2xvcjogTW90aW9uQ29sb3IpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIC8vIFNtYWxsIG9mZnNldCB0byBwcmV2ZW50IHByb3BzIGZyb20gb3ZlcmxhcHBpbmdcbiAgICByZXR1cm4gY29sb3IgPT09IFwiYmx1ZVwiID8geyB4OiAtOCwgeTogLTggfSA6IHsgeDogOCwgeTogOCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBmYWxsYmFjayBTVkcgZm9yIG1pc3NpbmcgcHJvcHNcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlRmFsbGJhY2tTVkcocHJvcFR5cGU6IHN0cmluZywgY29sb3I6IE1vdGlvbkNvbG9yKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWxsQ29sb3IgPSB0aGlzLkNPTE9SX1RSQU5TRk9STUFUSU9OU1tjb2xvcl07XG4gICAgcmV0dXJuIGBcblx0XHRcdDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiPlxuXHRcdFx0XHQ8cmVjdCB4PVwiMTBcIiB5PVwiMTBcIiB3aWR0aD1cIjgwXCIgaGVpZ2h0PVwiODBcIiBmaWxsPVwiJHtmaWxsQ29sb3J9XCIgb3BhY2l0eT1cIjAuNVwiLz5cblx0XHRcdFx0PHRleHQgeD1cIjUwXCIgeT1cIjU1XCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBmb250LXNpemU9XCIxMlwiIGZpbGw9XCJ3aGl0ZVwiPiR7cHJvcFR5cGV9PC90ZXh0PlxuXHRcdFx0PC9zdmc+XG5cdFx0YDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFVQTtBQUFBLEVBQ0UsWUFBWTtBQUFBLEVBQ1o7QUFBQSxFQUNBO0FBQUEsT0FDSztBQUNQLFNBQVMsNkJBQTZCO0FBSXRDLFNBQVMsMkJBQTJCO0FBRTdCLGFBQU0scUJBQXNEO0FBQUEsRUFDekQsV0FBVyxvQkFBSSxJQUFvQjtBQUFBLEVBQzFCLGtCQUFrQixDQUFDLFNBQVMsUUFBUSxLQUFLO0FBQUE7QUFBQSxFQUd6Qyx3QkFB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