import {
  AnswerFormat,
  LESSON_CONFIGS,
  LESSON_INFO,
  LESSON_TYPE_NAMES,
  LessonType,
  QuestionFormat,
  QUIZ_DEFAULTS,
  QUIZ_MODE_NAMES,
  QuizMode
} from "/src/lib/types/learn.ts";
export class LessonConfigService {
  /**
   * Get configuration for a specific lesson type.
   */
  static getLessonConfig(lessonType) {
    const config = LESSON_CONFIGS[lessonType];
    if (!config) {
      throw new Error(`No configuration found for lesson type: ${lessonType}`);
    }
    return config;
  }
  /**
   * Get lesson information for display.
   */
  static getLessonInfo(lessonType) {
    const info = LESSON_INFO.find((lesson) => lesson.lessonType === lessonType);
    if (!info) {
      throw new Error(`No lesson info found for lesson type: ${lessonType}`);
    }
    return info;
  }
  /**
   * Get all available lesson types.
   */
  static getAvailableLessonTypes() {
    return Object.values(LessonType);
  }
  /**
   * Get all available quiz modes.
   */
  static getAvailableQuizModes() {
    return Object.values(QuizMode);
  }
  /**
   * Get display name for a lesson type.
   */
  static getLessonTypeName(lessonType) {
    return LESSON_TYPE_NAMES[lessonType] || lessonType;
  }
  /**
   * Get display name for a quiz mode.
   */
  static getQuizModeName(quizMode) {
    return QUIZ_MODE_NAMES[quizMode] || quizMode;
  }
  /**
   * Get total questions for a quiz mode.
   */
  static getTotalQuestions(quizMode) {
    switch (quizMode) {
      case QuizMode.FIXED_QUESTION:
        return QUIZ_DEFAULTS.FIXED_QUESTION_COUNT;
      case QuizMode.COUNTDOWN:
        return 0;
      // Unlimited questions in countdown mode
      default:
        return QUIZ_DEFAULTS.FIXED_QUESTION_COUNT;
    }
  }
  /**
   * Get quiz time for a quiz mode.
   */
  static getQuizTime(quizMode) {
    switch (quizMode) {
      case QuizMode.COUNTDOWN:
        return QUIZ_DEFAULTS.COUNTDOWN_TIME_SECONDS;
      case QuizMode.FIXED_QUESTION:
        return 0;
      // No time limit for fixed question mode
      default:
        return 0;
    }
  }
  /**
   * Validate lesson configuration.
   */
  static validateLessonConfig(config) {
    return Object.values(LessonType).includes(config.lessonType) && Object.values(QuestionFormat).includes(config.questionFormat) && Object.values(AnswerFormat).includes(config.answerFormat) && typeof config.quizDescription === "string" && typeof config.questionPrompt === "string";
  }
  /**
   * Check if a lesson type supports a specific question format.
   */
  static supportsQuestionFormat(lessonType, format) {
    const config = this.getLessonConfig(lessonType);
    return config.questionFormat === format;
  }
  /**
   * Check if a lesson type supports a specific answer format.
   */
  static supportsAnswerFormat(lessonType, format) {
    const config = this.getLessonConfig(lessonType);
    return config.answerFormat === format;
  }
  /**
   * Get lesson number from lesson type (for display purposes).
   */
  static getLessonNumber(lessonType) {
    switch (lessonType) {
      case LessonType.PICTOGRAPH_TO_LETTER:
        return 1;
      case LessonType.LETTER_TO_PICTOGRAPH:
        return 2;
      case LessonType.VALID_NEXT_PICTOGRAPH:
        return 3;
      default:
        return 0;
    }
  }
  /**
   * Get lesson type from lesson number.
   */
  static getLessonTypeFromNumber(lessonNumber) {
    switch (lessonNumber) {
      case 1:
        return LessonType.PICTOGRAPH_TO_LETTER;
      case 2:
        return LessonType.LETTER_TO_PICTOGRAPH;
      case 3:
        return LessonType.VALID_NEXT_PICTOGRAPH;
      default:
        return null;
    }
  }
  /**
   * Get formatted lesson title for display.
   */
  static getFormattedLessonTitle(lessonType) {
    const lessonNumber = this.getLessonNumber(lessonType);
    const lessonName = this.getLessonTypeName(lessonType);
    return `Lesson ${lessonNumber}: ${lessonName}`;
  }
  /**
   * Get lesson description for display.
   */
  static getLessonDescription(lessonType) {
    const info = this.getLessonInfo(lessonType);
    return info.description;
  }
  /**
   * Check if a lesson is available (for future use with unlocking system).
   */
  static isLessonAvailable(_lessonType) {
    return true;
  }
  /**
   * Get recommended quiz mode for a lesson type.
   */
  static getRecommendedQuizMode(lessonType) {
    switch (lessonType) {
      case LessonType.PICTOGRAPH_TO_LETTER:
        return QuizMode.FIXED_QUESTION;
      case LessonType.LETTER_TO_PICTOGRAPH:
        return QuizMode.FIXED_QUESTION;
      case LessonType.VALID_NEXT_PICTOGRAPH:
        return QuizMode.COUNTDOWN;
      // More challenging lesson
      default:
        return QuizMode.FIXED_QUESTION;
    }
  }
  /**
   * Get difficulty level for a lesson type (1-5 scale).
   */
  static getDifficultyLevel(lessonType) {
    switch (lessonType) {
      case LessonType.PICTOGRAPH_TO_LETTER:
        return 1;
      // Easiest - just matching pictograph to letter
      case LessonType.LETTER_TO_PICTOGRAPH:
        return 2;
      // Medium - requires understanding pictograph structure
      case LessonType.VALID_NEXT_PICTOGRAPH:
        return 4;
      // Hardest - requires understanding flow and transitions
      default:
        return 1;
    }
  }
  /**
   * Get estimated completion time for a lesson (in minutes).
   */
  static getEstimatedCompletionTime(lessonType, quizMode) {
    const baseTime = this.getDifficultyLevel(lessonType) * 2;
    switch (quizMode) {
      case QuizMode.FIXED_QUESTION:
        return baseTime + 5;
      // Add 5 minutes for fixed questions
      case QuizMode.COUNTDOWN:
        return 2;
      // Countdown mode is always 2 minutes
      default:
        return baseTime;
    }
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2xlYXJuL0xlc3NvbkNvbmZpZ1NlcnZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogTGVzc29uIENvbmZpZ3VyYXRpb24gU2VydmljZVxuICpcbiAqIE1hbmFnZXMgbGVzc29uIGNvbmZpZ3VyYXRpb25zLCB2YWxpZGF0aW9uLCBhbmQgcHJvdmlkZXMgdXRpbGl0aWVzXG4gKiBmb3Igd29ya2luZyB3aXRoIGRpZmZlcmVudCBsZXNzb24gdHlwZXMgYW5kIHF1aXogbW9kZXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgQW5zd2VyRm9ybWF0LFxuICBMRVNTT05fQ09ORklHUyxcbiAgTEVTU09OX0lORk8sXG4gIExFU1NPTl9UWVBFX05BTUVTLFxuICB0eXBlIExlc3NvbkNvbmZpZyxcbiAgdHlwZSBMZXNzb25JbmZvLFxuICBMZXNzb25UeXBlLFxuICBRdWVzdGlvbkZvcm1hdCxcbiAgUVVJWl9ERUZBVUxUUyxcbiAgUVVJWl9NT0RFX05BTUVTLFxuICBRdWl6TW9kZSxcbn0gZnJvbSBcIiRsaWIvdHlwZXMvbGVhcm5cIjtcblxuZXhwb3J0IGNsYXNzIExlc3NvbkNvbmZpZ1NlcnZpY2Uge1xuICAvKipcbiAgICogR2V0IGNvbmZpZ3VyYXRpb24gZm9yIGEgc3BlY2lmaWMgbGVzc29uIHR5cGUuXG4gICAqL1xuICBzdGF0aWMgZ2V0TGVzc29uQ29uZmlnKGxlc3NvblR5cGU6IExlc3NvblR5cGUpOiBMZXNzb25Db25maWcge1xuICAgIGNvbnN0IGNvbmZpZyA9IExFU1NPTl9DT05GSUdTW2xlc3NvblR5cGVdO1xuICAgIGlmICghY29uZmlnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIGxlc3NvbiB0eXBlOiAke2xlc3NvblR5cGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxlc3NvbiBpbmZvcm1hdGlvbiBmb3IgZGlzcGxheS5cbiAgICovXG4gIHN0YXRpYyBnZXRMZXNzb25JbmZvKGxlc3NvblR5cGU6IExlc3NvblR5cGUpOiBMZXNzb25JbmZvIHtcbiAgICBjb25zdCBpbmZvID0gTEVTU09OX0lORk8uZmluZCgobGVzc29uKSA9PiBsZXNzb24ubGVzc29uVHlwZSA9PT0gbGVzc29uVHlwZSk7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGxlc3NvbiBpbmZvIGZvdW5kIGZvciBsZXNzb24gdHlwZTogJHtsZXNzb25UeXBlfWApO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBsZXNzb24gdHlwZXMuXG4gICAqL1xuICBzdGF0aWMgZ2V0QXZhaWxhYmxlTGVzc29uVHlwZXMoKTogTGVzc29uVHlwZVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhMZXNzb25UeXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBxdWl6IG1vZGVzLlxuICAgKi9cbiAgc3RhdGljIGdldEF2YWlsYWJsZVF1aXpNb2RlcygpOiBRdWl6TW9kZVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhRdWl6TW9kZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRpc3BsYXkgbmFtZSBmb3IgYSBsZXNzb24gdHlwZS5cbiAgICovXG4gIHN0YXRpYyBnZXRMZXNzb25UeXBlTmFtZShsZXNzb25UeXBlOiBMZXNzb25UeXBlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gTEVTU09OX1RZUEVfTkFNRVNbbGVzc29uVHlwZV0gfHwgbGVzc29uVHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGlzcGxheSBuYW1lIGZvciBhIHF1aXogbW9kZS5cbiAgICovXG4gIHN0YXRpYyBnZXRRdWl6TW9kZU5hbWUocXVpek1vZGU6IFF1aXpNb2RlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gUVVJWl9NT0RFX05BTUVTW3F1aXpNb2RlXSB8fCBxdWl6TW9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdG90YWwgcXVlc3Rpb25zIGZvciBhIHF1aXogbW9kZS5cbiAgICovXG4gIHN0YXRpYyBnZXRUb3RhbFF1ZXN0aW9ucyhxdWl6TW9kZTogUXVpek1vZGUpOiBudW1iZXIge1xuICAgIHN3aXRjaCAocXVpek1vZGUpIHtcbiAgICAgIGNhc2UgUXVpek1vZGUuRklYRURfUVVFU1RJT046XG4gICAgICAgIHJldHVybiBRVUlaX0RFRkFVTFRTLkZJWEVEX1FVRVNUSU9OX0NPVU5UO1xuICAgICAgY2FzZSBRdWl6TW9kZS5DT1VOVERPV046XG4gICAgICAgIHJldHVybiAwOyAvLyBVbmxpbWl0ZWQgcXVlc3Rpb25zIGluIGNvdW50ZG93biBtb2RlXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gUVVJWl9ERUZBVUxUUy5GSVhFRF9RVUVTVElPTl9DT1VOVDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHF1aXogdGltZSBmb3IgYSBxdWl6IG1vZGUuXG4gICAqL1xuICBzdGF0aWMgZ2V0UXVpelRpbWUocXVpek1vZGU6IFF1aXpNb2RlKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKHF1aXpNb2RlKSB7XG4gICAgICBjYXNlIFF1aXpNb2RlLkNPVU5URE9XTjpcbiAgICAgICAgcmV0dXJuIFFVSVpfREVGQVVMVFMuQ09VTlRET1dOX1RJTUVfU0VDT05EUztcbiAgICAgIGNhc2UgUXVpek1vZGUuRklYRURfUVVFU1RJT046XG4gICAgICAgIHJldHVybiAwOyAvLyBObyB0aW1lIGxpbWl0IGZvciBmaXhlZCBxdWVzdGlvbiBtb2RlXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgbGVzc29uIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBzdGF0aWMgdmFsaWRhdGVMZXNzb25Db25maWcoY29uZmlnOiBMZXNzb25Db25maWcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgT2JqZWN0LnZhbHVlcyhMZXNzb25UeXBlKS5pbmNsdWRlcyhjb25maWcubGVzc29uVHlwZSkgJiZcbiAgICAgIE9iamVjdC52YWx1ZXMoUXVlc3Rpb25Gb3JtYXQpLmluY2x1ZGVzKGNvbmZpZy5xdWVzdGlvbkZvcm1hdCkgJiZcbiAgICAgIE9iamVjdC52YWx1ZXMoQW5zd2VyRm9ybWF0KS5pbmNsdWRlcyhjb25maWcuYW5zd2VyRm9ybWF0KSAmJlxuICAgICAgdHlwZW9mIGNvbmZpZy5xdWl6RGVzY3JpcHRpb24gPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIHR5cGVvZiBjb25maWcucXVlc3Rpb25Qcm9tcHQgPT09IFwic3RyaW5nXCJcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbGVzc29uIHR5cGUgc3VwcG9ydHMgYSBzcGVjaWZpYyBxdWVzdGlvbiBmb3JtYXQuXG4gICAqL1xuICBzdGF0aWMgc3VwcG9ydHNRdWVzdGlvbkZvcm1hdChcbiAgICBsZXNzb25UeXBlOiBMZXNzb25UeXBlLFxuICAgIGZvcm1hdDogUXVlc3Rpb25Gb3JtYXRcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRMZXNzb25Db25maWcobGVzc29uVHlwZSk7XG4gICAgcmV0dXJuIGNvbmZpZy5xdWVzdGlvbkZvcm1hdCA9PT0gZm9ybWF0O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbGVzc29uIHR5cGUgc3VwcG9ydHMgYSBzcGVjaWZpYyBhbnN3ZXIgZm9ybWF0LlxuICAgKi9cbiAgc3RhdGljIHN1cHBvcnRzQW5zd2VyRm9ybWF0KFxuICAgIGxlc3NvblR5cGU6IExlc3NvblR5cGUsXG4gICAgZm9ybWF0OiBBbnN3ZXJGb3JtYXRcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRMZXNzb25Db25maWcobGVzc29uVHlwZSk7XG4gICAgcmV0dXJuIGNvbmZpZy5hbnN3ZXJGb3JtYXQgPT09IGZvcm1hdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbGVzc29uIG51bWJlciBmcm9tIGxlc3NvbiB0eXBlIChmb3IgZGlzcGxheSBwdXJwb3NlcykuXG4gICAqL1xuICBzdGF0aWMgZ2V0TGVzc29uTnVtYmVyKGxlc3NvblR5cGU6IExlc3NvblR5cGUpOiBudW1iZXIge1xuICAgIHN3aXRjaCAobGVzc29uVHlwZSkge1xuICAgICAgY2FzZSBMZXNzb25UeXBlLlBJQ1RPR1JBUEhfVE9fTEVUVEVSOlxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgTGVzc29uVHlwZS5MRVRURVJfVE9fUElDVE9HUkFQSDpcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICBjYXNlIExlc3NvblR5cGUuVkFMSURfTkVYVF9QSUNUT0dSQVBIOlxuICAgICAgICByZXR1cm4gMztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbGVzc29uIHR5cGUgZnJvbSBsZXNzb24gbnVtYmVyLlxuICAgKi9cbiAgc3RhdGljIGdldExlc3NvblR5cGVGcm9tTnVtYmVyKGxlc3Nvbk51bWJlcjogbnVtYmVyKTogTGVzc29uVHlwZSB8IG51bGwge1xuICAgIHN3aXRjaCAobGVzc29uTnVtYmVyKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBMZXNzb25UeXBlLlBJQ1RPR1JBUEhfVE9fTEVUVEVSO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gTGVzc29uVHlwZS5MRVRURVJfVE9fUElDVE9HUkFQSDtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIExlc3NvblR5cGUuVkFMSURfTkVYVF9QSUNUT0dSQVBIO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmb3JtYXR0ZWQgbGVzc29uIHRpdGxlIGZvciBkaXNwbGF5LlxuICAgKi9cbiAgc3RhdGljIGdldEZvcm1hdHRlZExlc3NvblRpdGxlKGxlc3NvblR5cGU6IExlc3NvblR5cGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IGxlc3Nvbk51bWJlciA9IHRoaXMuZ2V0TGVzc29uTnVtYmVyKGxlc3NvblR5cGUpO1xuICAgIGNvbnN0IGxlc3Nvbk5hbWUgPSB0aGlzLmdldExlc3NvblR5cGVOYW1lKGxlc3NvblR5cGUpO1xuICAgIHJldHVybiBgTGVzc29uICR7bGVzc29uTnVtYmVyfTogJHtsZXNzb25OYW1lfWA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxlc3NvbiBkZXNjcmlwdGlvbiBmb3IgZGlzcGxheS5cbiAgICovXG4gIHN0YXRpYyBnZXRMZXNzb25EZXNjcmlwdGlvbihsZXNzb25UeXBlOiBMZXNzb25UeXBlKTogc3RyaW5nIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5nZXRMZXNzb25JbmZvKGxlc3NvblR5cGUpO1xuICAgIHJldHVybiBpbmZvLmRlc2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbGVzc29uIGlzIGF2YWlsYWJsZSAoZm9yIGZ1dHVyZSB1c2Ugd2l0aCB1bmxvY2tpbmcgc3lzdGVtKS5cbiAgICovXG4gIHN0YXRpYyBpc0xlc3NvbkF2YWlsYWJsZShfbGVzc29uVHlwZTogTGVzc29uVHlwZSk6IGJvb2xlYW4ge1xuICAgIC8vIEZvciBub3csIGFsbCBsZXNzb25zIGFyZSBhdmFpbGFibGVcbiAgICAvLyBUaGlzIGNhbiBiZSBleHRlbmRlZCB0byBzdXBwb3J0IGxlc3NvbiB1bmxvY2tpbmcgbG9naWNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb21tZW5kZWQgcXVpeiBtb2RlIGZvciBhIGxlc3NvbiB0eXBlLlxuICAgKi9cbiAgc3RhdGljIGdldFJlY29tbWVuZGVkUXVpek1vZGUobGVzc29uVHlwZTogTGVzc29uVHlwZSk6IFF1aXpNb2RlIHtcbiAgICAvLyBGb3IgYmVnaW5uZXJzLCBzdGFydCB3aXRoIGZpeGVkIHF1ZXN0aW9uc1xuICAgIC8vIE1vcmUgYWR2YW5jZWQgbGVzc29ucyBjb3VsZCBkZWZhdWx0IHRvIGNvdW50ZG93blxuICAgIHN3aXRjaCAobGVzc29uVHlwZSkge1xuICAgICAgY2FzZSBMZXNzb25UeXBlLlBJQ1RPR1JBUEhfVE9fTEVUVEVSOlxuICAgICAgICByZXR1cm4gUXVpek1vZGUuRklYRURfUVVFU1RJT047XG4gICAgICBjYXNlIExlc3NvblR5cGUuTEVUVEVSX1RPX1BJQ1RPR1JBUEg6XG4gICAgICAgIHJldHVybiBRdWl6TW9kZS5GSVhFRF9RVUVTVElPTjtcbiAgICAgIGNhc2UgTGVzc29uVHlwZS5WQUxJRF9ORVhUX1BJQ1RPR1JBUEg6XG4gICAgICAgIHJldHVybiBRdWl6TW9kZS5DT1VOVERPV047IC8vIE1vcmUgY2hhbGxlbmdpbmcgbGVzc29uXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gUXVpek1vZGUuRklYRURfUVVFU1RJT047XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaWZmaWN1bHR5IGxldmVsIGZvciBhIGxlc3NvbiB0eXBlICgxLTUgc2NhbGUpLlxuICAgKi9cbiAgc3RhdGljIGdldERpZmZpY3VsdHlMZXZlbChsZXNzb25UeXBlOiBMZXNzb25UeXBlKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKGxlc3NvblR5cGUpIHtcbiAgICAgIGNhc2UgTGVzc29uVHlwZS5QSUNUT0dSQVBIX1RPX0xFVFRFUjpcbiAgICAgICAgcmV0dXJuIDE7IC8vIEVhc2llc3QgLSBqdXN0IG1hdGNoaW5nIHBpY3RvZ3JhcGggdG8gbGV0dGVyXG4gICAgICBjYXNlIExlc3NvblR5cGUuTEVUVEVSX1RPX1BJQ1RPR1JBUEg6XG4gICAgICAgIHJldHVybiAyOyAvLyBNZWRpdW0gLSByZXF1aXJlcyB1bmRlcnN0YW5kaW5nIHBpY3RvZ3JhcGggc3RydWN0dXJlXG4gICAgICBjYXNlIExlc3NvblR5cGUuVkFMSURfTkVYVF9QSUNUT0dSQVBIOlxuICAgICAgICByZXR1cm4gNDsgLy8gSGFyZGVzdCAtIHJlcXVpcmVzIHVuZGVyc3RhbmRpbmcgZmxvdyBhbmQgdHJhbnNpdGlvbnNcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZXN0aW1hdGVkIGNvbXBsZXRpb24gdGltZSBmb3IgYSBsZXNzb24gKGluIG1pbnV0ZXMpLlxuICAgKi9cbiAgc3RhdGljIGdldEVzdGltYXRlZENvbXBsZXRpb25UaW1lKFxuICAgIGxlc3NvblR5cGU6IExlc3NvblR5cGUsXG4gICAgcXVpek1vZGU6IFF1aXpNb2RlXG4gICk6IG51bWJlciB7XG4gICAgY29uc3QgYmFzZVRpbWUgPSB0aGlzLmdldERpZmZpY3VsdHlMZXZlbChsZXNzb25UeXBlKSAqIDI7IC8vIDIgbWludXRlcyBwZXIgZGlmZmljdWx0eSBsZXZlbFxuXG4gICAgc3dpdGNoIChxdWl6TW9kZSkge1xuICAgICAgY2FzZSBRdWl6TW9kZS5GSVhFRF9RVUVTVElPTjpcbiAgICAgICAgcmV0dXJuIGJhc2VUaW1lICsgNTsgLy8gQWRkIDUgbWludXRlcyBmb3IgZml4ZWQgcXVlc3Rpb25zXG4gICAgICBjYXNlIFF1aXpNb2RlLkNPVU5URE9XTjpcbiAgICAgICAgcmV0dXJuIDI7IC8vIENvdW50ZG93biBtb2RlIGlzIGFsd2F5cyAyIG1pbnV0ZXNcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBiYXNlVGltZTtcbiAgICB9XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICJBQU9BO0FBQUEsRUFDRTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBR0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsT0FDSztBQUVBLGFBQU0sb0JBQW9CO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJL0IsT0FBTyxnQkFBZ0IsWUFBc0M7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
