import {
  ITKAImageExportServiceInterface,
  ILayoutCalculationServiceInterface,
  IDimensionCalculationServiceInterface,
  IFileExportServiceInterface,
  IBeatRenderingServiceInterface,
  ITextRenderingServiceInterface,
  IImageCompositionServiceInterface,
  IGridOverlayServiceInterface,
  ICanvasManagementServiceInterface
} from "/src/lib/services/di/interfaces/image-export-interfaces.ts?t=1755802734632";
import { IPictographServiceInterface } from "/src/lib/services/di/interfaces/core-interfaces.ts?t=1755802734632";
import { TKAImageExportService } from "/src/lib/services/implementations/image-export/TKAImageExportService.ts";
import { LayoutCalculationService } from "/src/lib/services/implementations/image-export/LayoutCalculationService.ts";
import { DimensionCalculationService } from "/src/lib/services/implementations/image-export/DimensionCalculationService.ts";
import { FileExportService } from "/src/lib/services/implementations/image-export/FileExportService.ts";
import { BeatRenderingService } from "/src/lib/services/implementations/image-export/BeatRenderingService.ts";
import { TextRenderingService } from "/src/lib/services/implementations/image-export/TextRenderingService.ts";
import { ImageCompositionService } from "/src/lib/services/implementations/image-export/ImageCompositionService.ts";
import { GridOverlayService } from "/src/lib/services/implementations/image-export/GridOverlayService.ts?t=1755802734632";
import { CanvasManagementService } from "/src/lib/services/implementations/image-export/CanvasManagementService.ts";
export async function registerImageExportServices(container) {
  try {
    container.registerFactory(ILayoutCalculationServiceInterface, () => {
      return new LayoutCalculationService();
    });
    container.registerFactory(IDimensionCalculationServiceInterface, () => {
      return new DimensionCalculationService();
    });
    container.registerFactory(IFileExportServiceInterface, () => {
      return new FileExportService();
    });
    container.registerFactory(ICanvasManagementServiceInterface, () => {
      return new CanvasManagementService();
    });
    container.registerFactory(IGridOverlayServiceInterface, () => {
      return new GridOverlayService();
    });
    container.registerFactory(IBeatRenderingServiceInterface, () => {
      const pictographService = container.resolve(IPictographServiceInterface);
      return new BeatRenderingService(pictographService);
    });
    container.registerFactory(ITextRenderingServiceInterface, () => {
      return new TextRenderingService();
    });
    container.registerFactory(IImageCompositionServiceInterface, () => {
      const layoutService = container.resolve(
        ILayoutCalculationServiceInterface
      );
      const dimensionService = container.resolve(
        IDimensionCalculationServiceInterface
      );
      const beatRenderer = container.resolve(IBeatRenderingServiceInterface);
      const textRenderer = container.resolve(ITextRenderingServiceInterface);
      return new ImageCompositionService(
        layoutService,
        dimensionService,
        beatRenderer,
        textRenderer
      );
    });
    container.registerFactory(ITKAImageExportServiceInterface, () => {
      const compositionService = container.resolve(
        IImageCompositionServiceInterface
      );
      const fileService = container.resolve(IFileExportServiceInterface);
      const layoutService = container.resolve(
        ILayoutCalculationServiceInterface
      );
      const dimensionService = container.resolve(
        IDimensionCalculationServiceInterface
      );
      return new TKAImageExportService(
        compositionService,
        fileService,
        layoutService,
        dimensionService
      );
    });
    await validateImageExportServices(container);
  } catch (error) {
    console.error("❌ Failed to register TKA image export services:", error);
    throw new Error(
      `Image export service registration failed: ${error instanceof Error ? error.message : "Unknown error"}`
    );
  }
}
async function validateImageExportServices(container) {
  const servicesToValidate = [
    {
      interface: ILayoutCalculationServiceInterface,
      name: "LayoutCalculationService"
    },
    {
      interface: IDimensionCalculationServiceInterface,
      name: "DimensionCalculationService"
    },
    { interface: IFileExportServiceInterface, name: "FileExportService" },
    { interface: IBeatRenderingServiceInterface, name: "BeatRenderingService" },
    { interface: ITextRenderingServiceInterface, name: "TextRenderingService" },
    {
      interface: IImageCompositionServiceInterface,
      name: "ImageCompositionService"
    },
    { interface: IGridOverlayServiceInterface, name: "GridOverlayService" },
    {
      interface: ICanvasManagementServiceInterface,
      name: "CanvasManagementService"
    },
    {
      interface: ITKAImageExportServiceInterface,
      name: "TKAImageExportService"
    }
  ];
  const validationErrors = [];
  for (const { interface: serviceInterface, name } of servicesToValidate) {
    try {
      const service = container.resolve(
        serviceInterface
      );
      if (!service) {
        validationErrors.push(`${name} resolved to null/undefined`);
      }
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : "Unknown error";
      validationErrors.push(`${name} resolution failed: ${errorMessage}`);
    }
  }
  if (validationErrors.length > 0) {
    console.error("❌ Service validation failed:");
    validationErrors.forEach((error) => console.error(`  - ${error}`));
    throw new Error(
      `Service validation failed: ${validationErrors.join(", ")}`
    );
  }
}
export async function testImageExportPipeline(container) {
  try {
    const layoutService = container.resolve(ILayoutCalculationServiceInterface);
    const layout = layoutService.calculateLayout(4, true);
    if (!layout || layout.length !== 2) {
      throw new Error("Layout calculation test failed");
    }
    const dimensionService = container.resolve(
      IDimensionCalculationServiceInterface
    );
    const testOptions = {
      addWord: true,
      addUserInfo: true,
      includeStartPosition: true,
      addBeatNumbers: true,
      addReversalSymbols: true,
      combinedGrids: false,
      addDifficultyLevel: true,
      beatScale: 1,
      beatSize: 144,
      margin: 50,
      redVisible: true,
      blueVisible: true,
      userName: "Test",
      exportDate: "1-1-2024",
      notes: "Test",
      format: "PNG",
      quality: 1
    };
    const dimensions = dimensionService.determineAdditionalHeights(
      testOptions,
      4,
      1
    );
    if (!dimensions || dimensions.length !== 2) {
      throw new Error("Dimension calculation test failed");
    }
    const fileService = container.resolve(IFileExportServiceInterface);
    const formats = fileService.getSupportedFormats();
    if (!formats.includes("PNG") || !formats.includes("JPEG")) {
      throw new Error("File export service test failed");
    }
    const textService = container.resolve(ITextRenderingServiceInterface);
    if (!textService) {
      throw new Error("Text rendering service test failed");
    }
    const exportService = container.resolve(ITKAImageExportServiceInterface);
    if (!exportService) {
      throw new Error("Main export service test failed");
    }
    return true;
  } catch (error) {
    console.error("❌ Image export pipeline test failed:", error);
    return false;
  }
}
export function getImageExportServiceMetrics(_container) {
  console.warn(
    "getImageExportServiceMetrics temporarily disabled - service interface compatibility issues"
  );
  return {
    servicesRegistered: 9,
    // Static count for now
    memoryUsage: void 0,
    cacheStats: void 0
  };
}
export function cleanupImageExportServices(_container) {
  try {
  } catch (error) {
    console.warn("⚠️ Some cleanup operations failed:", error);
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2RpL3JlZ2lzdHJhdGlvbi9pbWFnZS1leHBvcnQtc2VydmljZXMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogSW1hZ2UgRXhwb3J0IFNlcnZpY2VzIFJlZ2lzdHJhdGlvblxuICpcbiAqIFJlZ2lzdGVycyBhbGwgVEtBIGltYWdlIGV4cG9ydCBzZXJ2aWNlcyB3aXRoIHRoZSBESSBjb250YWluZXIuXG4gKiBUaGlzIG1vZHVsZSBzZXRzIHVwIHRoZSBjb21wbGV0ZSBpbWFnZSBleHBvcnQgcGlwZWxpbmUgd2l0aCBwcm9wZXJcbiAqIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGZvbGxvd2luZyB0aGUgZXN0YWJsaXNoZWQgcGF0dGVybnMuXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBTZXJ2aWNlQ29udGFpbmVyIH0gZnJvbSBcIi4uL1NlcnZpY2VDb250YWluZXJcIjtcbmltcG9ydCB0eXBlIHsgU2VydmljZUludGVyZmFjZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG4vLyBJbXBvcnQgc2VydmljZSBpbnRlcmZhY2VzIChwcm9wZXIgU2VydmljZUludGVyZmFjZSBvYmplY3RzKVxuaW1wb3J0IHtcbiAgSVRLQUltYWdlRXhwb3J0U2VydmljZUludGVyZmFjZSxcbiAgSUxheW91dENhbGN1bGF0aW9uU2VydmljZUludGVyZmFjZSxcbiAgSURpbWVuc2lvbkNhbGN1bGF0aW9uU2VydmljZUludGVyZmFjZSxcbiAgSUZpbGVFeHBvcnRTZXJ2aWNlSW50ZXJmYWNlLFxuICBJQmVhdFJlbmRlcmluZ1NlcnZpY2VJbnRlcmZhY2UsXG4gIElUZXh0UmVuZGVyaW5nU2VydmljZUludGVyZmFjZSxcbiAgSUltYWdlQ29tcG9zaXRpb25TZXJ2aWNlSW50ZXJmYWNlLFxuICBJR3JpZE92ZXJsYXlTZXJ2aWNlSW50ZXJmYWNlLFxuICBJQ2FudmFzTWFuYWdlbWVudFNlcnZpY2VJbnRlcmZhY2UsXG59IGZyb20gXCIuLi9pbnRlcmZhY2VzL2ltYWdlLWV4cG9ydC1pbnRlcmZhY2VzXCI7XG5cbmltcG9ydCB7IElQaWN0b2dyYXBoU2VydmljZUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2NvcmUtaW50ZXJmYWNlc1wiO1xuXG4vLyBJbXBvcnQgc2VydmljZSBpbXBsZW1lbnRhdGlvbnNcbmltcG9ydCB7IFRLQUltYWdlRXhwb3J0U2VydmljZSB9IGZyb20gXCIuLi8uLi9pbXBsZW1lbnRhdGlvbnMvaW1hZ2UtZXhwb3J0L1RLQUltYWdlRXhwb3J0U2VydmljZVwiO1xuaW1wb3J0IHsgTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlXCI7XG5pbXBvcnQgeyBEaW1lbnNpb25DYWxjdWxhdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vaW1wbGVtZW50YXRpb25zL2ltYWdlLWV4cG9ydC9EaW1lbnNpb25DYWxjdWxhdGlvblNlcnZpY2VcIjtcbmltcG9ydCB7IEZpbGVFeHBvcnRTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvRmlsZUV4cG9ydFNlcnZpY2VcIjtcbmltcG9ydCB7IEJlYXRSZW5kZXJpbmdTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvQmVhdFJlbmRlcmluZ1NlcnZpY2VcIjtcbmltcG9ydCB7IFRleHRSZW5kZXJpbmdTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvVGV4dFJlbmRlcmluZ1NlcnZpY2VcIjtcbmltcG9ydCB7IEltYWdlQ29tcG9zaXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvSW1hZ2VDb21wb3NpdGlvblNlcnZpY2VcIjtcbmltcG9ydCB7IEdyaWRPdmVybGF5U2VydmljZSB9IGZyb20gXCIuLi8uLi9pbXBsZW1lbnRhdGlvbnMvaW1hZ2UtZXhwb3J0L0dyaWRPdmVybGF5U2VydmljZVwiO1xuaW1wb3J0IHsgQ2FudmFzTWFuYWdlbWVudFNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vaW1wbGVtZW50YXRpb25zL2ltYWdlLWV4cG9ydC9DYW52YXNNYW5hZ2VtZW50U2VydmljZVwiO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGFsbCBUS0EgaW1hZ2UgZXhwb3J0IHNlcnZpY2VzIHdpdGggdGhlIERJIGNvbnRhaW5lclxuICogU2VydmljZXMgYXJlIHJlZ2lzdGVyZWQgaW4gZGVwZW5kZW5jeSBvcmRlciB0byBlbnN1cmUgcHJvcGVyIHJlc29sdXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVySW1hZ2VFeHBvcnRTZXJ2aWNlcyhcbiAgY29udGFpbmVyOiBTZXJ2aWNlQ29udGFpbmVyXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICAvLyBSZWdpc3RlciBmb3VuZGF0aW9uIHNlcnZpY2VzIChubyBkZXBlbmRlbmNpZXMpXG4gICAgY29udGFpbmVyLnJlZ2lzdGVyRmFjdG9yeShJTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlLCAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IExheW91dENhbGN1bGF0aW9uU2VydmljZSgpO1xuICAgIH0pO1xuXG4gICAgY29udGFpbmVyLnJlZ2lzdGVyRmFjdG9yeShJRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlLCAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IERpbWVuc2lvbkNhbGN1bGF0aW9uU2VydmljZSgpO1xuICAgIH0pO1xuXG4gICAgY29udGFpbmVyLnJlZ2lzdGVyRmFjdG9yeShJRmlsZUV4cG9ydFNlcnZpY2VJbnRlcmZhY2UsICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgRmlsZUV4cG9ydFNlcnZpY2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5yZWdpc3RlckZhY3RvcnkoSUNhbnZhc01hbmFnZW1lbnRTZXJ2aWNlSW50ZXJmYWNlLCAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IENhbnZhc01hbmFnZW1lbnRTZXJ2aWNlKCk7XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KElHcmlkT3ZlcmxheVNlcnZpY2VJbnRlcmZhY2UsICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgR3JpZE92ZXJsYXlTZXJ2aWNlKCk7XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KElCZWF0UmVuZGVyaW5nU2VydmljZUludGVyZmFjZSwgKCkgPT4ge1xuICAgICAgY29uc3QgcGljdG9ncmFwaFNlcnZpY2UgPSBjb250YWluZXIucmVzb2x2ZShJUGljdG9ncmFwaFNlcnZpY2VJbnRlcmZhY2UpO1xuICAgICAgcmV0dXJuIG5ldyBCZWF0UmVuZGVyaW5nU2VydmljZShwaWN0b2dyYXBoU2VydmljZSk7XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KElUZXh0UmVuZGVyaW5nU2VydmljZUludGVyZmFjZSwgKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBUZXh0UmVuZGVyaW5nU2VydmljZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gUmVnaXN0ZXIgY29tcG9zaXRpb24gc2VydmljZSAoZGVwZW5kcyBvbiBsYXlvdXQsIGRpbWVuc2lvbiwgYmVhdCByZW5kZXJpbmcsIGFuZCB0ZXh0IHJlbmRlcmluZylcbiAgICBjb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KElJbWFnZUNvbXBvc2l0aW9uU2VydmljZUludGVyZmFjZSwgKCkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0U2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFxuICAgICAgICBJTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlXG4gICAgICApO1xuICAgICAgY29uc3QgZGltZW5zaW9uU2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFxuICAgICAgICBJRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlXG4gICAgICApO1xuICAgICAgY29uc3QgYmVhdFJlbmRlcmVyID0gY29udGFpbmVyLnJlc29sdmUoSUJlYXRSZW5kZXJpbmdTZXJ2aWNlSW50ZXJmYWNlKTtcbiAgICAgIGNvbnN0IHRleHRSZW5kZXJlciA9IGNvbnRhaW5lci5yZXNvbHZlKElUZXh0UmVuZGVyaW5nU2VydmljZUludGVyZmFjZSk7XG5cbiAgICAgIHJldHVybiBuZXcgSW1hZ2VDb21wb3NpdGlvblNlcnZpY2UoXG4gICAgICAgIGxheW91dFNlcnZpY2UsXG4gICAgICAgIGRpbWVuc2lvblNlcnZpY2UsXG4gICAgICAgIGJlYXRSZW5kZXJlcixcbiAgICAgICAgdGV4dFJlbmRlcmVyXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgLy8gUmVnaXN0ZXIgbWFpbiBUS0EgaW1hZ2UgZXhwb3J0IHNlcnZpY2UgKGRlcGVuZHMgb24gY29tcG9zaXRpb24gYW5kIGZpbGUgc2VydmljZXMpXG4gICAgY29udGFpbmVyLnJlZ2lzdGVyRmFjdG9yeShJVEtBSW1hZ2VFeHBvcnRTZXJ2aWNlSW50ZXJmYWNlLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wb3NpdGlvblNlcnZpY2UgPSBjb250YWluZXIucmVzb2x2ZShcbiAgICAgICAgSUltYWdlQ29tcG9zaXRpb25TZXJ2aWNlSW50ZXJmYWNlXG4gICAgICApO1xuICAgICAgY29uc3QgZmlsZVNlcnZpY2UgPSBjb250YWluZXIucmVzb2x2ZShJRmlsZUV4cG9ydFNlcnZpY2VJbnRlcmZhY2UpO1xuICAgICAgY29uc3QgbGF5b3V0U2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFxuICAgICAgICBJTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlXG4gICAgICApO1xuICAgICAgY29uc3QgZGltZW5zaW9uU2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFxuICAgICAgICBJRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbmV3IFRLQUltYWdlRXhwb3J0U2VydmljZShcbiAgICAgICAgY29tcG9zaXRpb25TZXJ2aWNlLFxuICAgICAgICBmaWxlU2VydmljZSxcbiAgICAgICAgbGF5b3V0U2VydmljZSxcbiAgICAgICAgZGltZW5zaW9uU2VydmljZVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIFZhbGlkYXRlIHJlZ2lzdHJhdGlvbnNcbiAgICBhd2FpdCB2YWxpZGF0ZUltYWdlRXhwb3J0U2VydmljZXMoY29udGFpbmVyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byByZWdpc3RlciBUS0EgaW1hZ2UgZXhwb3J0IHNlcnZpY2VzOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEltYWdlIGV4cG9ydCBzZXJ2aWNlIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHRoYXQgYWxsIGltYWdlIGV4cG9ydCBzZXJ2aWNlcyBjYW4gYmUgcmVzb2x2ZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVJbWFnZUV4cG9ydFNlcnZpY2VzKFxuICBjb250YWluZXI6IFNlcnZpY2VDb250YWluZXJcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZXJ2aWNlc1RvVmFsaWRhdGUgPSBbXG4gICAge1xuICAgICAgaW50ZXJmYWNlOiBJTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlSW50ZXJmYWNlLFxuICAgICAgbmFtZTogXCJMYXlvdXRDYWxjdWxhdGlvblNlcnZpY2VcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGludGVyZmFjZTogSURpbWVuc2lvbkNhbGN1bGF0aW9uU2VydmljZUludGVyZmFjZSxcbiAgICAgIG5hbWU6IFwiRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlXCIsXG4gICAgfSxcbiAgICB7IGludGVyZmFjZTogSUZpbGVFeHBvcnRTZXJ2aWNlSW50ZXJmYWNlLCBuYW1lOiBcIkZpbGVFeHBvcnRTZXJ2aWNlXCIgfSxcbiAgICB7IGludGVyZmFjZTogSUJlYXRSZW5kZXJpbmdTZXJ2aWNlSW50ZXJmYWNlLCBuYW1lOiBcIkJlYXRSZW5kZXJpbmdTZXJ2aWNlXCIgfSxcbiAgICB7IGludGVyZmFjZTogSVRleHRSZW5kZXJpbmdTZXJ2aWNlSW50ZXJmYWNlLCBuYW1lOiBcIlRleHRSZW5kZXJpbmdTZXJ2aWNlXCIgfSxcbiAgICB7XG4gICAgICBpbnRlcmZhY2U6IElJbWFnZUNvbXBvc2l0aW9uU2VydmljZUludGVyZmFjZSxcbiAgICAgIG5hbWU6IFwiSW1hZ2VDb21wb3NpdGlvblNlcnZpY2VcIixcbiAgICB9LFxuICAgIHsgaW50ZXJmYWNlOiBJR3JpZE92ZXJsYXlTZXJ2aWNlSW50ZXJmYWNlLCBuYW1lOiBcIkdyaWRPdmVybGF5U2VydmljZVwiIH0sXG4gICAge1xuICAgICAgaW50ZXJmYWNlOiBJQ2FudmFzTWFuYWdlbWVudFNlcnZpY2VJbnRlcmZhY2UsXG4gICAgICBuYW1lOiBcIkNhbnZhc01hbmFnZW1lbnRTZXJ2aWNlXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpbnRlcmZhY2U6IElUS0FJbWFnZUV4cG9ydFNlcnZpY2VJbnRlcmZhY2UsXG4gICAgICBuYW1lOiBcIlRLQUltYWdlRXhwb3J0U2VydmljZVwiLFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgdmFsaWRhdGlvbkVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IHsgaW50ZXJmYWNlOiBzZXJ2aWNlSW50ZXJmYWNlLCBuYW1lIH0gb2Ygc2VydmljZXNUb1ZhbGlkYXRlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlcnZpY2UgPSBjb250YWluZXIucmVzb2x2ZShcbiAgICAgICAgc2VydmljZUludGVyZmFjZSBhcyBTZXJ2aWNlSW50ZXJmYWNlPHVua25vd24+XG4gICAgICApO1xuICAgICAgaWYgKCFzZXJ2aWNlKSB7XG4gICAgICAgIHZhbGlkYXRpb25FcnJvcnMucHVzaChgJHtuYW1lfSByZXNvbHZlZCB0byBudWxsL3VuZGVmaW5lZGApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiO1xuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKGAke25hbWV9IHJlc29sdXRpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICBpZiAodmFsaWRhdGlvbkVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBTZXJ2aWNlIHZhbGlkYXRpb24gZmFpbGVkOlwiKTtcbiAgICB2YWxpZGF0aW9uRXJyb3JzLmZvckVhY2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGAgIC0gJHtlcnJvcn1gKSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFNlcnZpY2UgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7dmFsaWRhdGlvbkVycm9ycy5qb2luKFwiLCBcIil9YFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBUZXN0IGltYWdlIGV4cG9ydCBzZXJ2aWNlIHBpcGVsaW5lXG4gKiBRdWljayBzbW9rZSB0ZXN0IHRvIGVuc3VyZSB0aGUgc2VydmljZXMgd29yayB0b2dldGhlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGVzdEltYWdlRXhwb3J0UGlwZWxpbmUoXG4gIGNvbnRhaW5lcjogU2VydmljZUNvbnRhaW5lclxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgLy8gVGVzdCBsYXlvdXQgY2FsY3VsYXRpb25cbiAgICBjb25zdCBsYXlvdXRTZXJ2aWNlID0gY29udGFpbmVyLnJlc29sdmUoSUxheW91dENhbGN1bGF0aW9uU2VydmljZUludGVyZmFjZSk7XG4gICAgY29uc3QgbGF5b3V0ID0gbGF5b3V0U2VydmljZS5jYWxjdWxhdGVMYXlvdXQoNCwgdHJ1ZSk7XG4gICAgaWYgKCFsYXlvdXQgfHwgbGF5b3V0Lmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGF5b3V0IGNhbGN1bGF0aW9uIHRlc3QgZmFpbGVkXCIpO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZGltZW5zaW9uIGNhbGN1bGF0aW9uXG4gICAgY29uc3QgZGltZW5zaW9uU2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFxuICAgICAgSURpbWVuc2lvbkNhbGN1bGF0aW9uU2VydmljZUludGVyZmFjZVxuICAgICk7XG4gICAgY29uc3QgdGVzdE9wdGlvbnMgPSB7XG4gICAgICBhZGRXb3JkOiB0cnVlLFxuICAgICAgYWRkVXNlckluZm86IHRydWUsXG4gICAgICBpbmNsdWRlU3RhcnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIGFkZEJlYXROdW1iZXJzOiB0cnVlLFxuICAgICAgYWRkUmV2ZXJzYWxTeW1ib2xzOiB0cnVlLFxuICAgICAgY29tYmluZWRHcmlkczogZmFsc2UsXG4gICAgICBhZGREaWZmaWN1bHR5TGV2ZWw6IHRydWUsXG4gICAgICBiZWF0U2NhbGU6IDEsXG4gICAgICBiZWF0U2l6ZTogMTQ0LFxuICAgICAgbWFyZ2luOiA1MCxcbiAgICAgIHJlZFZpc2libGU6IHRydWUsXG4gICAgICBibHVlVmlzaWJsZTogdHJ1ZSxcbiAgICAgIHVzZXJOYW1lOiBcIlRlc3RcIixcbiAgICAgIGV4cG9ydERhdGU6IFwiMS0xLTIwMjRcIixcbiAgICAgIG5vdGVzOiBcIlRlc3RcIixcbiAgICAgIGZvcm1hdDogXCJQTkdcIiBhcyBjb25zdCxcbiAgICAgIHF1YWxpdHk6IDEuMCxcbiAgICB9O1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBkaW1lbnNpb25TZXJ2aWNlLmRldGVybWluZUFkZGl0aW9uYWxIZWlnaHRzKFxuICAgICAgdGVzdE9wdGlvbnMsXG4gICAgICA0LFxuICAgICAgMVxuICAgICk7XG4gICAgaWYgKCFkaW1lbnNpb25zIHx8IGRpbWVuc2lvbnMubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaW1lbnNpb24gY2FsY3VsYXRpb24gdGVzdCBmYWlsZWRcIik7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmaWxlIGV4cG9ydCBzZXJ2aWNlXG4gICAgY29uc3QgZmlsZVNlcnZpY2UgPSBjb250YWluZXIucmVzb2x2ZShJRmlsZUV4cG9ydFNlcnZpY2VJbnRlcmZhY2UpO1xuICAgIGNvbnN0IGZvcm1hdHMgPSBmaWxlU2VydmljZS5nZXRTdXBwb3J0ZWRGb3JtYXRzKCk7XG4gICAgaWYgKCFmb3JtYXRzLmluY2x1ZGVzKFwiUE5HXCIpIHx8ICFmb3JtYXRzLmluY2x1ZGVzKFwiSlBFR1wiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBleHBvcnQgc2VydmljZSB0ZXN0IGZhaWxlZFwiKTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IHRleHQgcmVuZGVyaW5nIHNlcnZpY2VcbiAgICBjb25zdCB0ZXh0U2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKElUZXh0UmVuZGVyaW5nU2VydmljZUludGVyZmFjZSk7XG4gICAgaWYgKCF0ZXh0U2VydmljZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGV4dCByZW5kZXJpbmcgc2VydmljZSB0ZXN0IGZhaWxlZFwiKTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IG1haW4gZXhwb3J0IHNlcnZpY2VcbiAgICBjb25zdCBleHBvcnRTZXJ2aWNlID0gY29udGFpbmVyLnJlc29sdmUoSVRLQUltYWdlRXhwb3J0U2VydmljZUludGVyZmFjZSk7XG4gICAgaWYgKCFleHBvcnRTZXJ2aWNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWluIGV4cG9ydCBzZXJ2aWNlIHRlc3QgZmFpbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgSW1hZ2UgZXhwb3J0IHBpcGVsaW5lIHRlc3QgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGltYWdlIGV4cG9ydCBzZXJ2aWNlIG1ldHJpY3NcbiAqIFRPRE86IEZpeCBzZXJ2aWNlIGludGVyZmFjZSBjb21wYXRpYmlsaXR5IGlzc3Vlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VFeHBvcnRTZXJ2aWNlTWV0cmljcyhfY29udGFpbmVyOiBTZXJ2aWNlQ29udGFpbmVyKToge1xuICBzZXJ2aWNlc1JlZ2lzdGVyZWQ6IG51bWJlcjtcbiAgbWVtb3J5VXNhZ2U/OiBudW1iZXI7XG4gIGNhY2hlU3RhdHM/OiB1bmtub3duO1xufSB7XG4gIC8vIFRlbXBvcmFyaWx5IGRpc2FibGVkIGR1ZSB0byBzZXJ2aWNlIGludGVyZmFjZSBjb21wYXRpYmlsaXR5IGlzc3Vlc1xuICBjb25zb2xlLndhcm4oXG4gICAgXCJnZXRJbWFnZUV4cG9ydFNlcnZpY2VNZXRyaWNzIHRlbXBvcmFyaWx5IGRpc2FibGVkIC0gc2VydmljZSBpbnRlcmZhY2UgY29tcGF0aWJpbGl0eSBpc3N1ZXNcIlxuICApO1xuICByZXR1cm4ge1xuICAgIHNlcnZpY2VzUmVnaXN0ZXJlZDogOSwgLy8gU3RhdGljIGNvdW50IGZvciBub3dcbiAgICBtZW1vcnlVc2FnZTogdW5kZWZpbmVkLFxuICAgIGNhY2hlU3RhdHM6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuLyoqXG4gKiBDbGVhbnVwIGltYWdlIGV4cG9ydCBzZXJ2aWNlc1xuICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuIHNodXR0aW5nIGRvd24gdGhlIGFwcGxpY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwSW1hZ2VFeHBvcnRTZXJ2aWNlcyhfY29udGFpbmVyOiBTZXJ2aWNlQ29udGFpbmVyKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgLy8gTm90ZTogU2VydmljZSBjbGVhbnVwIHdvdWxkIGJlIGltcGxlbWVudGVkIGhlcmUgaWYgbmVlZGVkXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKFwi4pqg77iPIFNvbWUgY2xlYW51cCBvcGVyYXRpb25zIGZhaWxlZDpcIiwgZXJyb3IpO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiQUFZQTtBQUFBLEVBQ0U7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLE9BQ0s7QUFFUCxTQUFTLG1DQUFtQztBQUc1QyxTQUFTLDZCQUE2QjtBQUN0QyxTQUFTLGdDQUFnQztBQUN6QyxTQUFTLG1DQUFtQztBQUM1QyxTQUFTLHlCQUF5QjtBQUNsQyxTQUFTLDRCQUE0QjtBQUNyQyxTQUFTLDRCQUE0QjtBQUNyQyxTQUFTLCtCQUErQjtBQUN4QyxTQUFTLDBCQUEwQjtBQUNuQyxTQUFTLCtCQUErQjtBQU14QyxzQkFBc0IsNEJBQ3BCLFdBQ2U7QUFDZixNQUFJO0FBRUYsY0FBVSxnQkFBZ0Isb0NBQW9DLE1BQU07QUFDbEUsYUFBTyxJQUFJLHlCQUF5QjtBQUFBLElBQ3RDLENBQUM7QUFFRCxjQUFVLGdCQUFnQix1Q0FBdUMsTUFBTTtBQUNyRSxhQUFPLElBQUksNEJBQTRCO0FBQUEsSUFDekMsQ0FBQztBQUVELGNBQVUsZ0JBQWdCLDZCQUE2QixNQUFNO0FBQzNELGFBQU8sSUFBSSxrQkFBa0I7QUFBQSxJQUMvQixDQUFDO0FBRUQsY0FBVSxnQkFBZ0IsbUNBQW1DLE1BQU07QUFDakUsYUFBTyxJQUFJLHdCQUF3QjtBQUFBLElBQ3JDLENBQUM7QUFFRCxjQUFVLGdCQUFnQiw4QkFBOEIsTUFBTTtBQUM1RCxh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
