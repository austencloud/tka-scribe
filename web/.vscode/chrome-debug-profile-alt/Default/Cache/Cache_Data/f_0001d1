import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/MainInterface.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=474c1bba";

MainInterface[$.FILENAME] = 'src/lib/components/MainInterface.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=474c1bba";

import {
	getActiveTab,
	getSettings,
	getShowSettings,
	isTabActive,
	switchTab
} from "/src/lib/state/appState.svelte.ts";

import { BackgroundType } from "/src/lib/components/backgrounds/types/types.ts";
import { fade } from "/src/lib/utils/simple-fade.ts";
import BackgroundCanvas from "/src/lib/components/backgrounds/BackgroundCanvas.svelte";
import BackgroundProvider from "/src/lib/components/backgrounds/BackgroundProvider.svelte";
import NavigationBar from "/src/lib/components/navigation/NavigationBar.svelte";
import SettingsDialog from "/src/lib/components/SettingsDialog.svelte";
import BrowseTab from "/src/lib/components/tabs/BrowseTab.svelte?t=1755803164082";
import ConstructTab from "/src/lib/components/tabs/ConstructTab.svelte?t=1755803164082";
import LearnTab from "/src/lib/components/tabs/LearnTab.svelte?t=1755803164082";
import SequenceCardTab from "/src/lib/components/tabs/sequence_card/SequenceCardTab.svelte";
import WriteTab from "/src/lib/components/tabs/WriteTab.svelte";
import AboutTab from "/src/lib/components/tabs/AboutTab.svelte";
import MotionTesterTab from "/src/lib/components/tabs/MotionTesterTab.svelte?t=1755803164082";
import ArrowDebugTab from "/src/lib/components/tabs/ArrowDebugTab.svelte?t=1755803164082";

var root_3 = $.add_locations($.from_html(`<div class="tab-content s-7b069_SSS-ox"><!></div>`), MainInterface[$.FILENAME], [[104, 8]]);
var root_1 = $.add_locations($.from_html(`<div class="main-interface s-7b069_SSS-ox"><!> <!> <main class="content-area s-7b069_SSS-ox"><!></main> <!></div>`), MainInterface[$.FILENAME], [[83, 2, [[101, 4]]]]);

function MainInterface($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, MainInterface);

	let activeTab = $.tag($.derived(getActiveTab), 'activeTab');
	let showSettings = $.tag($.derived(getShowSettings), 'showSettings');
	let settings = $.tag($.derived(getSettings), 'settings');

	const tabOut = (node) => {
		const animationsEnabled = $.strict_equals($.get(settings).animationsEnabled, false, false);

		return fade(node, { duration: animationsEnabled ? 250 : 0 });
	};

	const tabIn = (node) => {
		const animationsEnabled = $.strict_equals($.get(settings).animationsEnabled, false, false);

		return fade(node, {
			duration: animationsEnabled ? 300 : 0,
			delay: animationsEnabled ? 250 : 0

			// Wait for out transition
		});
	};

	const allTabs = [
		{
			id: "construct",
			label: "Construct",
			icon: "\u{1F527}",
			isMain: true
		},

		{
			id: "browse",
			label: "Browse",
			icon: "\u{1F50D}",
			isMain: true
		},

		{ id: "learn", label: "Learn", icon: "\u{1F9E0}", isMain: true },

		{
			id: "about",
			label: "About",
			icon: "\u2139\uFE0F",
			isMain: true
		},

		{
			id: "sequence_card",
			label: "Sequence Card",
			icon: "\u{1F3B4}",
			isMain: false
		},

		{
			id: "write",
			label: "Write",
			icon: "\u270D\uFE0F",
			isMain: false
		},

		{
			id: "motion-tester",
			label: "Motion Tester",
			icon: "\u{1F3AF}",
			isMain: false
		},

		{
			id: "arrow-debug",
			label: "Arrow Debug",
			icon: "\u{1F3F9}",
			isMain: false
		}
	];

	const appTabs = $.tag(
		$.derived(() => () => {
			if ($.get(settings).developerMode) {
				const mainTabs = allTabs.filter((tab) => tab.isMain);
				const devTabs = allTabs.filter((tab) => !tab.isMain);

				return [...mainTabs, ...devTabs];
			} else {
				return allTabs.filter((tab) => tab.isMain);
			}
		}),
		'appTabs'
	);

	let hasInitialRestoreCompleted = false;

	$.user_effect(() => {
		if (!hasInitialRestoreCompleted) {
			hasInitialRestoreCompleted = true;

			return;
		}

		if (!$.get(settings).developerMode) {
			const currentTabIsMain = allTabs.find((tab) => $.strict_equals(tab.id, $.get(activeTab)))?.isMain;

			if ($.strict_equals(currentTabIsMain, false)) {
				switchTab("construct");
			}
		}
	});

	function handleTabSelect(tabId) {
		switchTab(tabId);
	}

	function handleBackgroundChange(background) {}

	var fragment = $.comment();
	var node_1 = $.first_child(fragment);

	$.add_svelte_meta(
		() => BackgroundProvider(node_1, {
			children: $.wrap_snippet(MainInterface, ($$anchor, $$slotProps) => {
				var div = root_1();
				var node_2 = $.child(div);

				{
					var consequent = ($$anchor) => {
						var fragment_1 = $.comment();
						var node_3 = $.first_child(fragment_1);

						{
							let $0 = $.derived(() => $.get(settings).backgroundType || BackgroundType.NIGHT_SKY);
							let $1 = $.derived(() => $.get(settings).backgroundQuality || "medium");

							$.add_svelte_meta(
								() => BackgroundCanvas(node_3, {
									get backgroundType() {
										return $.get($0);
									},

									get quality() {
										return $.get($1);
									}
								}),
								'component',
								MainInterface,
								86,
								6,
								{ componentTag: 'BackgroundCanvas' }
							);
						}

						$.append($$anchor, fragment_1);
					};

					$.add_svelte_meta(
						() => $.if(node_2, ($$render) => {
							if ($.get(settings).backgroundEnabled) $$render(consequent);
						}),
						'if',
						MainInterface,
						85,
						4
					);
				}

				var node_4 = $.sibling(node_2, 2);

				{
					let $0 = $.derived(() => $.get(appTabs)());

					$.add_svelte_meta(
						() => NavigationBar(node_4, {
							get tabs() {
								return $.get($0);
							},

							get activeTab() {
								return $.get(activeTab);
							},

							onTabSelect: handleTabSelect,
							onBackgroundChange: handleBackgroundChange
						}),
						'component',
						MainInterface,
						93,
						4,
						{ componentTag: 'NavigationBar' }
					);
				}

				var main = $.sibling(node_4, 2);
				var node_5 = $.child(main);

				$.add_svelte_meta(
					() => $.key(node_5, () => $.get(activeTab), ($$anchor) => {
						var div_1 = root_3();
						var node_6 = $.child(div_1);

						{
							var consequent_1 = ($$anchor) => {
								var fragment_2 = $.comment();
								var node_7 = $.first_child(fragment_2);

								$.add_svelte_meta(() => ConstructTab(node_7, {}), 'component', MainInterface, 106, 12, { componentTag: 'ConstructTab' });
								$.append($$anchor, fragment_2);
							};

							var alternate_6 = ($$anchor) => {
								var fragment_3 = $.comment();
								var node_8 = $.first_child(fragment_3);

								{
									var consequent_2 = ($$anchor) => {
										var fragment_4 = $.comment();
										var node_9 = $.first_child(fragment_4);

										$.add_svelte_meta(() => BrowseTab(node_9, {}), 'component', MainInterface, 108, 12, { componentTag: 'BrowseTab' });
										$.append($$anchor, fragment_4);
									};

									var alternate_5 = ($$anchor) => {
										var fragment_5 = $.comment();
										var node_10 = $.first_child(fragment_5);

										{
											var consequent_3 = ($$anchor) => {
												var fragment_6 = $.comment();
												var node_11 = $.first_child(fragment_6);

												$.add_svelte_meta(() => SequenceCardTab(node_11, {}), 'component', MainInterface, 110, 12, { componentTag: 'SequenceCardTab' });
												$.append($$anchor, fragment_6);
											};

											var alternate_4 = ($$anchor) => {
												var fragment_7 = $.comment();
												var node_12 = $.first_child(fragment_7);

												{
													var consequent_4 = ($$anchor) => {
														var fragment_8 = $.comment();
														var node_13 = $.first_child(fragment_8);

														$.add_svelte_meta(() => WriteTab(node_13, {}), 'component', MainInterface, 112, 12, { componentTag: 'WriteTab' });
														$.append($$anchor, fragment_8);
													};

													var alternate_3 = ($$anchor) => {
														var fragment_9 = $.comment();
														var node_14 = $.first_child(fragment_9);

														{
															var consequent_5 = ($$anchor) => {
																var fragment_10 = $.comment();
																var node_15 = $.first_child(fragment_10);

																$.add_svelte_meta(() => LearnTab(node_15, {}), 'component', MainInterface, 114, 12, { componentTag: 'LearnTab' });
																$.append($$anchor, fragment_10);
															};

															var alternate_2 = ($$anchor) => {
																var fragment_11 = $.comment();
																var node_16 = $.first_child(fragment_11);

																{
																	var consequent_6 = ($$anchor) => {
																		var fragment_12 = $.comment();
																		var node_17 = $.first_child(fragment_12);

																		$.add_svelte_meta(() => MotionTesterTab(node_17, {}), 'component', MainInterface, 116, 12, { componentTag: 'MotionTesterTab' });
																		$.append($$anchor, fragment_12);
																	};

																	var alternate_1 = ($$anchor) => {
																		var fragment_13 = $.comment();
																		var node_18 = $.first_child(fragment_13);

																		{
																			var consequent_7 = ($$anchor) => {
																				var fragment_14 = $.comment();
																				var node_19 = $.first_child(fragment_14);

																				$.add_svelte_meta(() => ArrowDebugTab(node_19, {}), 'component', MainInterface, 118, 12, { componentTag: 'ArrowDebugTab' });
																				$.append($$anchor, fragment_14);
																			};

																			var alternate = ($$anchor) => {
																				var fragment_15 = $.comment();
																				var node_20 = $.first_child(fragment_15);

																				{
																					var consequent_8 = ($$anchor) => {
																						var fragment_16 = $.comment();
																						var node_21 = $.first_child(fragment_16);

																						$.add_svelte_meta(() => AboutTab(node_21, {}), 'component', MainInterface, 120, 12, { componentTag: 'AboutTab' });
																						$.append($$anchor, fragment_16);
																					};

																					$.add_svelte_meta(
																						() => $.if(
																							node_20,
																							($$render) => {
																								if (isTabActive("about")) $$render(consequent_8);
																							},
																							true
																						),
																						'if',
																						MainInterface,
																						119,
																						10
																					);
																				}

																				$.append($$anchor, fragment_15);
																			};

																			$.add_svelte_meta(
																				() => $.if(
																					node_18,
																					($$render) => {
																						if (isTabActive("arrow-debug")) $$render(consequent_7); else $$render(alternate, false);
																					},
																					true
																				),
																				'if',
																				MainInterface,
																				117,
																				10
																			);
																		}

																		$.append($$anchor, fragment_13);
																	};

																	$.add_svelte_meta(
																		() => $.if(
																			node_16,
																			($$render) => {
																				if (isTabActive("motion-tester")) $$render(consequent_6); else $$render(alternate_1, false);
																			},
																			true
																		),
																		'if',
																		MainInterface,
																		115,
																		10
																	);
																}

																$.append($$anchor, fragment_11);
															};

															$.add_svelte_meta(
																() => $.if(
																	node_14,
																	($$render) => {
																		if (isTabActive("learn")) $$render(consequent_5); else $$render(alternate_2, false);
																	},
																	true
																),
																'if',
																MainInterface,
																113,
																10
															);
														}

														$.append($$anchor, fragment_9);
													};

													$.add_svelte_meta(
														() => $.if(
															node_12,
															($$render) => {
																if (isTabActive("write")) $$render(consequent_4); else $$render(alternate_3, false);
															},
															true
														),
														'if',
														MainInterface,
														111,
														10
													);
												}

												$.append($$anchor, fragment_7);
											};

											$.add_svelte_meta(
												() => $.if(
													node_10,
													($$render) => {
														if (isTabActive("sequence_card")) $$render(consequent_3); else $$render(alternate_4, false);
													},
													true
												),
												'if',
												MainInterface,
												109,
												10
											);
										}

										$.append($$anchor, fragment_5);
									};

									$.add_svelte_meta(
										() => $.if(
											node_8,
											($$render) => {
												if (isTabActive("browse")) $$render(consequent_2); else $$render(alternate_5, false);
											},
											true
										),
										'if',
										MainInterface,
										107,
										10
									);
								}

								$.append($$anchor, fragment_3);
							};

							$.add_svelte_meta(
								() => $.if(node_6, ($$render) => {
									if (isTabActive("construct")) $$render(consequent_1); else $$render(alternate_6, false);
								}),
								'if',
								MainInterface,
								105,
								10
							);
						}

						$.reset(div_1);
						$.transition(1, div_1, () => tabIn);
						$.transition(2, div_1, () => tabOut);
						$.append($$anchor, div_1);
					}),
					'key',
					MainInterface,
					103,
					6
				);

				$.reset(main);

				var node_22 = $.sibling(main, 2);

				{
					var consequent_9 = ($$anchor) => {
						var fragment_17 = $.comment();
						var node_23 = $.first_child(fragment_17);

						$.add_svelte_meta(() => SettingsDialog(node_23, {}), 'component', MainInterface, 128, 6, { componentTag: 'SettingsDialog' });
						$.append($$anchor, fragment_17);
					};

					$.add_svelte_meta(
						() => $.if(node_22, ($$render) => {
							if ($.get(showSettings)) $$render(consequent_9);
						}),
						'if',
						MainInterface,
						127,
						4
					);
				}

				$.reset(div);
				$.append($$anchor, div);
			}),

			$$slots: { default: true }
		}),
		'component',
		MainInterface,
		82,
		0,
		{ componentTag: 'BackgroundProvider' }
	);

	$.append($$anchor, fragment);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	MainInterface = $.hmr(MainInterface, () => MainInterface[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-7b069_SSS-ox');
		module.default[$.HMR].source = MainInterface[$.HMR].source;
		$.set(MainInterface[$.HMR].source, module.default[$.HMR].original);
	});
}

export default MainInterface;
import "/src/lib/components/MainInterface.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7OztDQUtJO0NBQ0E7Q0FDQTtDQUFBO0NBSUY7T0FHUzs7U0FLRixzQkFBbUI7U0FHbkI7T0FHQSxzQkFBYztPQUNkLHdCQUFjO09BQ2QsbUJBQXFCO09BQ3JCLG9CQUFtQjtPQUd0QixlQUFZO09BQ1osa0JBQWU7T0FDZixjQUFXO09BR1QscUJBQTRCO09BQzFCO09BQ0MsY0FBVztPQUNoQixxQkFBVTtPQUNYOzs7OzswQ0F4Q0wsQ0FBQzs7OztLQTRDRyw0QkFBTTtLQUNOLCtCQUFrQjtLQUNoQiwyQkFBVTs7T0FFWDtRQUNIOztTQUdNLEtBQVUsUUFDWixVQUFJLG9CQUFvQixNQUFhO0NBRXZDOztPQUVNLGtCQUF3QjtRQUN4QiwwQ0FBZ0IsVUFBZSxtQkFBTTs7U0FDckM7R0FDSixVQUFJLG9CQUFzQjtHQUM5Qjs7OztDQUlFOztPQUlFOztHQUNGLElBQU87R0FBQTtHQUFBO0dBQUE7Ozs7R0FFTDtHQUFlLE9BQVE7R0FBUSxNQUFJO0dBQU07OztJQUMzQzs7O0dBQ0Q7R0FBQTtHQUFBO0dBQUE7Ozs7R0FJRztHQUFBLE9BQTZCO0dBQUE7R0FBQTs7OztHQUVqQyxJQUFRO0dBQU07R0FBQTtHQUFBOzs7O0dBRVIsSUFBQztHQUFBO0dBQTRCO0dBQUE7Ozs7R0FDL0I7R0FBQTtHQUE2QjtHQUFBOzs7O09BSzdCO3dCQUF5QjthQUN0QixVQUFRLGVBQVc7VUFFbEIsbUJBQXFCLFFBQU87VUFHOUIsVUFBVSxRQUFXOztlQUN2QjtHQUNGO1dBR08sZ0JBQWdCLFFBQWU7R0FDdEM7RUFBQTs7OztLQWVGOzs7T0FJSyw0QkFBc0I7R0FDdkIsNkJBQXVCOzs7RUFFN0I7O2FBRVEsVUFBUyxlQUFTO1NBQ25CLGlDQUNDOzt1QkFFQyxrQkFBaUI7SUFHbkIsVUFBUztHQUNWO0VBQ047Q0FDQTs7VUFFUyxnQkFBa0IsT0FBRTtFQUN6QixVQUNFO0NBVU47O1VBRUEsdUJBQXVCLGFBRXZCOzs7Ozs7Ozs7Ozs7Ozs7OztzQ0FRVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUJBRkQsUUFBSTs7Ozs7Ozs7Ozs7O29DQVNYOzs7Ozs7Ozs7Ozs7b0JBRUk7MkJBQ1k7Ozs7Ozs7Ozs7Ozs7O3FDQU1OLFNBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFnQkg7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFGRyxXQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBSlIsV0FBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUZGLFdBQU07Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkFGZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzthQUpJLFdBQUMsQ0FBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUJBc0J6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQS9DRiIsIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiTWFpbkludGVyZmFjZS5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgLy8gSW1wb3J0IGFwcCBzdGF0ZSBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuICBpbXBvcnQge1xuICAgIGdldEFjdGl2ZVRhYixcbiAgICBnZXRTZXR0aW5ncyxcbiAgICBnZXRTaG93U2V0dGluZ3MsXG4gICAgaXNUYWJBY3RpdmUsXG4gICAgc3dpdGNoVGFiLFxuICB9IGZyb20gXCIkbGliL3N0YXRlL2FwcFN0YXRlLnN2ZWx0ZVwiO1xuXG4gIC8vIEltcG9ydCBiYWNrZ3JvdW5kIHR5cGVzXG4gIGltcG9ydCB7IEJhY2tncm91bmRUeXBlIH0gZnJvbSBcIi4vYmFja2dyb3VuZHMvdHlwZXMvdHlwZXNcIjtcblxuICAvLyBJbXBvcnQgdHJhbnNpdGlvbiB1dGlsaXRpZXNcbiAgaW1wb3J0IHsgZmFkZSB9IGZyb20gXCIkbGliL3V0aWxzL3NpbXBsZS1mYWRlXCI7XG5cbiAgLy8gSW1wb3J0IGNvbXBvbmVudHMgLSBBcHAgSW50ZXJmYWNlXG4gIGltcG9ydCBCYWNrZ3JvdW5kQ2FudmFzIGZyb20gXCIuL2JhY2tncm91bmRzL0JhY2tncm91bmRDYW52YXMuc3ZlbHRlXCI7XG4gIGltcG9ydCBCYWNrZ3JvdW5kUHJvdmlkZXIgZnJvbSBcIi4vYmFja2dyb3VuZHMvQmFja2dyb3VuZFByb3ZpZGVyLnN2ZWx0ZVwiO1xuICBpbXBvcnQgTmF2aWdhdGlvbkJhciBmcm9tIFwiLi9uYXZpZ2F0aW9uL05hdmlnYXRpb25CYXIuc3ZlbHRlXCI7XG4gIGltcG9ydCBTZXR0aW5nc0RpYWxvZyBmcm9tIFwiLi9TZXR0aW5nc0RpYWxvZy5zdmVsdGVcIjtcbiAgaW1wb3J0IEJyb3dzZVRhYiBmcm9tIFwiLi90YWJzL0Jyb3dzZVRhYi5zdmVsdGVcIjtcbiAgaW1wb3J0IENvbnN0cnVjdFRhYiBmcm9tIFwiLi90YWJzL0NvbnN0cnVjdFRhYi5zdmVsdGVcIjtcbiAgaW1wb3J0IExlYXJuVGFiIGZyb20gXCIuL3RhYnMvTGVhcm5UYWIuc3ZlbHRlXCI7XG4gIGltcG9ydCBTZXF1ZW5jZUNhcmRUYWIgZnJvbSBcIi4vdGFicy9zZXF1ZW5jZV9jYXJkL1NlcXVlbmNlQ2FyZFRhYi5zdmVsdGVcIjtcbiAgaW1wb3J0IFdyaXRlVGFiIGZyb20gXCIuL3RhYnMvV3JpdGVUYWIuc3ZlbHRlXCI7XG4gIGltcG9ydCBBYm91dFRhYiBmcm9tIFwiLi90YWJzL0Fib3V0VGFiLnN2ZWx0ZVwiO1xuICBpbXBvcnQgTW90aW9uVGVzdGVyVGFiIGZyb20gXCIuL3RhYnMvTW90aW9uVGVzdGVyVGFiLnN2ZWx0ZVwiO1xuICBpbXBvcnQgQXJyb3dEZWJ1Z1RhYiBmcm9tIFwiLi90YWJzL0Fycm93RGVidWdUYWIuc3ZlbHRlXCI7XG5cbiAgLy8gUmVhY3RpdmUgc3RhdGUgZm9yIHRlbXBsYXRlIHVzaW5nIHByb3BlciBkZXJpdmVkXG4gIGxldCBhY3RpdmVUYWIgPSAkZGVyaXZlZChnZXRBY3RpdmVUYWIoKSk7XG4gIGxldCBzaG93U2V0dGluZ3MgPSAkZGVyaXZlZChnZXRTaG93U2V0dGluZ3MoKSk7XG4gIGxldCBzZXR0aW5ncyA9ICRkZXJpdmVkKGdldFNldHRpbmdzKCkpO1xuXG4gIC8vIFNpbXBsZSB0cmFuc2l0aW9uIGZ1bmN0aW9ucyB0aGF0IHJlc3BlY3QgYW5pbWF0aW9uIHNldHRpbmdzXG4gIGNvbnN0IHRhYk91dCA9IChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgYW5pbWF0aW9uc0VuYWJsZWQgPSBzZXR0aW5ncy5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgcmV0dXJuIGZhZGUobm9kZSwge1xuICAgICAgZHVyYXRpb246IGFuaW1hdGlvbnNFbmFibGVkID8gMjUwIDogMCxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB0YWJJbiA9IChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgYW5pbWF0aW9uc0VuYWJsZWQgPSBzZXR0aW5ncy5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgcmV0dXJuIGZhZGUobm9kZSwge1xuICAgICAgZHVyYXRpb246IGFuaW1hdGlvbnNFbmFibGVkID8gMzAwIDogMCxcbiAgICAgIGRlbGF5OiBhbmltYXRpb25zRW5hYmxlZCA/IDI1MCA6IDAsIC8vIFdhaXQgZm9yIG91dCB0cmFuc2l0aW9uXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQXBwIHRhYiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IGFsbFRhYnMgPSBbXG4gICAgeyBpZDogXCJjb25zdHJ1Y3RcIiwgbGFiZWw6IFwiQ29uc3RydWN0XCIsIGljb246IFwi8J+Up1wiLCBpc01haW46IHRydWUgfSxcbiAgICB7IGlkOiBcImJyb3dzZVwiLCBsYWJlbDogXCJCcm93c2VcIiwgaWNvbjogXCLwn5SNXCIsIGlzTWFpbjogdHJ1ZSB9LFxuICAgIHsgaWQ6IFwibGVhcm5cIiwgbGFiZWw6IFwiTGVhcm5cIiwgaWNvbjogXCLwn6egXCIsIGlzTWFpbjogdHJ1ZSB9LFxuICAgIHsgaWQ6IFwiYWJvdXRcIiwgbGFiZWw6IFwiQWJvdXRcIiwgaWNvbjogXCLihLnvuI9cIiwgaXNNYWluOiB0cnVlIH0sXG4gICAgeyBpZDogXCJzZXF1ZW5jZV9jYXJkXCIsIGxhYmVsOiBcIlNlcXVlbmNlIENhcmRcIiwgaWNvbjogXCLwn460XCIsIGlzTWFpbjogZmFsc2UgfSxcbiAgICB7IGlkOiBcIndyaXRlXCIsIGxhYmVsOiBcIldyaXRlXCIsIGljb246IFwi4pyN77iPXCIsIGlzTWFpbjogZmFsc2UgfSxcbiAgICB7IGlkOiBcIm1vdGlvbi10ZXN0ZXJcIiwgbGFiZWw6IFwiTW90aW9uIFRlc3RlclwiLCBpY29uOiBcIvCfjq9cIiwgaXNNYWluOiBmYWxzZSB9LFxuICAgIHsgaWQ6IFwiYXJyb3ctZGVidWdcIiwgbGFiZWw6IFwiQXJyb3cgRGVidWdcIiwgaWNvbjogXCLwn4+5XCIsIGlzTWFpbjogZmFsc2UgfSxcbiAgXSBhcyBjb25zdDtcblxuICAvLyBGaWx0ZXIgdGFicyBiYXNlZCBvbiBkZXZlbG9wZXIgbW9kZVxuICBjb25zdCBhcHBUYWJzID0gJGRlcml2ZWQoKCkgPT4ge1xuICAgIGlmIChzZXR0aW5ncy5kZXZlbG9wZXJNb2RlKSB7XG4gICAgICAvLyBJbiBkZXZlbG9wZXIgbW9kZSwgc2hvdyBtYWluIHRhYnMgZmlyc3QsIHRoZW4gZGV2ZWxvcGVyIHRhYnNcbiAgICAgIGNvbnN0IG1haW5UYWJzID0gYWxsVGFicy5maWx0ZXIoKHRhYikgPT4gdGFiLmlzTWFpbik7XG4gICAgICBjb25zdCBkZXZUYWJzID0gYWxsVGFicy5maWx0ZXIoKHRhYikgPT4gIXRhYi5pc01haW4pO1xuICAgICAgcmV0dXJuIFsuLi5tYWluVGFicywgLi4uZGV2VGFic107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluIGNvbnN1bWVyIG1vZGUsIG9ubHkgc2hvdyBtYWluIHRhYnNcbiAgICAgIHJldHVybiBhbGxUYWJzLmZpbHRlcigodGFiKSA9PiB0YWIuaXNNYWluKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEhhbmRsZSBkZXZlbG9wZXIgbW9kZSBjaGFuZ2VzIC0gaWYgdXNlciBpcyBvbiBhIGRldiB0YWIgYW5kIHN3aXRjaGVzIHRvIGNvbnN1bWVyIG1vZGUsXG4gIC8vIHJlZGlyZWN0IHRoZW0gdG8gYSBtYWluIHRhYiAoYnV0IG5vdCBkdXJpbmcgaW5pdGlhbCBhcHAgbG9hZC9yZXN0b3JhdGlvbilcbiAgbGV0IGhhc0luaXRpYWxSZXN0b3JlQ29tcGxldGVkID0gZmFsc2U7XG5cbiAgJGVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2tpcCB0aGUgZmlyc3QgcnVuIHRvIGFsbG93IHRhYiByZXN0b3JhdGlvbiB0byBjb21wbGV0ZVxuICAgIGlmICghaGFzSW5pdGlhbFJlc3RvcmVDb21wbGV0ZWQpIHtcbiAgICAgIGhhc0luaXRpYWxSZXN0b3JlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXNldHRpbmdzLmRldmVsb3Blck1vZGUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUYWJJc01haW4gPSBhbGxUYWJzLmZpbmQoXG4gICAgICAgICh0YWIpID0+IHRhYi5pZCA9PT0gYWN0aXZlVGFiXG4gICAgICApPy5pc01haW47XG4gICAgICBpZiAoY3VycmVudFRhYklzTWFpbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgLy8gVXNlciBpcyBvbiBhIGRldmVsb3BlciB0YWIgYnV0IGRldmVsb3BlciBtb2RlIGlzIGRpc2FibGVkXG4gICAgICAgIC8vIFN3aXRjaCB0byB0aGUgZGVmYXVsdCBtYWluIHRhYiAoY29uc3RydWN0KVxuICAgICAgICBzd2l0Y2hUYWIoXCJjb25zdHJ1Y3RcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVUYWJTZWxlY3QodGFiSWQ6IHN0cmluZykge1xuICAgIHN3aXRjaFRhYihcbiAgICAgIHRhYklkIGFzXG4gICAgICAgIHwgXCJjb25zdHJ1Y3RcIlxuICAgICAgICB8IFwiYnJvd3NlXCJcbiAgICAgICAgfCBcInNlcXVlbmNlX2NhcmRcIlxuICAgICAgICB8IFwid3JpdGVcIlxuICAgICAgICB8IFwibGVhcm5cIlxuICAgICAgICB8IFwiYWJvdXRcIlxuICAgICAgICB8IFwibW90aW9uLXRlc3RlclwiXG4gICAgICAgIHwgXCJhcnJvdy1kZWJ1Z1wiXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJhY2tncm91bmRDaGFuZ2UoYmFja2dyb3VuZDogc3RyaW5nKSB7XG4gICAgLy8gQmFja2dyb3VuZCBjaGFuZ2UgaGFuZGxlZFxuICB9XG48L3NjcmlwdD5cblxuPEJhY2tncm91bmRQcm92aWRlcj5cbiAgPGRpdiBjbGFzcz1cIm1haW4taW50ZXJmYWNlXCI+XG4gICAgPCEtLSBCYWNrZ3JvdW5kIENhbnZhcyAtLT5cbiAgICB7I2lmIHNldHRpbmdzLmJhY2tncm91bmRFbmFibGVkfVxuICAgICAgPEJhY2tncm91bmRDYW52YXNcbiAgICAgICAgYmFja2dyb3VuZFR5cGU9e3NldHRpbmdzLmJhY2tncm91bmRUeXBlIHx8IEJhY2tncm91bmRUeXBlLk5JR0hUX1NLWX1cbiAgICAgICAgcXVhbGl0eT17c2V0dGluZ3MuYmFja2dyb3VuZFF1YWxpdHkgfHwgXCJtZWRpdW1cIn1cbiAgICAgIC8+XG4gICAgey9pZn1cblxuICAgIDwhLS0gTmF2aWdhdGlvbiBCYXIgLS0+XG4gICAgPE5hdmlnYXRpb25CYXJcbiAgICAgIHRhYnM9e2FwcFRhYnMoKX1cbiAgICAgIHthY3RpdmVUYWJ9XG4gICAgICBvblRhYlNlbGVjdD17aGFuZGxlVGFiU2VsZWN0fVxuICAgICAgb25CYWNrZ3JvdW5kQ2hhbmdlPXtoYW5kbGVCYWNrZ3JvdW5kQ2hhbmdlfVxuICAgIC8+XG5cbiAgICA8IS0tIE1haW4gQ29udGVudCBBcmVhIC0tPlxuICAgIDxtYWluIGNsYXNzPVwiY29udGVudC1hcmVhXCI+XG4gICAgICA8IS0tIEFwcCBDb250ZW50IHdpdGggcmVsaWFibGUgdHJhbnNpdGlvbnMgLS0+XG4gICAgICB7I2tleSBhY3RpdmVUYWJ9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiIGluOnRhYkluIG91dDp0YWJPdXQ+XG4gICAgICAgICAgeyNpZiBpc1RhYkFjdGl2ZShcImNvbnN0cnVjdFwiKX1cbiAgICAgICAgICAgIDxDb25zdHJ1Y3RUYWIgLz5cbiAgICAgICAgICB7OmVsc2UgaWYgaXNUYWJBY3RpdmUoXCJicm93c2VcIil9XG4gICAgICAgICAgICA8QnJvd3NlVGFiIC8+XG4gICAgICAgICAgezplbHNlIGlmIGlzVGFiQWN0aXZlKFwic2VxdWVuY2VfY2FyZFwiKX1cbiAgICAgICAgICAgIDxTZXF1ZW5jZUNhcmRUYWIgLz5cbiAgICAgICAgICB7OmVsc2UgaWYgaXNUYWJBY3RpdmUoXCJ3cml0ZVwiKX1cbiAgICAgICAgICAgIDxXcml0ZVRhYiAvPlxuICAgICAgICAgIHs6ZWxzZSBpZiBpc1RhYkFjdGl2ZShcImxlYXJuXCIpfVxuICAgICAgICAgICAgPExlYXJuVGFiIC8+XG4gICAgICAgICAgezplbHNlIGlmIGlzVGFiQWN0aXZlKFwibW90aW9uLXRlc3RlclwiKX1cbiAgICAgICAgICAgIDxNb3Rpb25UZXN0ZXJUYWIgLz5cbiAgICAgICAgICB7OmVsc2UgaWYgaXNUYWJBY3RpdmUoXCJhcnJvdy1kZWJ1Z1wiKX1cbiAgICAgICAgICAgIDxBcnJvd0RlYnVnVGFiIC8+XG4gICAgICAgICAgezplbHNlIGlmIGlzVGFiQWN0aXZlKFwiYWJvdXRcIil9XG4gICAgICAgICAgICA8QWJvdXRUYWIgLz5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsva2V5fVxuICAgIDwvbWFpbj5cblxuICAgIDwhLS0gU2V0dGluZ3MgRGlhbG9nIC0gbW92ZWQgaW5zaWRlIEJhY2tncm91bmRQcm92aWRlciAtLT5cbiAgICB7I2lmIHNob3dTZXR0aW5nc31cbiAgICAgIDxTZXR0aW5nc0RpYWxvZyAvPlxuICAgIHsvaWZ9XG4gIDwvZGl2PlxuPC9CYWNrZ3JvdW5kUHJvdmlkZXI+XG5cbjxzdHlsZT5cbiAgLm1haW4taW50ZXJmYWNlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB9XG5cbiAgLmNvbnRlbnQtYXJlYSB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICAudGFiLWNvbnRlbnQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLyogUmVzcG9uc2l2ZSBkZXNpZ24gKi9cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLm1haW4taW50ZXJmYWNlIHtcbiAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICBoZWlnaHQ6IDEwMGR2aDsgLyogRHluYW1pYyB2aWV3cG9ydCBoZWlnaHQgZm9yIG1vYmlsZSAqL1xuICAgIH1cbiAgfVxuXG4gIC8qIERpc2FibGUgYW5pbWF0aW9ucyB3aGVuIHVzZXIgcHJlZmVycyByZWR1Y2VkIG1vdGlvbiAqL1xuICBAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge1xuICAgIC5tYWluLWludGVyZmFjZSxcbiAgICAudGFiLWNvbnRlbnQge1xuICAgICAgdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgYW5pbWF0aW9uOiBub25lICFpbXBvcnRhbnQ7XG4gICAgfVxuICB9XG5cbiAgLyogSGlnaCBjb250cmFzdCBtb2RlICovXG4gIEBtZWRpYSAocHJlZmVycy1jb250cmFzdDogaGlnaCkge1xuICAgIC5tYWluLWludGVyZmFjZSB7XG4gICAgICBib3JkZXI6IDJweCBzb2xpZCAjNjY3ZWVhO1xuICAgIH1cbiAgfVxuXG4gIC8qIFByaW50IHN0eWxlcyAqL1xuICBAbWVkaWEgcHJpbnQge1xuICAgIC5tYWluLWludGVyZmFjZSB7XG4gICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICB9XG5cbiAgICAuY29udGVudC1hcmVhIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgIH1cblxuICAgIC50YWItY29udGVudCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICB9XG4gIH1cbjwvc3R5bGU+XG4iXSwiZmlsZSI6IkM6L1RLQS93ZWIvc3JjL2xpYi9jb21wb25lbnRzL01haW5JbnRlcmZhY2Uuc3ZlbHRlIn0=