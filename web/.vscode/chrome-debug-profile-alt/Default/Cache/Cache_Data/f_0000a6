import {
  Location,
  GridPosition,
  MotionType,
  RotationDirection,
  Timing,
  Direction
} from "/src/lib/domain/enums.ts";
export class PositionMappingService {
  // Position mapping from (blue_end_loc, red_end_loc) to position key
  POSITIONS_MAP = {
    // Alpha positions - hands in opposite/complementary directions
    "s,n": GridPosition.ALPHA1,
    "sw,ne": GridPosition.ALPHA2,
    "w,e": GridPosition.ALPHA3,
    "nw,se": GridPosition.ALPHA4,
    "n,s": GridPosition.ALPHA5,
    "ne,sw": GridPosition.ALPHA6,
    "e,w": GridPosition.ALPHA7,
    "se,nw": GridPosition.ALPHA8,
    // Beta positions - both hands same direction
    "n,n": GridPosition.BETA1,
    "ne,ne": GridPosition.BETA2,
    "e,e": GridPosition.BETA3,
    "se,se": GridPosition.BETA4,
    "s,s": GridPosition.BETA5,
    "sw,sw": GridPosition.BETA6,
    "w,w": GridPosition.BETA7,
    "nw,nw": GridPosition.BETA8,
    // Gamma positions - mixed/varied combinations
    "w,n": GridPosition.GAMMA1,
    "nw,ne": GridPosition.GAMMA2,
    "n,e": GridPosition.GAMMA3,
    "ne,se": GridPosition.GAMMA4,
    "e,s": GridPosition.GAMMA5,
    "se,sw": GridPosition.GAMMA6,
    "s,w": GridPosition.GAMMA7,
    "sw,nw": GridPosition.GAMMA8,
    "e,n": GridPosition.GAMMA9,
    "se,ne": GridPosition.GAMMA10,
    "s,e": GridPosition.GAMMA11,
    "sw,se": GridPosition.GAMMA12,
    "w,s": GridPosition.GAMMA13,
    "nw,sw": GridPosition.GAMMA14,
    "n,w": GridPosition.GAMMA15,
    "ne,nw": GridPosition.GAMMA16
  };
  // Reverse mapping from position to hand locations
  LOCATION_PAIRS_MAP;
  constructor() {
    this.LOCATION_PAIRS_MAP = {};
    Object.entries(this.POSITIONS_MAP).forEach(([locPair, position]) => {
      const [blueStr, redStr] = locPair.split(",");
      const blueLocation = this.stringToLocation(blueStr);
      const redLocation = this.stringToLocation(redStr);
      this.LOCATION_PAIRS_MAP[position] = [blueLocation, redLocation];
    });
  }
  /**
   * Get the hand location pair for a given position
   */
  getLocationPair(position) {
    const pair = this.LOCATION_PAIRS_MAP[position];
    if (!pair) {
      throw new Error(`No location pair found for position: ${position}`);
    }
    return pair;
  }
  /**
   * Get the position for a given hand location pair
   */
  getPositionFromLocations(blueLocation, redLocation) {
    const key = `${this.locationToString(blueLocation)},${this.locationToString(redLocation)}`;
    const position = this.POSITIONS_MAP[key];
    if (!position) {
      throw new Error(
        `No position found for locations: ${blueLocation}, ${redLocation}`
      );
    }
    return position;
  }
  /**
   * Convert location enum to CSV string format
   */
  locationToString(location) {
    switch (location) {
      case Location.NORTH:
        return "n";
      case Location.NORTHEAST:
        return "ne";
      case Location.EAST:
        return "e";
      case Location.SOUTHEAST:
        return "se";
      case Location.SOUTH:
        return "s";
      case Location.SOUTHWEST:
        return "sw";
      case Location.WEST:
        return "w";
      case Location.NORTHWEST:
        return "nw";
      default:
        throw new Error(`Unknown location: ${location}`);
    }
  }
  /**
   * Convert CSV string format to location enum
   */
  stringToLocation(str) {
    switch (str) {
      case "n":
        return Location.NORTH;
      case "ne":
        return Location.NORTHEAST;
      case "e":
        return Location.EAST;
      case "se":
        return Location.SOUTHEAST;
      case "s":
        return Location.SOUTH;
      case "sw":
        return Location.SOUTHWEST;
      case "w":
        return Location.WEST;
      case "nw":
        return Location.NORTHWEST;
      default:
        throw new Error(`Unknown location string: ${str}`);
    }
  }
  /**
   * Convert CSV string format to motion type enum
   */
  stringToMotionType(str) {
    switch (str) {
      case "pro":
        return MotionType.PRO;
      case "anti":
        return MotionType.ANTI;
      case "static":
        return MotionType.STATIC;
      case "dash":
        return MotionType.DASH;
      case "float":
        return MotionType.FLOAT;
      default:
        throw new Error(`Unknown motion type: ${str}`);
    }
  }
  /**
   * Convert CSV string format to rotation direction enum
   */
  stringToRotationDirection(str) {
    switch (str) {
      case "cw":
        return RotationDirection.CLOCKWISE;
      case "ccw":
        return RotationDirection.COUNTER_CLOCKWISE;
      case "noRotation":
        return RotationDirection.NO_ROTATION;
      default:
        throw new Error(`Unknown rotation direction: ${str}`);
    }
  }
  /**
   * Convert CSV string format to timing enum
   */
  stringToTiming(str) {
    switch (str) {
      case "split":
        return Timing.SPLIT;
      case "tog":
        return Timing.TOG;
      case "quarter":
        return Timing.QUARTER;
      default:
        throw new Error(`Unknown timing: ${str}`);
    }
  }
  /**
   * Convert CSV string format to direction enum
   */
  stringToDirection(str) {
    switch (str) {
      case "same":
        return Direction.SAME;
      case "opp":
        return Direction.OPP;
      default:
        throw new Error(`Unknown direction: ${str}`);
    }
  }
  /**
   * Convert CSV string format to grid position enum
   */
  stringToGridPosition(str) {
    const upperStr = str.toUpperCase();
    const position = GridPosition[upperStr];
    if (!position) {
      throw new Error(`Unknown grid position: ${str}`);
    }
    return position;
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9tb3ZlbWVudC9Qb3NpdGlvbk1hcHBpbmdTZXJ2aWNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIFBvc2l0aW9uIE1hcHBpbmcgU2VydmljZSAtIENvcnJlY3QgcG9zaXRpb24gbWFwcGluZyBiYXNlZCBvbiBoYW5kIGNvbWJpbmF0aW9uc1xuICpcbiAqIE1hcHMgYmV0d2VlbiBwb3NpdGlvbiBuYW1lcyAoYWxwaGE0LCBiZXRhMiwgZXRjLikgYW5kIGhhbmQgbG9jYXRpb24gcGFpcnMuXG4gKiBBIHBvc2l0aW9uIHJlcHJlc2VudHMgdGhlIGNvbWJpbmF0aW9uIG9mIChibHVlX2hhbmRfbG9jYXRpb24sIHJlZF9oYW5kX2xvY2F0aW9uKS5cbiAqL1xuXG5pbXBvcnQge1xuICBMb2NhdGlvbixcbiAgR3JpZFBvc2l0aW9uLFxuICBNb3Rpb25UeXBlLFxuICBSb3RhdGlvbkRpcmVjdGlvbixcbiAgVGltaW5nLFxuICBEaXJlY3Rpb24sXG59IGZyb20gXCIkbGliL2RvbWFpbi9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9zaXRpb25NYXBwaW5nU2VydmljZSB7XG4gIC8vIFBvc2l0aW9uIG1hcHBpbmcgZnJvbSAoYmx1ZV9lbmRfbG9jLCByZWRfZW5kX2xvYykgdG8gcG9zaXRpb24ga2V5XG4gIHByaXZhdGUgcmVhZG9ubHkgUE9TSVRJT05TX01BUDogUmVjb3JkPHN0cmluZywgR3JpZFBvc2l0aW9uPiA9IHtcbiAgICAvLyBBbHBoYSBwb3NpdGlvbnMgLSBoYW5kcyBpbiBvcHBvc2l0ZS9jb21wbGVtZW50YXJ5IGRpcmVjdGlvbnNcbiAgICBcInMsblwiOiBHcmlkUG9zaXRpb24uQUxQSEExLFxuICAgIFwic3csbmVcIjogR3JpZFBvc2l0aW9uLkFMUEhBMixcbiAgICBcIncsZVwiOiBHcmlkUG9zaXRpb24uQUxQSEEzLFxuICAgIFwibncsc2VcIjogR3JpZFBvc2l0aW9uLkFMUEhBNCxcbiAgICBcIm4sc1wiOiBHcmlkUG9zaXRpb24uQUxQSEE1LFxuICAgIFwibmUsc3dcIjogR3JpZFBvc2l0aW9uLkFMUEhBNixcbiAgICBcImUsd1wiOiBHcmlkUG9zaXRpb24uQUxQSEE3LFxuICAgIFwic2UsbndcIjogR3JpZFBvc2l0aW9uLkFMUEhBOCxcblxuICAgIC8vIEJldGEgcG9zaXRpb25zIC0gYm90aCBoYW5kcyBzYW1lIGRpcmVjdGlvblxuICAgIFwibixuXCI6IEdyaWRQb3NpdGlvbi5CRVRBMSxcbiAgICBcIm5lLG5lXCI6IEdyaWRQb3NpdGlvbi5CRVRBMixcbiAgICBcImUsZVwiOiBHcmlkUG9zaXRpb24uQkVUQTMsXG4gICAgXCJzZSxzZVwiOiBHcmlkUG9zaXRpb24uQkVUQTQsXG4gICAgXCJzLHNcIjogR3JpZFBvc2l0aW9uLkJFVEE1LFxuICAgIFwic3csc3dcIjogR3JpZFBvc2l0aW9uLkJFVEE2LFxuICAgIFwidyx3XCI6IEdyaWRQb3NpdGlvbi5CRVRBNyxcbiAgICBcIm53LG53XCI6IEdyaWRQb3NpdGlvbi5CRVRBOCxcblxuICAgIC8vIEdhbW1hIHBvc2l0aW9ucyAtIG1peGVkL3ZhcmllZCBjb21iaW5hdGlvbnNcbiAgICBcIncsblwiOiBHcmlkUG9zaXRpb24uR0FNTUExLFxuICAgIFwibncsbmVcIjogR3JpZFBvc2l0aW9uLkdBTU1BMixcbiAgICBcIm4sZVwiOiBHcmlkUG9zaXRpb24uR0FNTUEzLFxuICAgIFwibmUsc2VcIjogR3JpZFBvc2l0aW9uLkdBTU1BNCxcbiAgICBcImUsc1wiOiBHcmlkUG9zaXRpb24uR0FNTUE1LFxuICAgIFwic2Usc3dcIjogR3JpZFBvc2l0aW9uLkdBTU1BNixcbiAgICBcInMsd1wiOiBHcmlkUG9zaXRpb24uR0FNTUE3LFxuICAgIFwic3csbndcIjogR3JpZFBvc2l0aW9uLkdBTU1BOCxcbiAgICBcImUsblwiOiBHcmlkUG9zaXRpb24uR0FNTUE5LFxuICAgIFwic2UsbmVcIjogR3JpZFBvc2l0aW9uLkdBTU1BMTAsXG4gICAgXCJzLGVcIjogR3JpZFBvc2l0aW9uLkdBTU1BMTEsXG4gICAgXCJzdyxzZVwiOiBHcmlkUG9zaXRpb24uR0FNTUExMixcbiAgICBcIncsc1wiOiBHcmlkUG9zaXRpb24uR0FNTUExMyxcbiAgICBcIm53LHN3XCI6IEdyaWRQb3NpdGlvbi5HQU1NQTE0LFxuICAgIFwibix3XCI6IEdyaWRQb3NpdGlvbi5HQU1NQTE1LFxuICAgIFwibmUsbndcIjogR3JpZFBvc2l0aW9uLkdBTU1BMTYsXG4gIH07XG5cbiAgLy8gUmV2ZXJzZSBtYXBwaW5nIGZyb20gcG9zaXRpb24gdG8gaGFuZCBsb2NhdGlvbnNcbiAgcHJpdmF0ZSByZWFkb25seSBMT0NBVElPTl9QQUlSU19NQVA6IFJlY29yZDxcbiAgICBHcmlkUG9zaXRpb24sXG4gICAgW0xvY2F0aW9uLCBMb2NhdGlvbl1cbiAgPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBCdWlsZCByZXZlcnNlIG1hcHBpbmdcbiAgICB0aGlzLkxPQ0FUSU9OX1BBSVJTX01BUCA9IHt9IGFzIFJlY29yZDxHcmlkUG9zaXRpb24sIFtMb2NhdGlvbiwgTG9jYXRpb25dPjtcblxuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuUE9TSVRJT05TX01BUCkuZm9yRWFjaCgoW2xvY1BhaXIsIHBvc2l0aW9uXSkgPT4ge1xuICAgICAgY29uc3QgW2JsdWVTdHIsIHJlZFN0cl0gPSBsb2NQYWlyLnNwbGl0KFwiLFwiKTtcbiAgICAgIGNvbnN0IGJsdWVMb2NhdGlvbiA9IHRoaXMuc3RyaW5nVG9Mb2NhdGlvbihibHVlU3RyKTtcbiAgICAgIGNvbnN0IHJlZExvY2F0aW9uID0gdGhpcy5zdHJpbmdUb0xvY2F0aW9uKHJlZFN0cik7XG4gICAgICB0aGlzLkxPQ0FUSU9OX1BBSVJTX01BUFtwb3NpdGlvbl0gPSBbYmx1ZUxvY2F0aW9uLCByZWRMb2NhdGlvbl07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBoYW5kIGxvY2F0aW9uIHBhaXIgZm9yIGEgZ2l2ZW4gcG9zaXRpb25cbiAgICovXG4gIGdldExvY2F0aW9uUGFpcihwb3NpdGlvbjogR3JpZFBvc2l0aW9uKTogW0xvY2F0aW9uLCBMb2NhdGlvbl0ge1xuICAgIGNvbnN0IHBhaXIgPSB0aGlzLkxPQ0FUSU9OX1BBSVJTX01BUFtwb3NpdGlvbl07XG4gICAgaWYgKCFwYWlyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGxvY2F0aW9uIHBhaXIgZm91bmQgZm9yIHBvc2l0aW9uOiAke3Bvc2l0aW9ufWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBvc2l0aW9uIGZvciBhIGdpdmVuIGhhbmQgbG9jYXRpb24gcGFpclxuICAgKi9cbiAgZ2V0UG9zaXRpb25Gcm9tTG9jYXRpb25zKFxuICAgIGJsdWVMb2NhdGlvbjogTG9jYXRpb24sXG4gICAgcmVkTG9jYXRpb246IExvY2F0aW9uXG4gICk6IEdyaWRQb3NpdGlvbiB7XG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5sb2NhdGlvblRvU3RyaW5nKGJsdWVMb2NhdGlvbil9LCR7dGhpcy5sb2NhdGlvblRvU3RyaW5nKHJlZExvY2F0aW9uKX1gO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5QT1NJVElPTlNfTUFQW2tleV07XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTm8gcG9zaXRpb24gZm91bmQgZm9yIGxvY2F0aW9uczogJHtibHVlTG9jYXRpb259LCAke3JlZExvY2F0aW9ufWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGxvY2F0aW9uIGVudW0gdG8gQ1NWIHN0cmluZyBmb3JtYXRcbiAgICovXG4gIHByaXZhdGUgbG9jYXRpb25Ub1N0cmluZyhsb2NhdGlvbjogTG9jYXRpb24pOiBzdHJpbmcge1xuICAgIHN3aXRjaCAobG9jYXRpb24pIHtcbiAgICAgIGNhc2UgTG9jYXRpb24uTk9SVEg6XG4gICAgICAgIHJldHVybiBcIm5cIjtcbiAgICAgIGNhc2UgTG9jYXRpb24uTk9SVEhFQVNUOlxuICAgICAgICByZXR1cm4gXCJuZVwiO1xuICAgICAgY2FzZSBMb2NhdGlvbi5FQVNUOlxuICAgICAgICByZXR1cm4gXCJlXCI7XG4gICAgICBjYXNlIExvY2F0aW9uLlNPVVRIRUFTVDpcbiAgICAgICAgcmV0dXJuIFwic2VcIjtcbiAgICAgIGNhc2UgTG9jYXRpb24uU09VVEg6XG4gICAgICAgIHJldHVybiBcInNcIjtcbiAgICAgIGNhc2UgTG9jYXRpb24uU09VVEhXRVNUOlxuICAgICAgICByZXR1cm4gXCJzd1wiO1xuICAgICAgY2FzZSBMb2NhdGlvbi5XRVNUOlxuICAgICAgICByZXR1cm4gXCJ3XCI7XG4gICAgICBjYXNlIExvY2F0aW9uLk5PUlRIV0VTVDpcbiAgICAgICAgcmV0dXJuIFwibndcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBsb2NhdGlvbjogJHtsb2NhdGlvbn1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBDU1Ygc3RyaW5nIGZvcm1hdCB0byBsb2NhdGlvbiBlbnVtXG4gICAqL1xuICBzdHJpbmdUb0xvY2F0aW9uKHN0cjogc3RyaW5nKTogTG9jYXRpb24ge1xuICAgIHN3aXRjaCAoc3RyKSB7XG4gICAgICBjYXNlIFwiblwiOlxuICAgICAgICByZXR1cm4gTG9jYXRpb24uTk9SVEg7XG4gICAgICBjYXNlIFwibmVcIjpcbiAgICAgICAgcmV0dXJuIExvY2F0aW9uLk5PUlRIRUFTVDtcbiAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5FQVNUO1xuICAgICAgY2FzZSBcInNlXCI6XG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5TT1VUSEVBU1Q7XG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgICByZXR1cm4gTG9jYXRpb24uU09VVEg7XG4gICAgICBjYXNlIFwic3dcIjpcbiAgICAgICAgcmV0dXJuIExvY2F0aW9uLlNPVVRIV0VTVDtcbiAgICAgIGNhc2UgXCJ3XCI6XG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5XRVNUO1xuICAgICAgY2FzZSBcIm53XCI6XG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5OT1JUSFdFU1Q7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbG9jYXRpb24gc3RyaW5nOiAke3N0cn1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBDU1Ygc3RyaW5nIGZvcm1hdCB0byBtb3Rpb24gdHlwZSBlbnVtXG4gICAqL1xuICBzdHJpbmdUb01vdGlvblR5cGUoc3RyOiBzdHJpbmcpOiBNb3Rpb25UeXBlIHtcbiAgICBzd2l0Y2ggKHN0cikge1xuICAgICAgY2FzZSBcInByb1wiOlxuICAgICAgICByZXR1cm4gTW90aW9uVHlwZS5QUk87XG4gICAgICBjYXNlIFwiYW50aVwiOlxuICAgICAgICByZXR1cm4gTW90aW9uVHlwZS5BTlRJO1xuICAgICAgY2FzZSBcInN0YXRpY1wiOlxuICAgICAgICByZXR1cm4gTW90aW9uVHlwZS5TVEFUSUM7XG4gICAgICBjYXNlIFwiZGFzaFwiOlxuICAgICAgICByZXR1cm4gTW90aW9uVHlwZS5EQVNIO1xuICAgICAgY2FzZSBcImZsb2F0XCI6XG4gICAgICAgIHJldHVybiBNb3Rpb25UeXBlLkZMT0FUO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1vdGlvbiB0eXBlOiAke3N0cn1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBDU1Ygc3RyaW5nIGZvcm1hdCB0byByb3RhdGlvbiBkaXJlY3Rpb24gZW51bVxuICAgKi9cbiAgc3RyaW5nVG9Sb3RhdGlvbkRpcmVjdGlvbihzdHI6IHN0cmluZyk6IFJvdGF0aW9uRGlyZWN0aW9uIHtcbiAgICBzd2l0Y2ggKHN0cikge1xuICAgICAgY2FzZSBcImN3XCI6XG4gICAgICAgIHJldHVybiBSb3RhdGlvbkRpcmVjdGlvbi5DTE9DS1dJU0U7XG4gICAgICBjYXNlIFwiY2N3XCI6XG4gICAgICAgIHJldHVybiBSb3RhdGlvbkRpcmVjdGlvbi5DT1VOVEVSX0NMT0NLV0lTRTtcbiAgICAgIGNhc2UgXCJub1JvdGF0aW9uXCI6XG4gICAgICAgIHJldHVybiBSb3RhdGlvbkRpcmVjdGlvbi5OT19ST1RBVElPTjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biByb3RhdGlvbiBkaXJlY3Rpb246ICR7c3RyfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IENTViBzdHJpbmcgZm9ybWF0IHRvIHRpbWluZyBlbnVtXG4gICAqL1xuICBzdHJpbmdUb1RpbWluZyhzdHI6IHN0cmluZyk6IFRpbWluZyB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgIGNhc2UgXCJzcGxpdFwiOlxuICAgICAgICByZXR1cm4gVGltaW5nLlNQTElUO1xuICAgICAgY2FzZSBcInRvZ1wiOlxuICAgICAgICByZXR1cm4gVGltaW5nLlRPRztcbiAgICAgIGNhc2UgXCJxdWFydGVyXCI6XG4gICAgICAgIHJldHVybiBUaW1pbmcuUVVBUlRFUjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB0aW1pbmc6ICR7c3RyfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IENTViBzdHJpbmcgZm9ybWF0IHRvIGRpcmVjdGlvbiBlbnVtXG4gICAqL1xuICBzdHJpbmdUb0RpcmVjdGlvbihzdHI6IHN0cmluZyk6IERpcmVjdGlvbiB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgIGNhc2UgXCJzYW1lXCI6XG4gICAgICAgIHJldHVybiBEaXJlY3Rpb24uU0FNRTtcbiAgICAgIGNhc2UgXCJvcHBcIjpcbiAgICAgICAgcmV0dXJuIERpcmVjdGlvbi5PUFA7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZGlyZWN0aW9uOiAke3N0cn1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBDU1Ygc3RyaW5nIGZvcm1hdCB0byBncmlkIHBvc2l0aW9uIGVudW1cbiAgICovXG4gIHN0cmluZ1RvR3JpZFBvc2l0aW9uKHN0cjogc3RyaW5nKTogR3JpZFBvc2l0aW9uIHtcbiAgICAvLyBDb252ZXJ0IHN0cmluZyBsaWtlIFwiYWxwaGE0XCIgdG8gR3JpZFBvc2l0aW9uLkFMUEhBNFxuICAgIGNvbnN0IHVwcGVyU3RyID0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBHcmlkUG9zaXRpb25bdXBwZXJTdHIgYXMga2V5b2YgdHlwZW9mIEdyaWRQb3NpdGlvbl07XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGdyaWQgcG9zaXRpb246ICR7c3RyfWApO1xuICAgIH1cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICJBQU9BO0FBQUEsRUFDRTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsT0FDSztBQUVBLGFBQU0sdUJBQXVCO0FBQUE7QUFBQSxFQUVqQixnQkFBOEM7QUFBQTtBQUFBLElBRTdELE9BQU8sYUFBYTtBQUFBLElBQ3BCLFNBQVMsYUFBYTtBQUFBLElBQ3RCLE9BQU8sYUFBYTtBQUFBLElBQ3BCLFNBQVMsYUFBYTtBQUFBLElBQ3RCLE9BQU8sYUFBYTtBQUFBLElBQ3BCLFNBQVMsYUFBYTtBQUFBLElBQ3RCLE9BQU8sYUFBYTtBQUFBLElBQ3BCLFNBQVMsYUFBYTtBQUFBO0FBQUEsSUFHdEIsT0FBTyxhQUFhO0FBQUEsSUFDcEIsU0FBUyxhQUFhO0FB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
