import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/learn/QuestionGenerator.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=474c1bba";

QuestionGenerator[$.FILENAME] = 'src/lib/components/learn/QuestionGenerator.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=474c1bba";
import { QuestionGeneratorService } from "/src/lib/services/learn/QuestionGeneratorService.ts";
import { AnswerFormat } from "/src/lib/types/learn.ts";
import AnswerButton from "/src/lib/components/learn/AnswerButton.svelte";
import AnswerPictograph from "/src/lib/components/learn/AnswerPictograph.svelte";
import PictographRenderer from "/src/lib/components/learn/PictographRenderer.svelte";

function handleNextQuestion(
	_,
	selectedAnswerId,
	showFeedback,
	isAnswered,
	generateNewQuestion,
	$$props
) {
	selectedAnswerId(null);
	showFeedback(false);
	isAnswered(false);
	generateNewQuestion();
	$$props.onNextQuestion?.();
}

var root_4 = $.add_locations($.from_html(`<div class="letter-display s-YM9l8zsdcmk6"><span class="letter s-YM9l8zsdcmk6"> </span></div>`), QuestionGenerator[$.FILENAME], [[80, 10, [[81, 12]]]]);
var root_5 = $.add_locations($.from_html(`<div class="text-display s-YM9l8zsdcmk6"><p class="s-YM9l8zsdcmk6"> </p></div>`), QuestionGenerator[$.FILENAME], [[84, 10, [[85, 12]]]]);
var root_6 = $.add_locations($.from_html(`<div><!></div>`), QuestionGenerator[$.FILENAME], [[98, 10]]);
var root_11 = $.add_locations($.from_html(`<div class="feedback correct s-YM9l8zsdcmk6"><span class="icon s-YM9l8zsdcmk6">✓</span> <span class="message s-YM9l8zsdcmk6">Correct!</span></div>`), QuestionGenerator[$.FILENAME], [[127, 10, [[128, 12], [129, 12]]]]);
var root_12 = $.add_locations($.from_html(`<div class="feedback incorrect s-YM9l8zsdcmk6"><span class="icon s-YM9l8zsdcmk6">✗</span> <span class="message s-YM9l8zsdcmk6">Incorrect. The correct answer is highlighted.</span></div>`), QuestionGenerator[$.FILENAME], [[132, 10, [[133, 12], [134, 12]]]]);
var root_10 = $.add_locations($.from_html(`<div class="feedback-section s-YM9l8zsdcmk6"><!> <button class="next-button s-YM9l8zsdcmk6">Next Question</button></div>`), QuestionGenerator[$.FILENAME], [[125, 6, [[140, 8]]]]);
var root_1 = $.add_locations($.from_html(`<div class="question-section s-YM9l8zsdcmk6"><div class="question-prompt s-YM9l8zsdcmk6"><h3 class="s-YM9l8zsdcmk6"> </h3></div> <div class="question-content s-YM9l8zsdcmk6"><!></div></div> <div class="answer-section s-YM9l8zsdcmk6"><div></div></div> <!>`, 1), QuestionGenerator[$.FILENAME], [[66, 4, [[67, 6, [[68, 8]]], [73, 6]]], [92, 4, [[93, 6]]]]);
var root_13 = $.add_locations($.from_html(`<div class="loading s-YM9l8zsdcmk6"><p class="s-YM9l8zsdcmk6">Generating question...</p></div>`), QuestionGenerator[$.FILENAME], [[146, 4, [[147, 6]]]]);
var root = $.add_locations($.from_html(`<div class="question-generator s-YM9l8zsdcmk6"><!></div>`), QuestionGenerator[$.FILENAME], [[63, 0]]);

function QuestionGenerator($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, QuestionGenerator);

	let questionData = $.prop($$props, 'questionData', 7, null),
		showFeedback = $.prop($$props, 'showFeedback', 7, false),
		selectedAnswerId = $.prop($$props, 'selectedAnswerId', 7, null),
		isAnswered = $.prop($$props, 'isAnswered', 7, false);

	$.user_effect(() => {
		if ($$props.lessonType && !questionData()) {
			generateNewQuestion();
		}
	});

	function generateNewQuestion() {
		try {
			questionData(QuestionGeneratorService.generateQuestion($$props.lessonType));
		} catch(error) {
			console.error(...$.log_if_contains_state('error', "Failed to generate question:", error));
		}
	}

	function handleAnswerClick(option) {
		if (isAnswered()) return;

		selectedAnswerId(option.id);

		$$props.onAnswerSelected?.({
			answerId: option.id,
			answerContent: option.content,
			isCorrect: option.isCorrect
		});
	}

	function getAnswerClass(option) {
		if (!showFeedback()) {
			return $.strict_equals(selectedAnswerId(), option.id) ? "selected" : "";
		}

		if (option.isCorrect) {
			return "correct";
		} else if ($.strict_equals(selectedAnswerId(), option.id) && !option.isCorrect) {
			return "incorrect";
		}

		return "disabled";
	}

	var div = root();
	var node = $.child(div);

	{
		var consequent_6 = ($$anchor) => {
			var fragment = root_1();
			var div_1 = $.first_child(fragment);
			var div_2 = $.child(div_1);
			var h3 = $.child(div_2);
			var text = $.child(h3, true);

			$.reset(h3);
			$.reset(div_2);

			var div_3 = $.sibling(div_2, 2);
			var node_1 = $.child(div_3);

			{
				var consequent = ($$anchor) => {
					var fragment_1 = $.comment();
					var node_2 = $.first_child(fragment_1);

					$.add_svelte_meta(
						() => PictographRenderer(node_2, {
							get pictographData() {
								return questionData().questionContent;
							}
						}),
						'component',
						QuestionGenerator,
						75,
						10,
						{ componentTag: 'PictographRenderer' }
					);

					$.append($$anchor, fragment_1);
				};

				var alternate_1 = ($$anchor) => {
					var fragment_2 = $.comment();
					var node_3 = $.first_child(fragment_2);

					{
						var consequent_1 = ($$anchor) => {
							var div_4 = root_4();
							var span = $.child(div_4);
							var text_1 = $.child(span, true);

							$.reset(span);
							$.reset(div_4);
							$.template_effect(() => $.set_text(text_1, questionData().questionContent));
							$.append($$anchor, div_4);
						};

						var alternate = ($$anchor) => {
							var div_5 = root_5();
							var p = $.child(div_5);
							var text_2 = $.child(p, true);

							$.reset(p);
							$.reset(div_5);
							$.template_effect(() => $.set_text(text_2, questionData().questionContent));
							$.append($$anchor, div_5);
						};

						$.add_svelte_meta(
							() => $.if(
								node_3,
								($$render) => {
									if ($.strict_equals(questionData().questionType, "letter")) $$render(consequent_1); else $$render(alternate, false);
								},
								true
							),
							'if',
							QuestionGenerator,
							79,
							8
						);
					}

					$.append($$anchor, fragment_2);
				};

				$.add_svelte_meta(
					() => $.if(node_1, ($$render) => {
						if ($.strict_equals(questionData().questionType, "pictograph")) $$render(consequent); else $$render(alternate_1, false);
					}),
					'if',
					QuestionGenerator,
					74,
					8
				);
			}

			$.reset(div_3);
			$.reset(div_1);

			var div_6 = $.sibling(div_1, 2);
			var div_7 = $.child(div_6);
			let classes;

			$.validate_each_keys(() => questionData().answerOptions, (option) => option.id);

			$.add_svelte_meta(
				() => $.each(div_7, 21, () => questionData().answerOptions, (option) => option.id, ($$anchor, option) => {
					var div_8 = root_6();
					var node_4 = $.child(div_8);

					{
						var consequent_2 = ($$anchor) => {
							var fragment_3 = $.comment();
							var node_5 = $.first_child(fragment_3);

							{
								let $0 = $.derived(() => $.strict_equals(selectedAnswerId(), $.get(option).id));

								$.add_svelte_meta(
									() => AnswerButton(node_5, {
										get content() {
											return $.get(option).content;
										},

										get isSelected() {
											return $.get($0);
										},

										get isCorrect() {
											return $.get(option).isCorrect;
										},

										get showFeedback() {
											return showFeedback();
										},

										get disabled() {
											return isAnswered();
										},

										$$events: { click: () => handleAnswerClick($.get(option)) }
									}),
									'component',
									QuestionGenerator,
									100,
									14,
									{ componentTag: 'AnswerButton' }
								);
							}

							$.append($$anchor, fragment_3);
						};

						var alternate_2 = ($$anchor) => {
							var fragment_4 = $.comment();
							var node_6 = $.first_child(fragment_4);

							{
								var consequent_3 = ($$anchor) => {
									var fragment_5 = $.comment();
									var node_7 = $.first_child(fragment_5);

									{
										let $0 = $.derived(() => $.strict_equals(selectedAnswerId(), $.get(option).id));

										$.add_svelte_meta(
											() => AnswerPictograph(node_7, {
												get pictographData() {
													return $.get(option).content;
												},

												get isSelected() {
													return $.get($0);
												},

												get isCorrect() {
													return $.get(option).isCorrect;
												},

												get showFeedback() {
													return showFeedback();
												},

												get disabled() {
													return isAnswered();
												},

												$$events: { click: () => handleAnswerClick($.get(option)) }
											}),
											'component',
											QuestionGenerator,
											109,
											14,
											{ componentTag: 'AnswerPictograph' }
										);
									}

									$.append($$anchor, fragment_5);
								};

								$.add_svelte_meta(
									() => $.if(
										node_6,
										($$render) => {
											if ($.strict_equals(questionData().answerType, AnswerFormat.PICTOGRAPH)) $$render(consequent_3);
										},
										true
									),
									'if',
									QuestionGenerator,
									108,
									12
								);
							}

							$.append($$anchor, fragment_4);
						};

						$.add_svelte_meta(
							() => $.if(node_4, ($$render) => {
								if ($.strict_equals(questionData().answerType, AnswerFormat.BUTTON)) $$render(consequent_2); else $$render(alternate_2, false);
							}),
							'if',
							QuestionGenerator,
							99,
							12
						);
					}

					$.reset(div_8);
					$.template_effect(($0) => $.set_class(div_8, 1, `answer-option ${$0 ?? ''}`, 's-YM9l8zsdcmk6'), [() => getAnswerClass($.get(option))]);
					$.append($$anchor, div_8);
				}),
				'each',
				QuestionGenerator,
				97,
				8
			);

			$.reset(div_7);
			$.reset(div_6);

			var node_8 = $.sibling(div_6, 2);

			{
				var consequent_5 = ($$anchor) => {
					var div_9 = root_10();
					var node_9 = $.child(div_9);

					{
						var consequent_4 = ($$anchor) => {
							var div_10 = root_11();

							$.append($$anchor, div_10);
						};

						var alternate_3 = ($$anchor) => {
							var div_11 = root_12();

							$.append($$anchor, div_11);
						};

						$.add_svelte_meta(
							() => $.if(node_9, ($$render) => {
								if (questionData().answerOptions.find((opt) => $.strict_equals(opt.id, selectedAnswerId()))?.isCorrect) $$render(consequent_4); else $$render(alternate_3, false);
							}),
							'if',
							QuestionGenerator,
							126,
							8
						);
					}

					var button = $.sibling(node_9, 2);

					button.__click = [
						handleNextQuestion,
						selectedAnswerId,
						showFeedback,
						isAnswered,
						generateNewQuestion,
						$$props
					];

					$.reset(div_9);
					$.append($$anchor, div_9);
				};

				$.add_svelte_meta(
					() => $.if(node_8, ($$render) => {
						if (showFeedback() && isAnswered()) $$render(consequent_5);
					}),
					'if',
					QuestionGenerator,
					124,
					4
				);
			}

			$.template_effect(
				($0) => {
					$.set_text(text, questionData().questionPrompt || "Choose the correct answer:");
					classes = $.set_class(div_7, 1, 'answer-grid s-YM9l8zsdcmk6', null, classes, $0);
				},
				[
					() => ({
						'button-grid': $.strict_equals(questionData().answerType, AnswerFormat.BUTTON)
					})
				]
			);

			$.append($$anchor, fragment);
		};

		var alternate_4 = ($$anchor) => {
			var div_12 = root_13();

			$.append($$anchor, div_12);
		};

		$.add_svelte_meta(
			() => $.if(node, ($$render) => {
				if (questionData()) $$render(consequent_6); else $$render(alternate_4, false);
			}),
			'if',
			QuestionGenerator,
			64,
			2
		);
	}

	$.reset(div);
	$.append($$anchor, div);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	QuestionGenerator = $.hmr(QuestionGenerator, () => QuestionGenerator[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-YM9l8zsdcmk6');
		module.default[$.HMR].source = QuestionGenerator[$.HMR].source;
		$.set(QuestionGenerator[$.HMR].source, module.default[$.HMR].original);
	});
}

export default QuestionGenerator;

$.delegate(['click']);
import "/src/lib/components/learn/QuestionGenerator.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7U0FpQlMsZ0NBQWtCO1NBc0J2QixvQkFBZTtPQUVmLGtCQUFhO09BQ2I7T0FDQTs7U0FvRU07Ozs7Ozs7RUFBb0I7Q0FFOUIsaUJBQVk7Q0FDWixhQUFlO0NBQ2YsV0FBVztDQUdYOztBQUdBOzs7Ozs7Ozs7Ozs7OENBekhBLENBQUM7Ozs7S0FvRUssa0RBQWU7RUFDZixrREFBVztFQUNaO0VBQ0g7O0NBV0U7NkJBQ0Y7R0FFQTtFQUNFO0NBQ0U7O1VBSU87TUFDVDtHQUNFLGFBQU87RUFDVDtHQUVBLFFBQU87RUFDVDtDQUNBOztVQUVTLGtCQUFVLFFBQVU7TUFDeEI7O0VBRUgsaUJBQVksT0FBUzs7O0dBRXpCLFVBQVc7R0FDWCxlQUFZLE9BQWdCO0dBQzVCLFdBQVk7Ozs7VUFnQkQsZUFBSTtPQUNOLGdCQUFHOzBCQUNEO0VBQ1A7O01BRUksT0FBTyxXQUFXO1VBQ2pCO0VBQ1QsMkJBQU87VUFDTTtFQUNiOztTQUVVO0NBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztlQWdCMEIsWUFBVSxHQUNwQyxlQUE4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFJaEI7Ozs7Ozs7Ozs7O2tEQUlMLFlBQW1COzs7Ozs7Ozs2QkFOWjs7Ozs7Ozs7Ozs7Ozs7OzswQkFMaEIsWUFBMEIsR0FBUSxZQUFTOzs7Ozs7Ozs7Ozs7Ozs7OzhCQXVCNUIsWUFBVyxnQkFBWSxHQUFPLE1BQUcsV0FBVyxDQUFDLEVBQUU7OztrQ0FBL0MsWUFBVyxnQkFBWSxHQUFPLE1BQUcsV0FBVyxDQUFDLEVBQUUsYUFBakIsTUFBRzs7Ozs7Ozs7OztpREFLcEIsZ0JBQWdCLFVBQUM7Ozs7Ozs7Ozs7Ozs7d0JBQzlCOzs7Ozs7OztrQkFFSjs7O21DQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttREFLRjs7Ozs7MEJBREc7Ozs7Ozs7OzBCQUVKOzs7Ozs7OztvQkFFQzs7O3FDQUNnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7K0JBUEMsWUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFUVDs7Ozs7Ozs7Ozs0R0FESDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VBMEJSLFlBQWlCLE1BQUMsVUFBYTs7Ozs7Ozs7Ozs7c0JBdkRuQyxZQUFlOzs7OztxQ0EwQlUsWUFBYTs7Ozs7Ozs7Ozs7Ozs7OztRQS9CdEMsWUFBZ0I7Ozs7Ozs7Ozs7Ozs7Q0FIaEIiLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlF1ZXN0aW9uR2VuZXJhdG9yLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tXG5cdFF1ZXN0aW9uIEdlbmVyYXRvciBDb21wb25lbnRcblxuXHRHZW5lcmF0ZXMgYW5kIGRpc3BsYXlzIHF1aXogcXVlc3Rpb25zIGZvciBkaWZmZXJlbnQgbGVzc29uIHR5cGVzLlxuXHRIYW5kbGVzIHF1ZXN0aW9uIGNvbnRlbnQsIGFuc3dlciBvcHRpb25zLCBhbmQgdXNlciBpbnRlcmFjdGlvbnMuXG4tLT5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHR5cGUgeyBQaWN0b2dyYXBoRGF0YSB9IGZyb20gXCIkZG9tYWluL1BpY3RvZ3JhcGhEYXRhXCI7XG4gIGltcG9ydCB7IFF1ZXN0aW9uR2VuZXJhdG9yU2VydmljZSB9IGZyb20gXCIkbGliL3NlcnZpY2VzL2xlYXJuL1F1ZXN0aW9uR2VuZXJhdG9yU2VydmljZVwiO1xuICBpbXBvcnQgdHlwZSB7XG4gICAgQW5zd2VyT3B0aW9uLFxuICAgIExlc3NvblR5cGUsXG4gICAgUXVlc3Rpb25EYXRhLFxuICB9IGZyb20gXCIkbGliL3R5cGVzL2xlYXJuXCI7XG4gIGltcG9ydCB7IEFuc3dlckZvcm1hdCB9IGZyb20gXCIkbGliL3R5cGVzL2xlYXJuXCI7XG4gIC8vIEV2ZW50cyBhcmUgbm93IGhhbmRsZWQgdmlhIGNhbGxiYWNrcyBpbiBwcm9wc1xuICBpbXBvcnQgQW5zd2VyQnV0dG9uIGZyb20gXCIuL0Fuc3dlckJ1dHRvbi5zdmVsdGVcIjtcbiAgaW1wb3J0IEFuc3dlclBpY3RvZ3JhcGggZnJvbSBcIi4vQW5zd2VyUGljdG9ncmFwaC5zdmVsdGVcIjtcbiAgaW1wb3J0IFBpY3RvZ3JhcGhSZW5kZXJlciBmcm9tIFwiLi9QaWN0b2dyYXBoUmVuZGVyZXIuc3ZlbHRlXCI7XG5cbiAgLy8gUHJvcHNcbiAgaW50ZXJmYWNlIFByb3BzIHtcbiAgICBsZXNzb25UeXBlOiBMZXNzb25UeXBlO1xuICAgIHF1ZXN0aW9uRGF0YT86IFF1ZXN0aW9uRGF0YSB8IG51bGw7XG4gICAgc2hvd0ZlZWRiYWNrPzogYm9vbGVhbjtcbiAgICBzZWxlY3RlZEFuc3dlcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgICBpc0Fuc3dlcmVkPzogYm9vbGVhbjtcbiAgICBvbkFuc3dlclNlbGVjdGVkPzogKGRhdGE6IHtcbiAgICAgIGFuc3dlcklkOiBzdHJpbmc7XG4gICAgICBhbnN3ZXJDb250ZW50OiBQaWN0b2dyYXBoRGF0YTtcbiAgICAgIGlzQ29ycmVjdDogYm9vbGVhbjtcbiAgICB9KSA9PiB2b2lkO1xuICAgIG9uTmV4dFF1ZXN0aW9uPzogKCkgPT4gdm9pZDtcbiAgfVxuXG4gIGxldCB7XG4gICAgbGVzc29uVHlwZSxcbiAgICBxdWVzdGlvbkRhdGEgPSBudWxsLFxuICAgIHNob3dGZWVkYmFjayA9IGZhbHNlLFxuICAgIHNlbGVjdGVkQW5zd2VySWQgPSBudWxsLFxuICAgIGlzQW5zd2VyZWQgPSBmYWxzZSxcbiAgICBvbkFuc3dlclNlbGVjdGVkLFxuICAgIG9uTmV4dFF1ZXN0aW9uLFxuICB9OiBQcm9wcyA9ICRwcm9wcygpO1xuXG4gIC8vIFJlYWN0aXZlIGVmZmVjdCB0byBnZW5lcmF0ZSBxdWVzdGlvbiB3aGVuIG5lZWRlZFxuICAkZWZmZWN0KCgpID0+IHtcbiAgICBpZiAobGVzc29uVHlwZSAmJiAhcXVlc3Rpb25EYXRhKSB7XG4gICAgICBnZW5lcmF0ZU5ld1F1ZXN0aW9uKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBNZXRob2RzXG4gIGZ1bmN0aW9uIGdlbmVyYXRlTmV3UXVlc3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHF1ZXN0aW9uRGF0YSA9IFF1ZXN0aW9uR2VuZXJhdG9yU2VydmljZS5nZW5lcmF0ZVF1ZXN0aW9uKGxlc3NvblR5cGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHF1ZXN0aW9uOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQW5zd2VyQ2xpY2sob3B0aW9uOiBBbnN3ZXJPcHRpb24pIHtcbiAgICBpZiAoaXNBbnN3ZXJlZCkgcmV0dXJuO1xuXG4gICAgc2VsZWN0ZWRBbnN3ZXJJZCA9IG9wdGlvbi5pZDtcbiAgICBvbkFuc3dlclNlbGVjdGVkPy4oe1xuICAgICAgYW5zd2VySWQ6IG9wdGlvbi5pZCxcbiAgICAgIGFuc3dlckNvbnRlbnQ6IG9wdGlvbi5jb250ZW50IGFzIFBpY3RvZ3JhcGhEYXRhLFxuICAgICAgaXNDb3JyZWN0OiBvcHRpb24uaXNDb3JyZWN0LFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV4dFF1ZXN0aW9uKCkge1xuICAgIC8vIFJlc2V0IHN0YXRlXG4gICAgc2VsZWN0ZWRBbnN3ZXJJZCA9IG51bGw7XG4gICAgc2hvd0ZlZWRiYWNrID0gZmFsc2U7XG4gICAgaXNBbnN3ZXJlZCA9IGZhbHNlO1xuXG4gICAgLy8gR2VuZXJhdGUgbmV3IHF1ZXN0aW9uXG4gICAgZ2VuZXJhdGVOZXdRdWVzdGlvbigpO1xuXG4gICAgb25OZXh0UXVlc3Rpb24/LigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QW5zd2VyQ2xhc3Mob3B0aW9uOiBBbnN3ZXJPcHRpb24pOiBzdHJpbmcge1xuICAgIGlmICghc2hvd0ZlZWRiYWNrKSB7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRBbnN3ZXJJZCA9PT0gb3B0aW9uLmlkID8gXCJzZWxlY3RlZFwiIDogXCJcIjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9uLmlzQ29ycmVjdCkge1xuICAgICAgcmV0dXJuIFwiY29ycmVjdFwiO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRBbnN3ZXJJZCA9PT0gb3B0aW9uLmlkICYmICFvcHRpb24uaXNDb3JyZWN0KSB7XG4gICAgICByZXR1cm4gXCJpbmNvcnJlY3RcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWdlbmVyYXRvclwiPlxuICB7I2lmIHF1ZXN0aW9uRGF0YX1cbiAgICA8IS0tIFF1ZXN0aW9uIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLXNlY3Rpb25cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wcm9tcHRcIj5cbiAgICAgICAgPGgzPlxuICAgICAgICAgIHsocXVlc3Rpb25EYXRhIGFzIGFueSkucXVlc3Rpb25Qcm9tcHQgfHwgXCJDaG9vc2UgdGhlIGNvcnJlY3QgYW5zd2VyOlwifVxuICAgICAgICA8L2gzPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1jb250ZW50XCI+XG4gICAgICAgIHsjaWYgKHF1ZXN0aW9uRGF0YSBhcyBhbnkpLnF1ZXN0aW9uVHlwZSA9PT0gXCJwaWN0b2dyYXBoXCJ9XG4gICAgICAgICAgPFBpY3RvZ3JhcGhSZW5kZXJlclxuICAgICAgICAgICAgcGljdG9ncmFwaERhdGE9eyhxdWVzdGlvbkRhdGEgYXMgYW55KVxuICAgICAgICAgICAgICAucXVlc3Rpb25Db250ZW50IGFzIFBpY3RvZ3JhcGhEYXRhfVxuICAgICAgICAgIC8+XG4gICAgICAgIHs6ZWxzZSBpZiAocXVlc3Rpb25EYXRhIGFzIGFueSkucXVlc3Rpb25UeXBlID09PSBcImxldHRlclwifVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXR0ZXItZGlzcGxheVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZXR0ZXJcIj57KHF1ZXN0aW9uRGF0YSBhcyBhbnkpLnF1ZXN0aW9uQ29udGVudH08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1kaXNwbGF5XCI+XG4gICAgICAgICAgICA8cD57cXVlc3Rpb25EYXRhLnF1ZXN0aW9uQ29udGVudH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQW5zd2VyIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImFuc3dlci1zZWN0aW9uXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiYW5zd2VyLWdyaWRcIlxuICAgICAgICBjbGFzczpidXR0b24tZ3JpZD17cXVlc3Rpb25EYXRhLmFuc3dlclR5cGUgPT09IEFuc3dlckZvcm1hdC5CVVRUT059XG4gICAgICA+XG4gICAgICAgIHsjZWFjaCBxdWVzdGlvbkRhdGEuYW5zd2VyT3B0aW9ucyBhcyBvcHRpb24gKG9wdGlvbi5pZCl9XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFuc3dlci1vcHRpb24ge2dldEFuc3dlckNsYXNzKG9wdGlvbil9XCI+XG4gICAgICAgICAgICB7I2lmIChxdWVzdGlvbkRhdGEgYXMgYW55KS5hbnN3ZXJUeXBlID09PSBBbnN3ZXJGb3JtYXQuQlVUVE9OfVxuICAgICAgICAgICAgICA8QW5zd2VyQnV0dG9uXG4gICAgICAgICAgICAgICAgY29udGVudD17b3B0aW9uLmNvbnRlbnQgYXMgc3RyaW5nfVxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3NlbGVjdGVkQW5zd2VySWQgPT09IG9wdGlvbi5pZH1cbiAgICAgICAgICAgICAgICBpc0NvcnJlY3Q9e29wdGlvbi5pc0NvcnJlY3R9XG4gICAgICAgICAgICAgICAge3Nob3dGZWVkYmFja31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNBbnN3ZXJlZH1cbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyQ2xpY2sob3B0aW9uKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHs6ZWxzZSBpZiAocXVlc3Rpb25EYXRhIGFzIGFueSkuYW5zd2VyVHlwZSA9PT0gQW5zd2VyRm9ybWF0LlBJQ1RPR1JBUEh9XG4gICAgICAgICAgICAgIDxBbnN3ZXJQaWN0b2dyYXBoXG4gICAgICAgICAgICAgICAgcGljdG9ncmFwaERhdGE9e29wdGlvbi5jb250ZW50IGFzIFBpY3RvZ3JhcGhEYXRhfVxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3NlbGVjdGVkQW5zd2VySWQgPT09IG9wdGlvbi5pZH1cbiAgICAgICAgICAgICAgICBpc0NvcnJlY3Q9e29wdGlvbi5pc0NvcnJlY3R9XG4gICAgICAgICAgICAgICAge3Nob3dGZWVkYmFja31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNBbnN3ZXJlZH1cbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyQ2xpY2sob3B0aW9uKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvZWFjaH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBGZWVkYmFjayBTZWN0aW9uIC0tPlxuICAgIHsjaWYgc2hvd0ZlZWRiYWNrICYmIGlzQW5zd2VyZWR9XG4gICAgICA8ZGl2IGNsYXNzPVwiZmVlZGJhY2stc2VjdGlvblwiPlxuICAgICAgICB7I2lmIHF1ZXN0aW9uRGF0YS5hbnN3ZXJPcHRpb25zLmZpbmQoKG9wdCkgPT4gb3B0LmlkID09PSBzZWxlY3RlZEFuc3dlcklkKT8uaXNDb3JyZWN0fVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmZWVkYmFjayBjb3JyZWN0XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25cIj7inJM8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1lc3NhZ2VcIj5Db3JyZWN0ITwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgezplbHNlfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmZWVkYmFjayBpbmNvcnJlY3RcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvblwiPuKclzwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWVzc2FnZVwiXG4gICAgICAgICAgICAgID5JbmNvcnJlY3QuIFRoZSBjb3JyZWN0IGFuc3dlciBpcyBoaWdobGlnaHRlZC48L3NwYW5cbiAgICAgICAgICAgID5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgey9pZn1cblxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwibmV4dC1idXR0b25cIiBvbmNsaWNrPXtoYW5kbGVOZXh0UXVlc3Rpb259PlxuICAgICAgICAgIE5leHQgUXVlc3Rpb25cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuICB7OmVsc2V9XG4gICAgPGRpdiBjbGFzcz1cImxvYWRpbmdcIj5cbiAgICAgIDxwPkdlbmVyYXRpbmcgcXVlc3Rpb24uLi48L3A+XG4gICAgPC9kaXY+XG4gIHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAucXVlc3Rpb24tZ2VuZXJhdG9yIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAycmVtO1xuICAgIHBhZGRpbmc6IDEuNXJlbTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIH1cblxuICAucXVlc3Rpb24tc2VjdGlvbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMXJlbTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAucXVlc3Rpb24tcHJvbXB0IGgzIHtcbiAgICBtYXJnaW46IDA7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgZm9udC1zaXplOiAxLjI1cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICAucXVlc3Rpb24tY29udGVudCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1pbi1oZWlnaHQ6IDEyMHB4O1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAzKTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICB9XG5cbiAgLmxldHRlci1kaXNwbGF5IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICAubGV0dGVyIHtcbiAgICBmb250LXNpemU6IDRyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgdGV4dC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIH1cblxuICAudGV4dC1kaXNwbGF5IHAge1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LXNpemU6IDEuMTI1cmVtO1xuICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIH1cblxuICAuYW5zd2VyLXNlY3Rpb24ge1xuICAgIGZsZXg6IDE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLmFuc3dlci1ncmlkIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdhcDogMXJlbTtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5hbnN3ZXItZ3JpZC5idXR0b24tZ3JpZCB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgfVxuXG4gIC5hbnN3ZXItb3B0aW9uIHtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICB9XG5cbiAgLmFuc3dlci1vcHRpb24uc2VsZWN0ZWQge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wMik7XG4gIH1cblxuICAuYW5zd2VyLW9wdGlvbi5jb3JyZWN0IHtcbiAgICBhbmltYXRpb246IGNvcnJlY3RQdWxzZSAwLjZzIGVhc2UtaW4tb3V0O1xuICB9XG5cbiAgLmFuc3dlci1vcHRpb24uaW5jb3JyZWN0IHtcbiAgICBhbmltYXRpb246IGluY29ycmVjdFNoYWtlIDAuNnMgZWFzZS1pbi1vdXQ7XG4gIH1cblxuICAuYW5zd2VyLW9wdGlvbi5kaXNhYmxlZCB7XG4gICAgb3BhY2l0eTogMC42O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgLmZlZWRiYWNrLXNlY3Rpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMXJlbTtcbiAgICBwYWRkaW5nOiAxcmVtO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgfVxuXG4gIC5mZWVkYmFjayB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMC41cmVtO1xuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuXG4gIC5mZWVkYmFjay5jb3JyZWN0IHtcbiAgICBjb2xvcjogIzRhZGU4MDtcbiAgfVxuXG4gIC5mZWVkYmFjay5pbmNvcnJlY3Qge1xuICAgIGNvbG9yOiAjZjg3MTcxO1xuICB9XG5cbiAgLmZlZWRiYWNrIC5pY29uIHtcbiAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgfVxuXG4gIC5uZXh0LWJ1dHRvbiB7XG4gICAgcGFkZGluZzogMC43NXJlbSAycmVtO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gIH1cblxuICAubmV4dC1idXR0b246aG92ZXIge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KTtcbiAgfVxuXG4gIC5sb2FkaW5nIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBmb250LXNpemU6IDEuMTI1cmVtO1xuICB9XG5cbiAgQGtleWZyYW1lcyBjb3JyZWN0UHVsc2Uge1xuICAgIDAlLFxuICAgIDEwMCUge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgICB9XG4gICAgNTAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gICAgfVxuICB9XG5cbiAgQGtleWZyYW1lcyBpbmNvcnJlY3RTaGFrZSB7XG4gICAgMCUsXG4gICAgMTAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7XG4gICAgfVxuICAgIDI1JSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7XG4gICAgfVxuICAgIDc1JSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTtcbiAgICB9XG4gIH1cblxuICAvKiBSZXNwb25zaXZlIERlc2lnbiAqL1xuICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAucXVlc3Rpb24tZ2VuZXJhdG9yIHtcbiAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICBnYXA6IDEuNXJlbTtcbiAgICB9XG5cbiAgICAuYW5zd2VyLWdyaWQge1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgfVxuXG4gICAgLmxldHRlciB7XG4gICAgICBmb250LXNpemU6IDNyZW07XG4gICAgfVxuXG4gICAgLnF1ZXN0aW9uLXByb21wdCBoMyB7XG4gICAgICBmb250LXNpemU6IDEuMTI1cmVtO1xuICAgIH1cbiAgfVxuPC9zdHlsZT5cbiJdLCJmaWxlIjoiQzovVEtBL3dlYi9zcmMvbGliL2NvbXBvbmVudHMvbGVhcm4vUXVlc3Rpb25HZW5lcmF0b3Iuc3ZlbHRlIn0=