import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/construct/RightPanel.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=474c1bba";

RightPanel[$.FILENAME] = 'src/lib/components/construct/RightPanel.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=474c1bba";
import ExportPanel from "/src/lib/components/export/ExportPanel.svelte?t=1755802757361";
import GraphEditor from "/src/lib/components/graph-editor/GraphEditor.svelte?t=1755802757361";
import { MotionColor } from "/src/lib/domain/enums.ts";
import { constructTabEventService } from "/src/lib/services/implementations/construct/ConstructTabEventService.ts?t=1755802757361";
import BuildTabContent from "/src/lib/components/construct/BuildTabContent.svelte?t=1755802757361";
import GeneratePanel from "/src/lib/components/construct/generate/GeneratePanel.svelte?t=1755802757361";
import ConstructTabNavigation from "/src/lib/components/construct/ConstructTabNavigation.svelte";
import { getAnimationSettings } from "/src/lib/utils/animation-control.ts";
import { shouldAnimate } from "/src/lib/utils/simple-fade.ts";
import { fade } from "/node_modules/.vite/deps/svelte_transition.js?v=474c1bba";

var root_6 = $.add_locations($.from_html(`<div class="panel-header s-YaWRDL77fXRg"><h2 class="s-YaWRDL77fXRg">Graph Editor</h2> <p class="s-YaWRDL77fXRg">Advanced sequence editing tools</p></div> <div class="panel-content graph-editor-content s-YaWRDL77fXRg"><!></div>`, 1), RightPanel[$.FILENAME], [[91, 10, [[92, 12], [93, 12]]], [95, 10]]);
var root_1 = $.add_locations($.from_html(`<div class="sub-tab-content s-YaWRDL77fXRg"><!></div>`), RightPanel[$.FILENAME], [[81, 6]]);
var root_9 = $.add_locations($.from_html(`<div class="sub-tab-transition-debug s-YaWRDL77fXRg">ðŸŽ¨ Sub-tab transitioning...</div>`), RightPanel[$.FILENAME], [[118, 6]]);
var root = $.add_locations($.from_html(`<div class="right-panel s-YaWRDL77fXRg" data-testid="right-panel"><!> <div class="tab-content s-YaWRDL77fXRg"><!> <!></div></div>`), RightPanel[$.FILENAME], [[71, 0, [[79, 2]]]]);

function RightPanel($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, RightPanel);

	let activeRightPanel = $.tag($.derived(() => $$props.constructTabState.activeRightPanel), 'activeRightPanel');
	let isSubTabTransitionActive = $.tag($.derived(() => $$props.constructTabState.isSubTabTransitionActive), 'isSubTabTransitionActive');
	let animationSettings = $.tag($.derived(getAnimationSettings), 'animationSettings');
	const OUT_DURATION = 250;
	const IN_DURATION = 250;
	const IN_DELAY = OUT_DURATION;
	let fadeOutParams = $.tag($.derived(() => shouldAnimate($.get(animationSettings)) ? { duration: OUT_DURATION } : { duration: 0 }), 'fadeOutParams');

	let fadeInParams = $.tag(
		$.derived(() => shouldAnimate($.get(animationSettings))
			? { duration: IN_DURATION, delay: IN_DELAY }
			: { duration: 0 }),
		'fadeInParams'
	);

	function handleBeatModified(beatIndex, beatData) {
		constructTabEventService().handleBeatModified(beatIndex, beatData);
	}

	function handleArrowSelected(arrowData) {
		const fullArrowData = {
			id: `arrow_${Date.now()}`,

			// Only arrow-specific properties - motion data should be handled separately
			arrowLocation: null,

			// Will be calculated by positioning system
			positionX: 0,

			positionY: 0,
			rotationAngle: 0,
			coordinates: null,
			svgCenter: null,
			svgMirrored: false,
			isVisible: true,
			isSelected: false
		};

		constructTabEventService().handleArrowSelected(fullArrowData);
	}

	function handleGraphEditorVisibilityChanged(isVisible) {
		console.log(...$.log_if_contains_state('log', "Graph editor visibility changed:", isVisible));
	}

	function handleExportSettingChanged(data) {
		const event = new CustomEvent("settingChanged", { detail: data });

		constructTabEventService().handleExportSettingChanged(event);
	}

	function handlePreviewUpdateRequested(settings) {
		const event = new CustomEvent("previewUpdateRequested", { detail: settings });

		constructTabEventService().handlePreviewUpdateRequested(event);
	}

	function handleExportRequested(data) {
		const event = new CustomEvent("exportRequested", { detail: data });

		constructTabEventService().handleExportRequested(event);
	}

	var div = root();
	var node = $.child(div);

	$.add_svelte_meta(
		() => ConstructTabNavigation(node, {
			get activeRightPanel() {
				return $.get(activeRightPanel);
			},

			get setActiveRightPanel() {
				return $$props.constructTabState.setActiveRightPanel;
			}
		}),
		'component',
		RightPanel,
		73,
		2,
		{ componentTag: 'ConstructTabNavigation' }
	);

	var div_1 = $.sibling(node, 2);
	var node_1 = $.child(div_1);

	$.add_svelte_meta(
		() => $.key(node_1, () => $.get(activeRightPanel), ($$anchor) => {
			var div_2 = root_1();
			var node_2 = $.child(div_2);

			{
				var consequent = ($$anchor) => {
					var fragment = $.comment();
					var node_3 = $.first_child(fragment);

					$.add_svelte_meta(() => BuildTabContent(node_3, {}), 'component', RightPanel, 87, 10, { componentTag: 'BuildTabContent' });
					$.append($$anchor, fragment);
				};

				var alternate_2 = ($$anchor) => {
					var fragment_1 = $.comment();
					var node_4 = $.first_child(fragment_1);

					{
						var consequent_1 = ($$anchor) => {
							var fragment_2 = $.comment();
							var node_5 = $.first_child(fragment_2);

							$.add_svelte_meta(() => GeneratePanel(node_5, {}), 'component', RightPanel, 89, 10, { componentTag: 'GeneratePanel' });
							$.append($$anchor, fragment_2);
						};

						var alternate_1 = ($$anchor) => {
							var fragment_3 = $.comment();
							var node_6 = $.first_child(fragment_3);

							{
								var consequent_2 = ($$anchor) => {
									var fragment_4 = root_6();
									var div_3 = $.sibling($.first_child(fragment_4), 2);
									var node_7 = $.child(div_3);

									$.add_svelte_meta(
										() => GraphEditor(node_7, {
											get currentSequence() {
												return $$props.constructTabState.currentSequence;
											},

											get selectedBeatIndex() {
												return $$props.constructTabState.selectedBeatIndex;
											},

											get selectedBeatData() {
												return $$props.constructTabState.selectedBeatData;
											},

											onBeatModified: handleBeatModified,
											onArrowSelected: handleArrowSelected,
											onVisibilityChanged: handleGraphEditorVisibilityChanged
										}),
										'component',
										RightPanel,
										96,
										12,
										{ componentTag: 'GraphEditor' }
									);

									$.reset(div_3);
									$.append($$anchor, fragment_4);
								};

								var alternate = ($$anchor) => {
									var fragment_5 = $.comment();
									var node_8 = $.first_child(fragment_5);

									{
										var consequent_3 = ($$anchor) => {
											var fragment_6 = $.comment();
											var node_9 = $.first_child(fragment_6);

											$.add_svelte_meta(
												() => ExportPanel(node_9, {
													get currentSequence() {
														return $$props.constructTabState.currentSequence;
													},

													onsettingchanged: handleExportSettingChanged,
													onpreviewupdaterequested: handlePreviewUpdateRequested,
													onexportrequested: handleExportRequested
												}),
												'component',
												RightPanel,
												106,
												10,
												{ componentTag: 'ExportPanel' }
											);

											$.append($$anchor, fragment_6);
										};

										$.add_svelte_meta(
											() => $.if(
												node_8,
												($$render) => {
													if ($.strict_equals($.get(activeRightPanel), "export")) $$render(consequent_3);
												},
												true
											),
											'if',
											RightPanel,
											105,
											8
										);
									}

									$.append($$anchor, fragment_5);
								};

								$.add_svelte_meta(
									() => $.if(
										node_6,
										($$render) => {
											if ($.strict_equals($.get(activeRightPanel), "edit")) $$render(consequent_2); else $$render(alternate, false);
										},
										true
									),
									'if',
									RightPanel,
									90,
									8
								);
							}

							$.append($$anchor, fragment_3);
						};

						$.add_svelte_meta(
							() => $.if(
								node_4,
								($$render) => {
									if ($.strict_equals($.get(activeRightPanel), "generate")) $$render(consequent_1); else $$render(alternate_1, false);
								},
								true
							),
							'if',
							RightPanel,
							88,
							8
						);
					}

					$.append($$anchor, fragment_1);
				};

				$.add_svelte_meta(
					() => $.if(node_2, ($$render) => {
						if ($.strict_equals($.get(activeRightPanel), "build")) $$render(consequent); else $$render(alternate_2, false);
					}),
					'if',
					RightPanel,
					86,
					8
				);
			}

			$.reset(div_2);
			$.transition(1, div_2, () => fade, () => $.get(fadeInParams));
			$.transition(2, div_2, () => fade, () => $.get(fadeOutParams));
			$.append($$anchor, div_2);
		}),
		'key',
		RightPanel,
		80,
		4
	);

	var node_10 = $.sibling(node_1, 2);

	{
		var consequent_4 = ($$anchor) => {
			var div_4 = root_9();

			$.append($$anchor, div_4);
		};

		$.add_svelte_meta(
			() => $.if(node_10, ($$render) => {
				if ($.get(isSubTabTransitionActive)) $$render(consequent_4);
			}),
			'if',
			RightPanel,
			117,
			4
		);
	}

	$.reset(div_1);
	$.reset(div);
	$.append($$anchor, div);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	RightPanel = $.hmr(RightPanel, () => RightPanel[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-YaWRDL77fXRg');
		module.default[$.HMR].source = RightPanel[$.HMR].source;
		$.set(RightPanel[$.HMR].source, module.default[$.HMR].original);
	});
}

export default RightPanel;
import "/src/lib/components/construct/RightPanel.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7T0FRUyxpQkFBaUI7T0FFZjtTQUlGLG1CQUFxQjtTQUNyQixnQ0FBbUI7T0FLakIscUJBQXFCO09BQ3JCLG1CQUFZO09BZWIsNEJBQW9DO1NBSzFDLDRCQUFrQjtTQUNwQjtTQUNJOzs7Ozs7O3VDQTNDTixDQUFDOzs7O0tBNkVvQjtLQUNmLDJFQUNXO0tBRVgsb0NBQWE7T0FHYixlQUFXO09BQ1gsY0FBWTtPQUNkO0tBSUYsc0NBRUUsb0JBQVksd0JBQ2QsNkJBRVM7O0tBRVA7a0JBQ0Y7T0FFUyw4QkFBNkI7T0FDOUIsVUFBWTs7OztVQUlwQjtFQUVBLDJCQUErQixtQkFBcUM7Q0FDbEU7O1VBRUYsK0JBS0M7UUFFQztHQUNEOzs7R0FFRyxlQUFhOzs7R0FDYixXQUFXOztHQUNYLFdBQUk7R0FDSixlQUFDO0dBQ1AsYUFBbUI7R0FDbkIsV0FBaUI7R0FDakIsYUFBa0I7R0FDWjtHQUNOLFlBQWE7OztFQUViLDJCQUFrQixvQkFBK0I7Q0FDakQ7O1VBRVcsbUNBQXdCO0VBRW5DLFFBQVksc0NBQUcsb0NBQWtDO0NBQ2pEOztVQUVBLDJCQUFhO1FBQ2IsWUFBYyxZQUFpQixvQkFBa0I7O0VBQ2pELDJCQUErQiwyQkFBb0I7Q0FDbkQ7O1VBRUEsNkJBQStCLFVBQW1CO1FBQ2xELFlBQWMsWUFBb0IsNEJBQ2xDLFFBQWE7O0VBRWIsMkJBQWtCLDZCQUE2QjtDQUMvQzs7VUFFQSxzQkFBOEIsTUFBMEI7UUFDeEQsWUFBWSxpQ0FBMEI7O0VBQ3RDLDJCQUErQixzQkFBcUI7Q0FDcEQ7Ozs7Ozs7Ozs7OztxQ0FPMkMsbUJBQVk7Ozs7Ozs7Ozs7Ozs7O2tDQUtqRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZDQWlCb0I7Ozs7NkNBQ047Ozs7NkNBQ0U7OzsyQkFDcEI7O2dDQUVpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQ0FLRzs7OytCQUNaO3VDQUNDO2dDQUNDOzs7Ozs7Ozs7Ozs7Ozs7O3VDQUxNLGdCQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7cUNBZlIsZ0JBQWdCLEdBQUssTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7O21DQUY3QixnQkFBZ0IsR0FBSyxVQUFTOzs7Ozs7Ozs7Ozs7Ozs7O2dDQUYxQyxnQkFBeUIsR0FBSyxPQUFPOzs7Ozs7Ozs7O2tEQUh4QjtrREFDQyxhQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztjQWlDeEI7Ozs7Ozs7Ozs7Ozs7O0NBaERGIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJSaWdodFBhbmVsLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tXG5cdFJpZ2h0UGFuZWwuc3ZlbHRlXG5cblx0UmlnaHQgcGFuZWwgY29tcG9uZW50IGV4dHJhY3RlZCBmcm9tIENvbnN0cnVjdFRhYi5cblx0Q29udGFpbnMgdGhlIDQtdGFiIGludGVyZmFjZSB3aXRoIG5hdmlnYXRpb24gYW5kIGNvbnRlbnQgYXJlYXMuXG4tLT5cbjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCBFeHBvcnRQYW5lbCBmcm9tIFwiJGNvbXBvbmVudHMvZXhwb3J0L0V4cG9ydFBhbmVsLnN2ZWx0ZVwiO1xuICBpbXBvcnQgR3JhcGhFZGl0b3IgZnJvbSBcIiRjb21wb25lbnRzL2dyYXBoLWVkaXRvci9HcmFwaEVkaXRvci5zdmVsdGVcIjtcbiAgaW1wb3J0IHR5cGUgeyBBcnJvd0RhdGEgfSBmcm9tIFwiJGxpYi9kb21haW4vQXJyb3dEYXRhXCI7XG4gIGltcG9ydCB7IE1vdGlvbkNvbG9yIH0gZnJvbSBcIiRsaWIvZG9tYWluL2VudW1zXCI7XG4gIGltcG9ydCB7IGNvbnN0cnVjdFRhYkV2ZW50U2VydmljZSB9IGZyb20gXCIkc2VydmljZXMvaW1wbGVtZW50YXRpb25zL2NvbnN0cnVjdC9Db25zdHJ1Y3RUYWJFdmVudFNlcnZpY2VcIjtcbiAgaW1wb3J0IHR5cGUgeyBBY3RpdmVSaWdodFBhbmVsIH0gZnJvbSBcIiRsaWIvc3RhdGUvY29uc3RydWN0LXRhYi1zdGF0ZS5zdmVsdGVcIjtcbiAgaW1wb3J0IHR5cGUgeyBTZXF1ZW5jZURhdGEgfSBmcm9tIFwiJGxpYi9kb21haW5cIjtcbiAgaW1wb3J0IEJ1aWxkVGFiQ29udGVudCBmcm9tIFwiLi9CdWlsZFRhYkNvbnRlbnQuc3ZlbHRlXCI7XG4gIGltcG9ydCBHZW5lcmF0ZVBhbmVsIGZyb20gXCIuL2dlbmVyYXRlL0dlbmVyYXRlUGFuZWwuc3ZlbHRlXCI7XG4gIGltcG9ydCBDb25zdHJ1Y3RUYWJOYXZpZ2F0aW9uIGZyb20gXCIuL0NvbnN0cnVjdFRhYk5hdmlnYXRpb24uc3ZlbHRlXCI7XG4gIC8vIEltcG9ydCBTdmVsdGUncyBidWlsdC1pbiBmYWRlIHRyYW5zaXRpb24gZm9yIGNvbnNpc3RlbmN5IHdpdGggbWFpbiB0YWJzXG4gIGltcG9ydCB0eXBlIHsgQmVhdERhdGEgfSBmcm9tIFwiJGxpYi9kb21haW5cIjtcbiAgaW1wb3J0IHsgZ2V0QW5pbWF0aW9uU2V0dGluZ3MgfSBmcm9tIFwiJGxpYi91dGlscy9hbmltYXRpb24tY29udHJvbFwiO1xuICBpbXBvcnQgeyBzaG91bGRBbmltYXRlIH0gZnJvbSBcIiRsaWIvdXRpbHMvc2ltcGxlLWZhZGVcIjtcbiAgaW1wb3J0IHsgZmFkZSB9IGZyb20gXCJzdmVsdGUvdHJhbnNpdGlvblwiO1xuXG4gIC8vIFByb3BzIGZyb20gcGFyZW50IENvbnN0cnVjdFRhYlxuICBpbnRlcmZhY2UgUHJvcHMge1xuICAgIGNvbnN0cnVjdFRhYlN0YXRlOiB7XG4gICAgICBhY3RpdmVSaWdodFBhbmVsOiBBY3RpdmVSaWdodFBhbmVsO1xuICAgICAgaXNTdWJUYWJUcmFuc2l0aW9uQWN0aXZlOiBib29sZWFuO1xuICAgICAgc2V0QWN0aXZlUmlnaHRQYW5lbDogKHRhYjogQWN0aXZlUmlnaHRQYW5lbCkgPT4gdm9pZDtcbiAgICAgIC8vIFNlcXVlbmNlIHN0YXRlIGZvciBHcmFwaEVkaXRvclxuICAgICAgY3VycmVudFNlcXVlbmNlOiBTZXF1ZW5jZURhdGEgfCBudWxsO1xuICAgICAgc2VsZWN0ZWRCZWF0SW5kZXg6IG51bWJlciB8IG51bGw7XG4gICAgICBzZWxlY3RlZEJlYXREYXRhOiBCZWF0RGF0YSB8IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHsgY29uc3RydWN0VGFiU3RhdGUgfTogUHJvcHMgPSAkcHJvcHMoKTtcblxuICAvLyBSZWFjdGl2ZSBzdGF0ZSBmcm9tIHByb3BzXG4gIGxldCBhY3RpdmVSaWdodFBhbmVsID0gJGRlcml2ZWQoY29uc3RydWN0VGFiU3RhdGUuYWN0aXZlUmlnaHRQYW5lbCk7XG4gIGxldCBpc1N1YlRhYlRyYW5zaXRpb25BY3RpdmUgPSAkZGVyaXZlZChcbiAgICBjb25zdHJ1Y3RUYWJTdGF0ZS5pc1N1YlRhYlRyYW5zaXRpb25BY3RpdmVcbiAgKTtcbiAgbGV0IGFuaW1hdGlvblNldHRpbmdzID0gJGRlcml2ZWQoZ2V0QW5pbWF0aW9uU2V0dGluZ3MoKSk7XG5cbiAgLy8gU2VxdWVudGlhbCBmYWRlIHRpbWluZyAtIHNhbWUgYXMgbWFpbiB0YWJzIGZvciBjb25zaXN0ZW5jeVxuICBjb25zdCBPVVRfRFVSQVRJT04gPSAyNTA7XG4gIGNvbnN0IElOX0RVUkFUSU9OID0gMjUwO1xuICBjb25zdCBJTl9ERUxBWSA9IE9VVF9EVVJBVElPTjsgLy8gV2FpdCBmb3Igb3V0IHRyYW5zaXRpb24gdG8gY29tcGxldGVcblxuICAvLyBUcmFuc2l0aW9uIHBhcmFtZXRlcnMgdXNpbmcgcnVuZXNcbiAgbGV0IGZhZGVPdXRQYXJhbXMgPSAkZGVyaXZlZChcbiAgICBzaG91bGRBbmltYXRlKGFuaW1hdGlvblNldHRpbmdzKVxuICAgICAgPyB7IGR1cmF0aW9uOiBPVVRfRFVSQVRJT04gfVxuICAgICAgOiB7IGR1cmF0aW9uOiAwIH1cbiAgKTtcbiAgbGV0IGZhZGVJblBhcmFtcyA9ICRkZXJpdmVkKFxuICAgIHNob3VsZEFuaW1hdGUoYW5pbWF0aW9uU2V0dGluZ3MpXG4gICAgICA/IHsgZHVyYXRpb246IElOX0RVUkFUSU9OLCBkZWxheTogSU5fREVMQVkgfVxuICAgICAgOiB7IGR1cmF0aW9uOiAwIH1cbiAgKTtcblxuICAvLyBFdmVudCBoYW5kbGVycyBmb3IgY2hpbGQgY29tcG9uZW50c1xuICBmdW5jdGlvbiBoYW5kbGVCZWF0TW9kaWZpZWQoYmVhdEluZGV4OiBudW1iZXIsIGJlYXREYXRhOiBCZWF0RGF0YSkge1xuICAgIGNvbnN0cnVjdFRhYkV2ZW50U2VydmljZSgpLmhhbmRsZUJlYXRNb2RpZmllZChiZWF0SW5kZXgsIGJlYXREYXRhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93U2VsZWN0ZWQoYXJyb3dEYXRhOiB7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICBvcmllbnRhdGlvbj86IHN0cmluZztcbiAgICB0dXJuX2Ftb3VudD86IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICAvLyDinIUgRklYRUQ6IEFycm93RGF0YSBub3cgb25seSBjb250YWlucyBhcnJvdy1zcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZnVsbEFycm93RGF0YTogQXJyb3dEYXRhID0ge1xuICAgICAgaWQ6IGBhcnJvd18ke0RhdGUubm93KCl9YCxcbiAgICAgIC8vIE9ubHkgYXJyb3ctc3BlY2lmaWMgcHJvcGVydGllcyAtIG1vdGlvbiBkYXRhIHNob3VsZCBiZSBoYW5kbGVkIHNlcGFyYXRlbHlcbiAgICAgIGFycm93TG9jYXRpb246IG51bGwsIC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBieSBwb3NpdGlvbmluZyBzeXN0ZW1cbiAgICAgIHBvc2l0aW9uWDogMCxcbiAgICAgIHBvc2l0aW9uWTogMCxcbiAgICAgIHJvdGF0aW9uQW5nbGU6IDAsXG4gICAgICBjb29yZGluYXRlczogbnVsbCxcbiAgICAgIHN2Z0NlbnRlcjogbnVsbCxcbiAgICAgIHN2Z01pcnJvcmVkOiBmYWxzZSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgIH07XG4gICAgY29uc3RydWN0VGFiRXZlbnRTZXJ2aWNlKCkuaGFuZGxlQXJyb3dTZWxlY3RlZChmdWxsQXJyb3dEYXRhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUdyYXBoRWRpdG9yVmlzaWJpbGl0eUNoYW5nZWQoaXNWaXNpYmxlOiBib29sZWFuKSB7XG4gICAgLy8gSGFuZGxlIGdyYXBoIGVkaXRvciB2aXNpYmlsaXR5IGNoYW5nZXMgaWYgbmVlZGVkXG4gICAgY29uc29sZS5sb2coXCJHcmFwaCBlZGl0b3IgdmlzaWJpbGl0eSBjaGFuZ2VkOlwiLCBpc1Zpc2libGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRXhwb3J0U2V0dGluZ0NoYW5nZWQoZGF0YTogeyBzZXR0aW5nOiBzdHJpbmc7IHZhbHVlOiBhbnkgfSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwic2V0dGluZ0NoYW5nZWRcIiwgeyBkZXRhaWw6IGRhdGEgfSk7XG4gICAgY29uc3RydWN0VGFiRXZlbnRTZXJ2aWNlKCkuaGFuZGxlRXhwb3J0U2V0dGluZ0NoYW5nZWQoZXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUHJldmlld1VwZGF0ZVJlcXVlc3RlZChzZXR0aW5nczogYW55KSB7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJwcmV2aWV3VXBkYXRlUmVxdWVzdGVkXCIsIHtcbiAgICAgIGRldGFpbDogc2V0dGluZ3MsXG4gICAgfSk7XG4gICAgY29uc3RydWN0VGFiRXZlbnRTZXJ2aWNlKCkuaGFuZGxlUHJldmlld1VwZGF0ZVJlcXVlc3RlZChldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFeHBvcnRSZXF1ZXN0ZWQoZGF0YTogeyB0eXBlOiBzdHJpbmc7IGNvbmZpZzogYW55IH0pIHtcbiAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImV4cG9ydFJlcXVlc3RlZFwiLCB7IGRldGFpbDogZGF0YSB9KTtcbiAgICBjb25zdHJ1Y3RUYWJFdmVudFNlcnZpY2UoKS5oYW5kbGVFeHBvcnRSZXF1ZXN0ZWQoZXZlbnQpO1xuICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInJpZ2h0LXBhbmVsXCIgZGF0YS10ZXN0aWQ9XCJyaWdodC1wYW5lbFwiPlxuICA8IS0tIFRhYiBOYXZpZ2F0aW9uIC0tPlxuICA8Q29uc3RydWN0VGFiTmF2aWdhdGlvblxuICAgIHthY3RpdmVSaWdodFBhbmVsfVxuICAgIHNldEFjdGl2ZVJpZ2h0UGFuZWw9e2NvbnN0cnVjdFRhYlN0YXRlLnNldEFjdGl2ZVJpZ2h0UGFuZWx9XG4gIC8+XG5cbiAgPCEtLSBUYWIgQ29udGVudCB3aXRoIFNlcXVlbnRpYWwgRmFkZSBUcmFuc2l0aW9ucyAtLT5cbiAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCI+XG4gICAgeyNrZXkgYWN0aXZlUmlnaHRQYW5lbH1cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJzdWItdGFiLWNvbnRlbnRcIlxuICAgICAgICBpbjpmYWRlPXtmYWRlSW5QYXJhbXN9XG4gICAgICAgIG91dDpmYWRlPXtmYWRlT3V0UGFyYW1zfVxuICAgICAgPlxuICAgICAgICB7I2lmIGFjdGl2ZVJpZ2h0UGFuZWwgPT09IFwiYnVpbGRcIn1cbiAgICAgICAgICA8QnVpbGRUYWJDb250ZW50IC8+XG4gICAgICAgIHs6ZWxzZSBpZiBhY3RpdmVSaWdodFBhbmVsID09PSBcImdlbmVyYXRlXCJ9XG4gICAgICAgICAgPEdlbmVyYXRlUGFuZWwgLz5cbiAgICAgICAgezplbHNlIGlmIGFjdGl2ZVJpZ2h0UGFuZWwgPT09IFwiZWRpdFwifVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMj5HcmFwaCBFZGl0b3I8L2gyPlxuICAgICAgICAgICAgPHA+QWR2YW5jZWQgc2VxdWVuY2UgZWRpdGluZyB0b29sczwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudCBncmFwaC1lZGl0b3ItY29udGVudFwiPlxuICAgICAgICAgICAgPEdyYXBoRWRpdG9yXG4gICAgICAgICAgICAgIGN1cnJlbnRTZXF1ZW5jZT17Y29uc3RydWN0VGFiU3RhdGUuY3VycmVudFNlcXVlbmNlfVxuICAgICAgICAgICAgICBzZWxlY3RlZEJlYXRJbmRleD17Y29uc3RydWN0VGFiU3RhdGUuc2VsZWN0ZWRCZWF0SW5kZXh9XG4gICAgICAgICAgICAgIHNlbGVjdGVkQmVhdERhdGE9e2NvbnN0cnVjdFRhYlN0YXRlLnNlbGVjdGVkQmVhdERhdGF9XG4gICAgICAgICAgICAgIG9uQmVhdE1vZGlmaWVkPXtoYW5kbGVCZWF0TW9kaWZpZWR9XG4gICAgICAgICAgICAgIG9uQXJyb3dTZWxlY3RlZD17aGFuZGxlQXJyb3dTZWxlY3RlZH1cbiAgICAgICAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlZD17aGFuZGxlR3JhcGhFZGl0b3JWaXNpYmlsaXR5Q2hhbmdlZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHs6ZWxzZSBpZiBhY3RpdmVSaWdodFBhbmVsID09PSBcImV4cG9ydFwifVxuICAgICAgICAgIDxFeHBvcnRQYW5lbFxuICAgICAgICAgICAgY3VycmVudFNlcXVlbmNlPXtjb25zdHJ1Y3RUYWJTdGF0ZS5jdXJyZW50U2VxdWVuY2V9XG4gICAgICAgICAgICBvbnNldHRpbmdjaGFuZ2VkPXtoYW5kbGVFeHBvcnRTZXR0aW5nQ2hhbmdlZH1cbiAgICAgICAgICAgIG9ucHJldmlld3VwZGF0ZXJlcXVlc3RlZD17aGFuZGxlUHJldmlld1VwZGF0ZVJlcXVlc3RlZH1cbiAgICAgICAgICAgIG9uZXhwb3J0cmVxdWVzdGVkPXtoYW5kbGVFeHBvcnRSZXF1ZXN0ZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgey9pZn1cbiAgICAgIDwvZGl2PlxuICAgIHsva2V5fVxuXG4gICAgPCEtLSBEZWJ1ZyBzdWItdGFiIHRyYW5zaXRpb24gc3RhdGUgLS0+XG4gICAgeyNpZiBpc1N1YlRhYlRyYW5zaXRpb25BY3RpdmV9XG4gICAgICA8ZGl2IGNsYXNzPVwic3ViLXRhYi10cmFuc2l0aW9uLWRlYnVnXCI+8J+OqCBTdWItdGFiIHRyYW5zaXRpb25pbmcuLi48L2Rpdj5cbiAgICB7L2lmfVxuICA8L2Rpdj5cbjwvZGl2PlxuXG48c3R5bGU+XG4gIC5yaWdodC1wYW5lbCB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgLyogVHJhbnNwYXJlbnQgYmFja2dyb3VuZCB0byBzaG93IGJlYXV0aWZ1bCBiYWNrZ3JvdW5kIHdpdGhvdXQgYmx1ciAqL1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgLyogYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpOyAtIFJFTU9WRUQgdG8gc2hvdyBiYWNrZ3JvdW5kICovXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC50YWItY29udGVudCB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICAuc3ViLXRhYi1jb250ZW50IHtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIC8qIEVuc3VyZSBzbW9vdGggdHJhbnNpdGlvbnMgd2l0aG91dCBsYXlvdXQganVtcHMgKi9cbiAgICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cblxuICAucGFuZWwtaGVhZGVyIHtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1tdXRlZCkgLyAzMDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAucGFuZWwtaGVhZGVyIGgyIHtcbiAgICBtYXJnaW46IDAgMCB2YXIoLS1zcGFjaW5nLXNtKSAwO1xuICAgIGNvbG9yOiB2YXIoLS1mb3JlZ3JvdW5kKTtcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS14bCk7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuXG4gIC5wYW5lbC1oZWFkZXIgcCB7XG4gICAgbWFyZ2luOiAwO1xuICAgIGNvbG9yOiB2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKTtcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbSk7XG4gIH1cblxuICAucGFuZWwtY29udGVudCB7XG4gICAgZmxleDogMTtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgfVxuXG4gIC5ncmFwaC1lZGl0b3ItY29udGVudCB7XG4gICAgcGFkZGluZzogMDtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtaW4taGVpZ2h0OiAwO1xuICB9XG5cbiAgLnN1Yi10YWItdHJhbnNpdGlvbi1kZWJ1ZyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNjBweDtcbiAgICByaWdodDogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOCwgNDMsIDIyNiwgMC45KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZzogNnB4IDEycHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC8qIFJlc3BvbnNpdmUgYWRqdXN0bWVudHMgKi9cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLnBhbmVsLWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgICB9XG4gIH1cbjwvc3R5bGU+XG4iXSwiZmlsZSI6IkM6L1RLQS93ZWIvc3JjL2xpYi9jb21wb25lbnRzL2NvbnN0cnVjdC9SaWdodFBhbmVsLnN2ZWx0ZSJ9