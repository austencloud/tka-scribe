export class SectionService {
  async organizeSections(sequences, config) {
    if (config.groupBy === "none") {
      return [
        {
          id: "all",
          title: "All Sequences",
          count: sequences.length,
          sequences,
          isExpanded: true,
          sortOrder: 0
        }
      ];
    }
    const grouped = this.groupSequences(sequences, config.groupBy);
    const sections = this.createSections(grouped, config);
    return this.sortSections(sections, config.groupBy);
  }
  toggleSectionExpansion(sectionId, sections) {
    return sections.map((section) => ({
      ...section,
      isExpanded: section.id === sectionId ? !section.isExpanded : section.isExpanded
    }));
  }
  getDefaultSectionConfiguration() {
    return {
      groupBy: "letter",
      sortMethod: "alphabetical",
      showEmptySections: false,
      expandedSections: /* @__PURE__ */ new Set(["A", "B", "C"])
      // Default expand first few sections
    };
  }
  updateSectionConfiguration(config, updates) {
    return {
      ...config,
      ...updates
    };
  }
  getSectionStatistics(sections) {
    const totalSections = sections.length;
    const totalSequences = sections.reduce(
      (sum, section) => sum + section.count,
      0
    );
    const expandedSections = sections.filter(
      (section) => section.isExpanded
    ).length;
    const averageSequencesPerSection = totalSections > 0 ? totalSequences / totalSections : 0;
    return {
      totalSections,
      totalSequences,
      expandedSections,
      averageSequencesPerSection: Math.round(averageSequencesPerSection * 10) / 10
    };
  }
  // Private helper methods
  groupSequences(sequences, groupBy) {
    const groups = /* @__PURE__ */ new Map();
    sequences.forEach((sequence) => {
      const key = this.getGroupKey(sequence, groupBy);
      if (!groups.has(key)) {
        groups.set(key, []);
      }
      const group = groups.get(key);
      if (group) {
        group.push(sequence);
      }
    });
    return groups;
  }
  getGroupKey(sequence, groupBy) {
    switch (groupBy) {
      case "letter":
        return sequence.word.charAt(0).toUpperCase();
      case "length": {
        const length = sequence.sequenceLength || sequence.word.length;
        return `${length} beats`;
      }
      case "difficulty":
        return sequence.difficultyLevel || "Unknown";
      case "author":
        return sequence.author || "Unknown Author";
      case "date": {
        if (!sequence.dateAdded) return "Unknown Date";
        const date = new Date(sequence.dateAdded);
        return date.toDateString();
      }
      default:
        return "All";
    }
  }
  createSections(grouped, config) {
    const sections = [];
    grouped.forEach((sequences, key) => {
      if (!config.showEmptySections && sequences.length === 0) {
        return;
      }
      const section = {
        id: this.createSectionId(key, config.groupBy),
        title: this.createSectionTitle(key, config.groupBy, sequences.length),
        count: sequences.length,
        sequences: this.sortSequencesInSection(sequences, config.sortMethod),
        isExpanded: config.expandedSections?.has(key) ?? false,
        sortOrder: this.getSectionSortOrder(key, config.groupBy)
      };
      sections.push(section);
    });
    return sections;
  }
  createSectionId(key, groupBy) {
    return `${groupBy}-${key.toLowerCase().replace(/\s+/g, "-")}`;
  }
  createSectionTitle(key, groupBy, count) {
    const countText = count === 1 ? "1 sequence" : `${count} sequences`;
    switch (groupBy) {
      case "letter":
        return `${key} (${countText})`;
      case "length":
        return `${key} (${countText})`;
      case "difficulty": {
        const difficultyEmoji = {
          beginner: "ðŸŸ¢",
          intermediate: "ðŸŸ¡",
          advanced: "ðŸ”´",
          Unknown: "âšª"
        }[key] || "âšª";
        return `${difficultyEmoji} ${key} (${countText})`;
      }
      case "author":
        return `ðŸ‘¤ ${key} (${countText})`;
      case "date":
        return `ðŸ“… ${this.formatDateForSection(key)} (${countText})`;
      default:
        return `${key} (${countText})`;
    }
  }
  sortSequencesInSection(sequences, sortMethod) {
    const sorted = [...sequences];
    switch (sortMethod) {
      case "alphabetical":
        return sorted.sort((a, b) => a.word.localeCompare(b.word));
      case "difficulty_level":
        return sorted.sort((a, b) => {
          const getDifficultyOrder = (level) => {
            switch (level) {
              case "beginner":
                return 1;
              case "intermediate":
                return 2;
              case "advanced":
                return 3;
              default:
                return 0;
            }
          };
          return getDifficultyOrder(a.difficultyLevel) - getDifficultyOrder(b.difficultyLevel);
        });
      case "sequence_length":
        return sorted.sort((a, b) => {
          const lengthA = a.sequenceLength || a.word.length;
          const lengthB = b.sequenceLength || b.word.length;
          return lengthA - lengthB;
        });
      case "date_added":
        return sorted.sort((a, b) => {
          const dateA = a.dateAdded ? new Date(a.dateAdded).getTime() : 0;
          const dateB = b.dateAdded ? new Date(b.dateAdded).getTime() : 0;
          return dateB - dateA;
        });
      case "author":
        return sorted.sort(
          (a, b) => (a.author || "").localeCompare(b.author || "")
        );
      default:
        return sorted;
    }
  }
  sortSections(sections, _groupBy) {
    return sections.sort((a, b) => {
      if (a.sortOrder !== b.sortOrder) {
        return a.sortOrder - b.sortOrder;
      }
      return a.title.localeCompare(b.title);
    });
  }
  getSectionSortOrder(key, groupBy) {
    switch (groupBy) {
      case "letter":
        return key.charCodeAt(0);
      case "length": {
        const match = key.match(/^(\d+)/);
        return match && match[1] ? parseInt(match[1]) : 999;
      }
      case "difficulty": {
        const difficultyOrder = {
          beginner: 1,
          intermediate: 2,
          advanced: 3,
          Unknown: 4
        };
        return difficultyOrder[key] || 999;
      }
      case "author":
        return 0;
      // Will be sorted by title comparison
      case "date": {
        const date = new Date(key);
        return -date.getTime();
      }
      default:
        return 0;
    }
  }
  formatDateForSection(dateString) {
    const date = new Date(dateString);
    const now = /* @__PURE__ */ new Date();
    const diffTime = now.getTime() - date.getTime();
    const diffDays = Math.floor(diffTime / (1e3 * 60 * 60 * 24));
    if (diffDays === 0) return "Today";
    if (diffDays === 1) return "Yesterday";
    if (diffDays < 7) return `${diffDays} days ago`;
    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
    return date.toLocaleDateString();
  }
  // Additional methods required by browse-interfaces.ts
  async organizeIntoSections(sequences, config) {
    return this.organizeSections(sequences, config);
  }
  async getSectionConfiguration(sortMethod) {
    return {
      groupBy: "letter",
      sortMethod,
      showEmptySections: false,
      expandedSections: /* @__PURE__ */ new Set()
    };
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9uYXZpZ2F0aW9uL1NlY3Rpb25TZXJ2aWNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIFNlY3Rpb24gU2VydmljZSAtIE1hbmFnZXMgc2VxdWVuY2Ugc2VjdGlvbiBvcmdhbml6YXRpb25cbiAqXG4gKiBIYW5kbGVzIGdyb3VwaW5nIHNlcXVlbmNlcyBpbnRvIHNlY3Rpb25zIHdpdGggaGVhZGVycyBhbmQgY291bnRzLFxuICogZm9sbG93aW5nIHRoZSBtaWNyb3NlcnZpY2VzIGFyY2hpdGVjdHVyZSBwYXR0ZXJuLlxuICovXG5cbmltcG9ydCB0eXBlIHtcbiAgQnJvd3NlU2VxdWVuY2VNZXRhZGF0YSxcbiAgU29ydE1ldGhvZCxcbn0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvZG9tYWluLXR5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VxdWVuY2VTZWN0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY291bnQ6IG51bWJlcjtcbiAgc2VxdWVuY2VzOiBCcm93c2VTZXF1ZW5jZU1ldGFkYXRhW107XG4gIGlzRXhwYW5kZWQ6IGJvb2xlYW47XG4gIHNvcnRPcmRlcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlY3Rpb25Db25maWd1cmF0aW9uIHtcbiAgZ3JvdXBCeTogXCJsZXR0ZXJcIiB8IFwibGVuZ3RoXCIgfCBcImRpZmZpY3VsdHlcIiB8IFwiYXV0aG9yXCIgfCBcImRhdGVcIiB8IFwibm9uZVwiO1xuICBzb3J0TWV0aG9kOiBTb3J0TWV0aG9kO1xuICBzaG93RW1wdHlTZWN0aW9uczogYm9vbGVhbjtcbiAgZXhwYW5kZWRTZWN0aW9ucz86IFNldDxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZWN0aW9uU2VydmljZSB7XG4gIC8qKiBPcmdhbml6ZSBzZXF1ZW5jZXMgaW50byBzZWN0aW9ucyBiYXNlZCBvbiBjb25maWd1cmF0aW9uICovXG4gIG9yZ2FuaXplU2VjdGlvbnMoXG4gICAgc2VxdWVuY2VzOiBCcm93c2VTZXF1ZW5jZU1ldGFkYXRhW10sXG4gICAgY29uZmlnOiBTZWN0aW9uQ29uZmlndXJhdGlvblxuICApOiBQcm9taXNlPFNlcXVlbmNlU2VjdGlvbltdPjtcblxuICAvKiogVG9nZ2xlIHNlY3Rpb24gZXhwYW5zaW9uIHN0YXRlICovXG4gIHRvZ2dsZVNlY3Rpb25FeHBhbnNpb24oXG4gICAgc2VjdGlvbklkOiBzdHJpbmcsXG4gICAgc2VjdGlvbnM6IFNlcXVlbmNlU2VjdGlvbltdXG4gICk6IFNlcXVlbmNlU2VjdGlvbltdO1xuXG4gIC8qKiBHZXQgZGVmYXVsdCBzZWN0aW9uIGNvbmZpZ3VyYXRpb24gKi9cbiAgZ2V0RGVmYXVsdFNlY3Rpb25Db25maWd1cmF0aW9uKCk6IFNlY3Rpb25Db25maWd1cmF0aW9uO1xuXG4gIC8qKiBVcGRhdGUgc2VjdGlvbiBjb25maWd1cmF0aW9uICovXG4gIHVwZGF0ZVNlY3Rpb25Db25maWd1cmF0aW9uKFxuICAgIGNvbmZpZzogU2VjdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgdXBkYXRlczogUGFydGlhbDxTZWN0aW9uQ29uZmlndXJhdGlvbj5cbiAgKTogU2VjdGlvbkNvbmZpZ3VyYXRpb247XG5cbiAgLyoqIEdldCBzZWN0aW9uIHN0YXRpc3RpY3MgKi9cbiAgZ2V0U2VjdGlvblN0YXRpc3RpY3Moc2VjdGlvbnM6IFNlcXVlbmNlU2VjdGlvbltdKToge1xuICAgIHRvdGFsU2VjdGlvbnM6IG51bWJlcjtcbiAgICB0b3RhbFNlcXVlbmNlczogbnVtYmVyO1xuICAgIGV4cGFuZGVkU2VjdGlvbnM6IG51bWJlcjtcbiAgICBhdmVyYWdlU2VxdWVuY2VzUGVyU2VjdGlvbjogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgU2VjdGlvblNlcnZpY2UgaW1wbGVtZW50cyBJU2VjdGlvblNlcnZpY2Uge1xuICBhc3luYyBvcmdhbml6ZVNlY3Rpb25zKFxuICAgIHNlcXVlbmNlczogQnJvd3NlU2VxdWVuY2VNZXRhZGF0YVtdLFxuICAgIGNvbmZpZzogU2VjdGlvbkNvbmZpZ3VyYXRpb25cbiAgKTogUHJvbWlzZTxTZXF1ZW5jZVNlY3Rpb25bXT4ge1xuICAgIGlmIChjb25maWcuZ3JvdXBCeSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJhbGxcIixcbiAgICAgICAgICB0aXRsZTogXCJBbGwgU2VxdWVuY2VzXCIsXG4gICAgICAgICAgY291bnQ6IHNlcXVlbmNlcy5sZW5ndGgsXG4gICAgICAgICAgc2VxdWVuY2VzLFxuICAgICAgICAgIGlzRXhwYW5kZWQ6IHRydWUsXG4gICAgICAgICAgc29ydE9yZGVyOiAwLFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBjb25zdCBncm91cGVkID0gdGhpcy5ncm91cFNlcXVlbmNlcyhzZXF1ZW5jZXMsIGNvbmZpZy5ncm91cEJ5KTtcbiAgICBjb25zdCBzZWN0aW9ucyA9IHRoaXMuY3JlYXRlU2VjdGlvbnMoZ3JvdXBlZCwgY29uZmlnKTtcblxuICAgIHJldHVybiB0aGlzLnNvcnRTZWN0aW9ucyhzZWN0aW9ucywgY29uZmlnLmdyb3VwQnkpO1xuICB9XG5cbiAgdG9nZ2xlU2VjdGlvbkV4cGFuc2lvbihcbiAgICBzZWN0aW9uSWQ6IHN0cmluZyxcbiAgICBzZWN0aW9uczogU2VxdWVuY2VTZWN0aW9uW11cbiAgKTogU2VxdWVuY2VTZWN0aW9uW10ge1xuICAgIHJldHVybiBzZWN0aW9ucy5tYXAoKHNlY3Rpb24pID0+ICh7XG4gICAgICAuLi5zZWN0aW9uLFxuICAgICAgaXNFeHBhbmRlZDpcbiAgICAgICAgc2VjdGlvbi5pZCA9PT0gc2VjdGlvbklkID8gIXNlY3Rpb24uaXNFeHBhbmRlZCA6IHNlY3Rpb24uaXNFeHBhbmRlZCxcbiAgICB9KSk7XG4gIH1cblxuICBnZXREZWZhdWx0U2VjdGlvbkNvbmZpZ3VyYXRpb24oKTogU2VjdGlvbkNvbmZpZ3VyYXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICBncm91cEJ5OiBcImxldHRlclwiLFxuICAgICAgc29ydE1ldGhvZDogXCJhbHBoYWJldGljYWxcIiBhcyBTb3J0TWV0aG9kLFxuICAgICAgc2hvd0VtcHR5U2VjdGlvbnM6IGZhbHNlLFxuICAgICAgZXhwYW5kZWRTZWN0aW9uczogbmV3IFNldChbXCJBXCIsIFwiQlwiLCBcIkNcIl0pLCAvLyBEZWZhdWx0IGV4cGFuZCBmaXJzdCBmZXcgc2VjdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlU2VjdGlvbkNvbmZpZ3VyYXRpb24oXG4gICAgY29uZmlnOiBTZWN0aW9uQ29uZmlndXJhdGlvbixcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPFNlY3Rpb25Db25maWd1cmF0aW9uPlxuICApOiBTZWN0aW9uQ29uZmlndXJhdGlvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIC4uLnVwZGF0ZXMsXG4gICAgfTtcbiAgfVxuXG4gIGdldFNlY3Rpb25TdGF0aXN0aWNzKHNlY3Rpb25zOiBTZXF1ZW5jZVNlY3Rpb25bXSkge1xuICAgIGNvbnN0IHRvdGFsU2VjdGlvbnMgPSBzZWN0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgdG90YWxTZXF1ZW5jZXMgPSBzZWN0aW9ucy5yZWR1Y2UoXG4gICAgICAoc3VtLCBzZWN0aW9uKSA9PiBzdW0gKyBzZWN0aW9uLmNvdW50LFxuICAgICAgMFxuICAgICk7XG4gICAgY29uc3QgZXhwYW5kZWRTZWN0aW9ucyA9IHNlY3Rpb25zLmZpbHRlcihcbiAgICAgIChzZWN0aW9uKSA9PiBzZWN0aW9uLmlzRXhwYW5kZWRcbiAgICApLmxlbmd0aDtcbiAgICBjb25zdCBhdmVyYWdlU2VxdWVuY2VzUGVyU2VjdGlvbiA9XG4gICAgICB0b3RhbFNlY3Rpb25zID4gMCA/IHRvdGFsU2VxdWVuY2VzIC8gdG90YWxTZWN0aW9ucyA6IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxTZWN0aW9ucyxcbiAgICAgIHRvdGFsU2VxdWVuY2VzLFxuICAgICAgZXhwYW5kZWRTZWN0aW9ucyxcbiAgICAgIGF2ZXJhZ2VTZXF1ZW5jZXNQZXJTZWN0aW9uOlxuICAgICAgICBNYXRoLnJvdW5kKGF2ZXJhZ2VTZXF1ZW5jZXNQZXJTZWN0aW9uICogMTApIC8gMTAsXG4gICAgfTtcbiAgfVxuXG4gIC8vIFByaXZhdGUgaGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSBncm91cFNlcXVlbmNlcyhcbiAgICBzZXF1ZW5jZXM6IEJyb3dzZVNlcXVlbmNlTWV0YWRhdGFbXSxcbiAgICBncm91cEJ5OiBTZWN0aW9uQ29uZmlndXJhdGlvbltcImdyb3VwQnlcIl1cbiAgKTogTWFwPHN0cmluZywgQnJvd3NlU2VxdWVuY2VNZXRhZGF0YVtdPiB7XG4gICAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIEJyb3dzZVNlcXVlbmNlTWV0YWRhdGFbXT4oKTtcblxuICAgIHNlcXVlbmNlcy5mb3JFYWNoKChzZXF1ZW5jZSkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRHcm91cEtleShzZXF1ZW5jZSwgZ3JvdXBCeSk7XG4gICAgICBpZiAoIWdyb3Vwcy5oYXMoa2V5KSkge1xuICAgICAgICBncm91cHMuc2V0KGtleSwgW10pO1xuICAgICAgfVxuICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHMuZ2V0KGtleSk7XG4gICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgZ3JvdXAucHVzaChzZXF1ZW5jZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRHcm91cEtleShcbiAgICBzZXF1ZW5jZTogQnJvd3NlU2VxdWVuY2VNZXRhZGF0YSxcbiAgICBncm91cEJ5OiBTZWN0aW9uQ29uZmlndXJhdGlvbltcImdyb3VwQnlcIl1cbiAgKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKGdyb3VwQnkpIHtcbiAgICAgIGNhc2UgXCJsZXR0ZXJcIjpcbiAgICAgICAgcmV0dXJuIHNlcXVlbmNlLndvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgIGNhc2UgXCJsZW5ndGhcIjoge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzZXF1ZW5jZS5zZXF1ZW5jZUxlbmd0aCB8fCBzZXF1ZW5jZS53b3JkLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGAke2xlbmd0aH0gYmVhdHNgO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiZGlmZmljdWx0eVwiOlxuICAgICAgICByZXR1cm4gc2VxdWVuY2UuZGlmZmljdWx0eUxldmVsIHx8IFwiVW5rbm93blwiO1xuXG4gICAgICBjYXNlIFwiYXV0aG9yXCI6XG4gICAgICAgIHJldHVybiBzZXF1ZW5jZS5hdXRob3IgfHwgXCJVbmtub3duIEF1dGhvclwiO1xuXG4gICAgICBjYXNlIFwiZGF0ZVwiOiB7XG4gICAgICAgIGlmICghc2VxdWVuY2UuZGF0ZUFkZGVkKSByZXR1cm4gXCJVbmtub3duIERhdGVcIjtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHNlcXVlbmNlLmRhdGVBZGRlZCk7XG4gICAgICAgIHJldHVybiBkYXRlLnRvRGF0ZVN0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJBbGxcIjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNlY3Rpb25zKFxuICAgIGdyb3VwZWQ6IE1hcDxzdHJpbmcsIEJyb3dzZVNlcXVlbmNlTWV0YWRhdGFbXT4sXG4gICAgY29uZmlnOiBTZWN0aW9uQ29uZmlndXJhdGlvblxuICApOiBTZXF1ZW5jZVNlY3Rpb25bXSB7XG4gICAgY29uc3Qgc2VjdGlvbnM6IFNlcXVlbmNlU2VjdGlvbltdID0gW107XG5cbiAgICBncm91cGVkLmZvckVhY2goKHNlcXVlbmNlcywga2V5KSA9PiB7XG4gICAgICBpZiAoIWNvbmZpZy5zaG93RW1wdHlTZWN0aW9ucyAmJiBzZXF1ZW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VjdGlvbjogU2VxdWVuY2VTZWN0aW9uID0ge1xuICAgICAgICBpZDogdGhpcy5jcmVhdGVTZWN0aW9uSWQoa2V5LCBjb25maWcuZ3JvdXBCeSksXG4gICAgICAgIHRpdGxlOiB0aGlzLmNyZWF0ZVNlY3Rpb25UaXRsZShrZXksIGNvbmZpZy5ncm91cEJ5LCBzZXF1ZW5jZXMubGVuZ3RoKSxcbiAgICAgICAgY291bnQ6IHNlcXVlbmNlcy5sZW5ndGgsXG4gICAgICAgIHNlcXVlbmNlczogdGhpcy5zb3J0U2VxdWVuY2VzSW5TZWN0aW9uKHNlcXVlbmNlcywgY29uZmlnLnNvcnRNZXRob2QpLFxuICAgICAgICBpc0V4cGFuZGVkOiBjb25maWcuZXhwYW5kZWRTZWN0aW9ucz8uaGFzKGtleSkgPz8gZmFsc2UsXG4gICAgICAgIHNvcnRPcmRlcjogdGhpcy5nZXRTZWN0aW9uU29ydE9yZGVyKGtleSwgY29uZmlnLmdyb3VwQnkpLFxuICAgICAgfTtcblxuICAgICAgc2VjdGlvbnMucHVzaChzZWN0aW9uKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZWN0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU2VjdGlvbklkKFxuICAgIGtleTogc3RyaW5nLFxuICAgIGdyb3VwQnk6IFNlY3Rpb25Db25maWd1cmF0aW9uW1wiZ3JvdXBCeVwiXVxuICApOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtncm91cEJ5fS0ke2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgXCItXCIpfWA7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNlY3Rpb25UaXRsZShcbiAgICBrZXk6IHN0cmluZyxcbiAgICBncm91cEJ5OiBTZWN0aW9uQ29uZmlndXJhdGlvbltcImdyb3VwQnlcIl0sXG4gICAgY291bnQ6IG51bWJlclxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGNvdW50VGV4dCA9IGNvdW50ID09PSAxID8gXCIxIHNlcXVlbmNlXCIgOiBgJHtjb3VudH0gc2VxdWVuY2VzYDtcblxuICAgIHN3aXRjaCAoZ3JvdXBCeSkge1xuICAgICAgY2FzZSBcImxldHRlclwiOlxuICAgICAgICByZXR1cm4gYCR7a2V5fSAoJHtjb3VudFRleHR9KWA7XG5cbiAgICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgICAgcmV0dXJuIGAke2tleX0gKCR7Y291bnRUZXh0fSlgO1xuXG4gICAgICBjYXNlIFwiZGlmZmljdWx0eVwiOiB7XG4gICAgICAgIGNvbnN0IGRpZmZpY3VsdHlFbW9qaSA9XG4gICAgICAgICAge1xuICAgICAgICAgICAgYmVnaW5uZXI6IFwi8J+folwiLFxuICAgICAgICAgICAgaW50ZXJtZWRpYXRlOiBcIvCfn6FcIixcbiAgICAgICAgICAgIGFkdmFuY2VkOiBcIvCflLRcIixcbiAgICAgICAgICAgIFVua25vd246IFwi4pqqXCIsXG4gICAgICAgICAgfVtrZXldIHx8IFwi4pqqXCI7XG4gICAgICAgIHJldHVybiBgJHtkaWZmaWN1bHR5RW1vaml9ICR7a2V5fSAoJHtjb3VudFRleHR9KWA7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJhdXRob3JcIjpcbiAgICAgICAgcmV0dXJuIGDwn5GkICR7a2V5fSAoJHtjb3VudFRleHR9KWA7XG5cbiAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIHJldHVybiBg8J+ThSAke3RoaXMuZm9ybWF0RGF0ZUZvclNlY3Rpb24oa2V5KX0gKCR7Y291bnRUZXh0fSlgO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gYCR7a2V5fSAoJHtjb3VudFRleHR9KWA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzb3J0U2VxdWVuY2VzSW5TZWN0aW9uKFxuICAgIHNlcXVlbmNlczogQnJvd3NlU2VxdWVuY2VNZXRhZGF0YVtdLFxuICAgIHNvcnRNZXRob2Q6IFNvcnRNZXRob2RcbiAgKTogQnJvd3NlU2VxdWVuY2VNZXRhZGF0YVtdIHtcbiAgICBjb25zdCBzb3J0ZWQgPSBbLi4uc2VxdWVuY2VzXTtcblxuICAgIHN3aXRjaCAoc29ydE1ldGhvZCkge1xuICAgICAgY2FzZSBcImFscGhhYmV0aWNhbFwiOlxuICAgICAgICByZXR1cm4gc29ydGVkLnNvcnQoKGEsIGIpID0+IGEud29yZC5sb2NhbGVDb21wYXJlKGIud29yZCkpO1xuXG4gICAgICBjYXNlIFwiZGlmZmljdWx0eV9sZXZlbFwiOlxuICAgICAgICByZXR1cm4gc29ydGVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBnZXREaWZmaWN1bHR5T3JkZXIgPSAobGV2ZWw/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImJlZ2lubmVyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbnRlcm1lZGlhdGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgICAgY2FzZSBcImFkdmFuY2VkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZ2V0RGlmZmljdWx0eU9yZGVyKGEuZGlmZmljdWx0eUxldmVsKSAtXG4gICAgICAgICAgICBnZXREaWZmaWN1bHR5T3JkZXIoYi5kaWZmaWN1bHR5TGV2ZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgXCJzZXF1ZW5jZV9sZW5ndGhcIjpcbiAgICAgICAgcmV0dXJuIHNvcnRlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgY29uc3QgbGVuZ3RoQSA9IGEuc2VxdWVuY2VMZW5ndGggfHwgYS53b3JkLmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBsZW5ndGhCID0gYi5zZXF1ZW5jZUxlbmd0aCB8fCBiLndvcmQubGVuZ3RoO1xuICAgICAgICAgIHJldHVybiBsZW5ndGhBIC0gbGVuZ3RoQjtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgXCJkYXRlX2FkZGVkXCI6XG4gICAgICAgIHJldHVybiBzb3J0ZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVBID0gYS5kYXRlQWRkZWQgPyBuZXcgRGF0ZShhLmRhdGVBZGRlZCkuZ2V0VGltZSgpIDogMDtcbiAgICAgICAgICBjb25zdCBkYXRlQiA9IGIuZGF0ZUFkZGVkID8gbmV3IERhdGUoYi5kYXRlQWRkZWQpLmdldFRpbWUoKSA6IDA7XG4gICAgICAgICAgcmV0dXJuIGRhdGVCIC0gZGF0ZUE7IC8vIE1vc3QgcmVjZW50IGZpcnN0XG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlIFwiYXV0aG9yXCI6XG4gICAgICAgIHJldHVybiBzb3J0ZWQuc29ydCgoYSwgYikgPT5cbiAgICAgICAgICAoYS5hdXRob3IgfHwgXCJcIikubG9jYWxlQ29tcGFyZShiLmF1dGhvciB8fCBcIlwiKVxuICAgICAgICApO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc29ydGVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc29ydFNlY3Rpb25zKFxuICAgIHNlY3Rpb25zOiBTZXF1ZW5jZVNlY3Rpb25bXSxcbiAgICBfZ3JvdXBCeTogU2VjdGlvbkNvbmZpZ3VyYXRpb25bXCJncm91cEJ5XCJdXG4gICk6IFNlcXVlbmNlU2VjdGlvbltdIHtcbiAgICByZXR1cm4gc2VjdGlvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgLy8gUHJpbWFyeSBzb3J0IGJ5IHNvcnRPcmRlclxuICAgICAgaWYgKGEuc29ydE9yZGVyICE9PSBiLnNvcnRPcmRlcikge1xuICAgICAgICByZXR1cm4gYS5zb3J0T3JkZXIgLSBiLnNvcnRPcmRlcjtcbiAgICAgIH1cblxuICAgICAgLy8gU2Vjb25kYXJ5IHNvcnQgYnkgdGl0bGUgZm9yIGNvbnNpc3RlbnQgb3JkZXJpbmdcbiAgICAgIHJldHVybiBhLnRpdGxlLmxvY2FsZUNvbXBhcmUoYi50aXRsZSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNlY3Rpb25Tb3J0T3JkZXIoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgZ3JvdXBCeTogU2VjdGlvbkNvbmZpZ3VyYXRpb25bXCJncm91cEJ5XCJdXG4gICk6IG51bWJlciB7XG4gICAgc3dpdGNoIChncm91cEJ5KSB7XG4gICAgICBjYXNlIFwibGV0dGVyXCI6XG4gICAgICAgIC8vIEEtWiBvcmRlclxuICAgICAgICByZXR1cm4ga2V5LmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgIGNhc2UgXCJsZW5ndGhcIjoge1xuICAgICAgICAvLyBFeHRyYWN0IG51bWJlciBmcm9tIFwiWCBiZWF0c1wiXG4gICAgICAgIGNvbnN0IG1hdGNoID0ga2V5Lm1hdGNoKC9eKFxcZCspLyk7XG4gICAgICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSA/IHBhcnNlSW50KG1hdGNoWzFdKSA6IDk5OTtcbiAgICAgIH1cblxuICAgICAgY2FzZSBcImRpZmZpY3VsdHlcIjoge1xuICAgICAgICAvLyBEaWZmaWN1bHR5IG9yZGVyXG4gICAgICAgIGNvbnN0IGRpZmZpY3VsdHlPcmRlciA9IHtcbiAgICAgICAgICBiZWdpbm5lcjogMSxcbiAgICAgICAgICBpbnRlcm1lZGlhdGU6IDIsXG4gICAgICAgICAgYWR2YW5jZWQ6IDMsXG4gICAgICAgICAgVW5rbm93bjogNCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpZmZpY3VsdHlPcmRlcltrZXkgYXMga2V5b2YgdHlwZW9mIGRpZmZpY3VsdHlPcmRlcl0gfHwgOTk5O1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiYXV0aG9yXCI6XG4gICAgICAgIC8vIEFscGhhYmV0aWNhbCBieSBhdXRob3JcbiAgICAgICAgcmV0dXJuIDA7IC8vIFdpbGwgYmUgc29ydGVkIGJ5IHRpdGxlIGNvbXBhcmlzb25cblxuICAgICAgY2FzZSBcImRhdGVcIjoge1xuICAgICAgICAvLyBNb3N0IHJlY2VudCBmaXJzdFxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIC1kYXRlLmdldFRpbWUoKTsgLy8gTmVnYXRpdmUgZm9yIHJldmVyc2UgY2hyb25vbG9naWNhbFxuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdERhdGVGb3JTZWN0aW9uKGRhdGVTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGlmZlRpbWUgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmZsb29yKGRpZmZUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGlmIChkaWZmRGF5cyA9PT0gMCkgcmV0dXJuIFwiVG9kYXlcIjtcbiAgICBpZiAoZGlmZkRheXMgPT09IDEpIHJldHVybiBcIlllc3RlcmRheVwiO1xuICAgIGlmIChkaWZmRGF5cyA8IDcpIHJldHVybiBgJHtkaWZmRGF5c30gZGF5cyBhZ29gO1xuICAgIGlmIChkaWZmRGF5cyA8IDMwKSByZXR1cm4gYCR7TWF0aC5mbG9vcihkaWZmRGF5cyAvIDcpfSB3ZWVrcyBhZ29gO1xuXG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gIH1cblxuICAvLyBBZGRpdGlvbmFsIG1ldGhvZHMgcmVxdWlyZWQgYnkgYnJvd3NlLWludGVyZmFjZXMudHNcbiAgYXN5bmMgb3JnYW5pemVJbnRvU2VjdGlvbnMoXG4gICAgc2VxdWVuY2VzOiBCcm93c2VTZXF1ZW5jZU1ldGFkYXRhW10sXG4gICAgY29uZmlnOiBTZWN0aW9uQ29uZmlndXJhdGlvblxuICApOiBQcm9taXNlPFNlcXVlbmNlU2VjdGlvbltdPiB7XG4gICAgLy8gVXNlIHRoZSBleGlzdGluZyBvcmdhbml6ZVNlY3Rpb25zIG1ldGhvZFxuICAgIHJldHVybiB0aGlzLm9yZ2FuaXplU2VjdGlvbnMoc2VxdWVuY2VzLCBjb25maWcpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2VjdGlvbkNvbmZpZ3VyYXRpb24oXG4gICAgc29ydE1ldGhvZDogU29ydE1ldGhvZFxuICApOiBQcm9taXNlPFNlY3Rpb25Db25maWd1cmF0aW9uPiB7XG4gICAgLy8gUmV0dXJuIGEgYmFzaWMgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBzb3J0IG1ldGhvZFxuICAgIHJldHVybiB7XG4gICAgICBncm91cEJ5OiBcImxldHRlclwiIGFzIGNvbnN0LFxuICAgICAgc29ydE1ldGhvZDogc29ydE1ldGhvZCxcbiAgICAgIHNob3dFbXB0eVNlY3Rpb25zOiBmYWxzZSxcbiAgICAgIGV4cGFuZGVkU2VjdGlvbnM6IG5ldyBTZXQ8c3RyaW5nPigpLFxuICAgIH07XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICJBQTJETyxhQUFNLGVBQTBDO0FBQUEsRUFDckQsTUFBTSxpQkFDSixXQUNBLFFBQzRCO0FBQzVCLFFBQUksT0FBTyxZQUFZLFFBQVE7QUFDN0IsYUFBTztBQUFBLFFBQ0w7QUFBQSxVQUNFLElBQUk7QUFBQSxVQUNKLE9BQU87QUFBQSxVQUNQLE9BQU8sVUFBVTtBQUFBLFVBQ2pCO0FBQUEsVUFDQSxZQUFZO0FBQUEsVUFDWixXQUFXO0FBQUEsUUFDYjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBRUEsVUFBTSxVQUFVLEtBQUssZUFBZSxXQUFXLE9BQU8sT0FBTztBQUM3RCxVQUFNLFdBQVcsS0FBSyxlQUFlLFNBQVMsTUFBTTtBQUVwRCxXQUFPLEtBQUssYUFBYSxVQUFVLE9BQU8sT0FBTztBQUFBLEVBQ25EO0FBQUEsRUFFQSx1QkFDRSxXQUNBLFVBQ21C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
