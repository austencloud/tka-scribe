import { Container } from "/node_modules/.vite/deps/inversify.js?v=608ae08a";
import "/node_modules/.vite/deps/reflect-metadata.js?v=608ae08a";
import { TYPES } from "/src/lib/services/inversify/types.ts";
import { DeviceDetectionService } from "/src/lib/services/implementations/application/DeviceDetectionService.ts";
import { CSVParserService } from "/src/lib/services/implementations/data/CSVParserService.ts";
import { DataTransformationService } from "/src/lib/services/implementations/data/DataTransformationService.ts";
import { EnumMappingService } from "/src/lib/services/implementations/data/EnumMappingService.ts";
import { GridModeDeriver } from "/src/lib/services/implementations/domain/GridModeDeriver.ts";
import { LetterDeriver } from "/src/lib/services/implementations/domain/LetterDeriver.ts";
import { PictographValidatorService } from "/src/lib/services/implementations/domain/PictographValidatorService.ts";
import { PositionPatternService } from "/src/lib/services/implementations/domain/PositionPatternService.ts";
import { FilenameGeneratorService } from "/src/lib/services/implementations/image-export/FilenameGeneratorService.ts";
import { SettingsService } from "/src/lib/services/implementations/persistence/SettingsService.ts";
import { ArrowPositioningService } from "/src/lib/services/implementations/positioning/ArrowPositioningService.ts";
import { SvgConfiguration } from "/src/lib/services/implementations/rendering/SvgConfiguration.ts";
import { ArrowAdjustmentCalculator } from "/src/lib/services/positioning/arrows/calculation/ArrowAdjustmentCalculator.ts";
import { ApplicationInitializationService } from "/src/lib/services/implementations/application/ApplicationInitializationService.ts";
import { CsvLoaderService } from "/src/lib/services/implementations/data/CsvLoaderService.ts";
import { SequenceDomainService } from "/src/lib/services/implementations/domain/SequenceDomainService.ts";
import { StartPositionService } from "/src/lib/services/implementations/domain/StartPositionService.ts";
import { DimensionCalculationService } from "/src/lib/services/implementations/image-export/DimensionCalculationService.ts";
import { ExportConfigurationManager } from "/src/lib/services/implementations/image-export/ExportConfigurationManager.ts";
import { ExportMemoryCalculator } from "/src/lib/services/implementations/image-export/ExportMemoryCalculator.ts";
import { ExportOptionsValidator } from "/src/lib/services/implementations/image-export/ExportOptionsValidator.ts";
import { LayoutCalculationService } from "/src/lib/services/implementations/image-export/LayoutCalculationService.ts";
import { BeatFrameService } from "/src/lib/services/implementations/layout/BeatFrameService.ts";
import { PositionMapper } from "/src/lib/services/implementations/movement/PositionMapper.ts";
import { FilterPersistenceService } from "/src/lib/services/implementations/persistence/FilterPersistenceService.ts";
import { LocalStoragePersistenceService } from "/src/lib/services/implementations/persistence/LocalStoragePersistenceService.ts";
import { BeatFallbackRenderingService } from "/src/lib/services/implementations/rendering/BeatFallbackRenderingService.ts";
import { ArrowRenderingService } from "/src/lib/services/implementations/rendering/ArrowRenderingService.ts";
import { BeatGridService } from "/src/lib/services/implementations/rendering/BeatGridService.ts";
import { GridRenderingService } from "/src/lib/services/implementations/rendering/GridRenderingService.ts";
import { OverlayRenderingService } from "/src/lib/services/implementations/rendering/OverlayRenderingService.ts";
import { SvgUtilityService } from "/src/lib/services/implementations/rendering/SvgUtilityService.ts";
import { SequenceImportService } from "/src/lib/services/implementations/sequence/SequenceImportService.ts";
import { ThumbnailService } from "/src/lib/services/implementations/export/ThumbnailService.ts";
import { NavigationService } from "/src/lib/services/implementations/navigation/NavigationService.ts";
import { BrowseService } from "/src/lib/services/implementations/browse/BrowseService.ts";
import { FavoritesService } from "/src/lib/services/implementations/browse/FavoritesService.ts";
function createContainer() {
  const container2 = new Container({
    defaultScope: "Singleton"
    // Most TKA services are singletons
  });
  container2.bind(TYPES.ISettingsService).to(SettingsService);
  container2.bind(TYPES.IEnumMappingService).to(EnumMappingService);
  container2.bind(TYPES.ICSVParsingService).to(CSVParserService);
  container2.bind(TYPES.IDataTransformationService).to(DataTransformationService);
  container2.bind(TYPES.IGridModeDeriver).to(GridModeDeriver);
  container2.bind(TYPES.ILetterDeriver).to(LetterDeriver);
  container2.bind(TYPES.IPictographValidatorService).to(PictographValidatorService);
  container2.bind(TYPES.IPositionPatternService).to(PositionPatternService);
  container2.bind(TYPES.ISvgConfiguration).to(SvgConfiguration);
  container2.bind(TYPES.IFilenameGeneratorService).to(FilenameGeneratorService);
  container2.bind(TYPES.IDeviceDetectionService).to(DeviceDetectionService);
  container2.bind(TYPES.IPersistenceService).to(LocalStoragePersistenceService);
  container2.bind(TYPES.ISequenceDomainService).to(SequenceDomainService);
  container2.bind(TYPES.IStartPositionService).to(StartPositionService);
  container2.bind(TYPES.IArrowAdjustmentCalculator).toDynamicValue(() => {
    const gridModeService = container2.get(
      TYPES.IGridModeDeriver
    );
    return new ArrowAdjustmentCalculator(gridModeService);
  });
  container2.bind(TYPES.ISvgUtilityService).to(SvgUtilityService);
  container2.bind(TYPES.IGridRenderingService).to(GridRenderingService);
  container2.bind(TYPES.IArrowRenderingService).to(ArrowRenderingService);
  container2.bind(TYPES.IOverlayRenderingService).to(OverlayRenderingService);
  container2.bind(TYPES.IFilterPersistenceService).to(FilterPersistenceService);
  container2.bind(
    TYPES.IApplicationInitializationService
  ).to(ApplicationInitializationService);
  container2.bind(TYPES.IExportMemoryCalculator).to(ExportMemoryCalculator);
  container2.bind(TYPES.IExportOptionsValidator).to(ExportOptionsValidator);
  container2.bind(TYPES.ICsvLoaderService).to(CsvLoaderService);
  container2.bind(TYPES.IBeatGridService).to(BeatGridService);
  container2.bind(TYPES.IExportConfigurationManager).to(ExportConfigurationManager);
  container2.bind(TYPES.IDimensionCalculationService).to(DimensionCalculationService);
  container2.bind(TYPES.ILayoutCalculationService).to(LayoutCalculationService);
  container2.bind(TYPES.IBeatFrameService).to(BeatFrameService);
  container2.bind(TYPES.IBeatFallbackRenderingService).to(BeatFallbackRenderingService);
  container2.bind(TYPES.IPositionMapper).to(PositionMapper);
  container2.bind(TYPES.IArrowPositioningService).to(ArrowPositioningService);
  container2.bind(TYPES.ISequenceImportService).to(SequenceImportService);
  container2.bind(TYPES.IThumbnailService).to(ThumbnailService);
  container2.bind(TYPES.INavigationService).to(NavigationService);
  container2.bind(TYPES.IBrowseService).to(BrowseService);
  container2.bind(TYPES.IFavoritesService).to(FavoritesService);
  return container2;
}
export const container = createContainer();
export function resolve(serviceType) {
  try {
    return container.get(serviceType);
  } catch (error) {
    console.error(`❌ Failed to resolve service:`, serviceType.toString());
    console.error(`❌ Error:`, error);
    const bindings = container.getAll(serviceType);
    console.error(
      `❌ Available bindings for ${serviceType.toString()}:`,
      bindings.length
    );
    throw error;
  }
}
export function isBound(serviceType) {
  return container.isBound(serviceType);
}
export function getContainerDebugInfo() {
  const boundServices = [];
  Object.entries(TYPES).forEach(([name, symbol]) => {
    if (container.isBound(symbol)) {
      boundServices.push(name);
    }
  });
  return {
    boundServices,
    serviceCount: boundServices.length
  };
}
export function validateContainer() {
  const missingServices = [];
  const boundServices = [];
  Object.entries(TYPES).forEach(([name, symbol]) => {
    if (container.isBound(symbol)) {
      boundServices.push(name);
    } else {
      missingServices.push(name);
    }
  });
  return {
    isValid: missingServices.length === 0,
    missingServices,
    boundServices
  };
}
export { container as inversifyContainer };
export { TYPES } from "/src/lib/services/inversify/types.ts";
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ludmVyc2lmeS9jb250YWluZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogSW52ZXJzaWZ5SlMgQ29udGFpbmVyIENvbmZpZ3VyYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgc2V0cyB1cCB0aGUgbWFpbiBJbnZlcnNpZnlKUyBjb250YWluZXIgYW5kIHByb3ZpZGVzXG4gKiB0aGUgc2VydmljZSByZXNvbHV0aW9uIGludGVyZmFjZSBmb3IgdGhlIFRLQSBhcHBsaWNhdGlvbi5cbiAqL1xuXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XG5pbXBvcnQgeyBUWVBFUyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8vIEltcG9ydCBzZXJ2aWNlIGludGVyZmFjZXMgKHRoZXNlIHdpbGwgYmUgYWRkZWQgYXMgd2UgY29udmVydCBzZXJ2aWNlcylcbmltcG9ydCB0eXBlIHtcbiAgSUFwcGxpY2F0aW9uSW5pdGlhbGl6YXRpb25TZXJ2aWNlLFxuICBJU2V0dGluZ3NTZXJ2aWNlLFxufSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcHBsaWNhdGlvbi1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElUaHVtYm5haWxTZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvYnJvd3NlLWludGVyZmFjZXNcIjtcbmltcG9ydCB0eXBlIHsgSU5hdmlnYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvYnJvd3NlLWludGVyZmFjZXNcIjtcbmltcG9ydCB0eXBlIHsgSUJyb3dzZVNlcnZpY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9icm93c2UtaW50ZXJmYWNlc1wiO1xuaW1wb3J0IHR5cGUgeyBJRmF2b3JpdGVzU2VydmljZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Jyb3dzZS1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElTZXF1ZW5jZUltcG9ydFNlcnZpY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9zZXF1ZW5jZS1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElCZWF0RmFsbGJhY2tSZW5kZXJpbmdTZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvYmVhdC1mYWxsYmFjay1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElCZWF0RnJhbWVTZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvYmVhdC1mcmFtZS1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElEZXZpY2VEZXRlY3Rpb25TZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvZGV2aWNlLWludGVyZmFjZXNcIjtcbmltcG9ydCB0eXBlIHsgSVBvc2l0aW9uTWFwcGVyIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvbW92ZW1lbnQvSVBvc2l0aW9uTWFwcGVyXCI7XG5cbi8vIEltcG9ydCBzZXJ2aWNlIGltcGxlbWVudGF0aW9ucyAodGhlc2Ugd2lsbCBiZSBhZGRlZCBhcyB3ZSBjb252ZXJ0IHNlcnZpY2VzKVxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0aW9uU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvYXBwbGljYXRpb24vRGV2aWNlRGV0ZWN0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgQ1NWUGFyc2VyU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZGF0YS9DU1ZQYXJzZXJTZXJ2aWNlXCI7XG5pbXBvcnQgeyBEYXRhVHJhbnNmb3JtYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9kYXRhL0RhdGFUcmFuc2Zvcm1hdGlvblNlcnZpY2VcIjtcbmltcG9ydCB7IEVudW1NYXBwaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZGF0YS9FbnVtTWFwcGluZ1NlcnZpY2VcIjtcbmltcG9ydCB7IEdyaWRNb2RlRGVyaXZlciB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZG9tYWluL0dyaWRNb2RlRGVyaXZlclwiO1xuaW1wb3J0IHsgTGV0dGVyRGVyaXZlciB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZG9tYWluL0xldHRlckRlcml2ZXJcIjtcbmltcG9ydCB7IFBpY3RvZ3JhcGhWYWxpZGF0b3JTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9kb21haW4vUGljdG9ncmFwaFZhbGlkYXRvclNlcnZpY2VcIjtcbmltcG9ydCB7IFBvc2l0aW9uUGF0dGVyblNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2RvbWFpbi9Qb3NpdGlvblBhdHRlcm5TZXJ2aWNlXCI7XG5pbXBvcnQgeyBGaWxlbmFtZUdlbmVyYXRvclNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2ltYWdlLWV4cG9ydC9GaWxlbmFtZUdlbmVyYXRvclNlcnZpY2VcIjtcbmltcG9ydCB7IFNldHRpbmdzU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcGVyc2lzdGVuY2UvU2V0dGluZ3NTZXJ2aWNlXCI7XG5pbXBvcnQgeyBBcnJvd1Bvc2l0aW9uaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcG9zaXRpb25pbmcvQXJyb3dQb3NpdGlvbmluZ1NlcnZpY2VcIjtcbmltcG9ydCB7IFN2Z0NvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL3JlbmRlcmluZy9TdmdDb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBBcnJvd0FkanVzdG1lbnRDYWxjdWxhdG9yIH0gZnJvbSBcIi4uL3Bvc2l0aW9uaW5nL2Fycm93cy9jYWxjdWxhdGlvbi9BcnJvd0FkanVzdG1lbnRDYWxjdWxhdG9yXCI7XG4vLyBJbXBvcnQgaW50ZXJmYWNlcyBmcm9tIGltcGxlbWVudGF0aW9uIGZpbGVzICh0aGV5J3JlIGRlZmluZWQgdGhlcmUpXG5pbXBvcnQgeyBBcHBsaWNhdGlvbkluaXRpYWxpemF0aW9uU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvYXBwbGljYXRpb24vQXBwbGljYXRpb25Jbml0aWFsaXphdGlvblNlcnZpY2VcIjtcbmltcG9ydCB0eXBlIHsgSUNzdkxvYWRlclNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2RhdGEvQ3N2TG9hZGVyU2VydmljZVwiO1xuaW1wb3J0IHsgQ3N2TG9hZGVyU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZGF0YS9Dc3ZMb2FkZXJTZXJ2aWNlXCI7XG5pbXBvcnQgdHlwZSB7IElDU1ZQYXJzZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9kYXRhL0NTVlBhcnNlclNlcnZpY2VcIjtcbmltcG9ydCB0eXBlIHsgSURhdGFUcmFuc2Zvcm1hdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2RhdGEvRGF0YVRyYW5zZm9ybWF0aW9uU2VydmljZVwiO1xuaW1wb3J0IHR5cGUgeyBJRW51bU1hcHBpbmdTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9kYXRhL0VudW1NYXBwaW5nU2VydmljZVwiO1xuaW1wb3J0IHR5cGUgeyBJTGV0dGVyRGVyaXZlciB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZG9tYWluL0xldHRlckRlcml2ZXJcIjtcbmltcG9ydCB7IFNlcXVlbmNlRG9tYWluU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvZG9tYWluL1NlcXVlbmNlRG9tYWluU2VydmljZVwiO1xuaW1wb3J0IHsgU3RhcnRQb3NpdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2RvbWFpbi9TdGFydFBvc2l0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlXCI7XG5pbXBvcnQgeyBFeHBvcnRDb25maWd1cmF0aW9uTWFuYWdlciB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvaW1hZ2UtZXhwb3J0L0V4cG9ydENvbmZpZ3VyYXRpb25NYW5hZ2VyXCI7XG5pbXBvcnQgeyBFeHBvcnRNZW1vcnlDYWxjdWxhdG9yIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9pbWFnZS1leHBvcnQvRXhwb3J0TWVtb3J5Q2FsY3VsYXRvclwiO1xuaW1wb3J0IHsgRXhwb3J0T3B0aW9uc1ZhbGlkYXRvciB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvaW1hZ2UtZXhwb3J0L0V4cG9ydE9wdGlvbnNWYWxpZGF0b3JcIjtcbmltcG9ydCB7IExheW91dENhbGN1bGF0aW9uU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvaW1hZ2UtZXhwb3J0L0xheW91dENhbGN1bGF0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgQmVhdEZyYW1lU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvbGF5b3V0L0JlYXRGcmFtZVNlcnZpY2VcIjtcbmltcG9ydCB7IFBvc2l0aW9uTWFwcGVyIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9tb3ZlbWVudC9Qb3NpdGlvbk1hcHBlclwiO1xuaW1wb3J0IHR5cGUgeyBJRmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9wZXJzaXN0ZW5jZS9GaWx0ZXJQZXJzaXN0ZW5jZVNlcnZpY2VcIjtcbmltcG9ydCB7IEZpbHRlclBlcnNpc3RlbmNlU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcGVyc2lzdGVuY2UvRmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlXCI7XG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2VQZXJzaXN0ZW5jZVNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL3BlcnNpc3RlbmNlL0xvY2FsU3RvcmFnZVBlcnNpc3RlbmNlU2VydmljZVwiO1xuaW1wb3J0IHsgQmVhdEZhbGxiYWNrUmVuZGVyaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcmVuZGVyaW5nL0JlYXRGYWxsYmFja1JlbmRlcmluZ1NlcnZpY2VcIjtcbi8vIFRPRE86IEJldGFPZmZzZXRDYWxjdWxhdG9yIGFuZCBPcmllbnRhdGlvbkNhbGN1bGF0aW9uU2VydmljZSBkb24ndCBoYXZlIGludGVyZmFjZXMgZGVmaW5lZFxuLy8gaW1wb3J0IHsgQmV0YU9mZnNldENhbGN1bGF0b3IgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL3Bvc2l0aW9uaW5nL0JldGFPZmZzZXRDYWxjdWxhdG9yXCI7XG4vLyBpbXBvcnQgeyBPcmllbnRhdGlvbkNhbGN1bGF0aW9uU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcG9zaXRpb25pbmcvT3JpZW50YXRpb25DYWxjdWxhdGlvblNlcnZpY2VcIjtcbmltcG9ydCB7IEFycm93UmVuZGVyaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcmVuZGVyaW5nL0Fycm93UmVuZGVyaW5nU2VydmljZVwiO1xuaW1wb3J0IHsgQmVhdEdyaWRTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9yZW5kZXJpbmcvQmVhdEdyaWRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBHcmlkUmVuZGVyaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcmVuZGVyaW5nL0dyaWRSZW5kZXJpbmdTZXJ2aWNlXCI7XG5pbXBvcnQgeyBPdmVybGF5UmVuZGVyaW5nU2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvcmVuZGVyaW5nL092ZXJsYXlSZW5kZXJpbmdTZXJ2aWNlXCI7XG5pbXBvcnQgdHlwZSB7IElTdmdDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9yZW5kZXJpbmcvU3ZnQ29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHR5cGUgeyBJU3ZnVXRpbGl0eVNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL3JlbmRlcmluZy9TdmdVdGlsaXR5U2VydmljZVwiO1xuaW1wb3J0IHsgU3ZnVXRpbGl0eVNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL3JlbmRlcmluZy9TdmdVdGlsaXR5U2VydmljZVwiO1xuaW1wb3J0IHR5cGUgeyBJU3RhcnRQb3NpdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcHBsaWNhdGlvbi1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElCZWF0R3JpZFNlcnZpY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9iZWF0LWdyaWQtaW50ZXJmYWNlc1wiO1xuaW1wb3J0IHR5cGUge1xuICBJUGljdG9ncmFwaFZhbGlkYXRvclNlcnZpY2UsXG4gIElQb3NpdGlvblBhdHRlcm5TZXJ2aWNlLFxufSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9nZW5lcmF0aW9uLWludGVyZmFjZXNcIjtcbmltcG9ydCB0eXBlIHtcbiAgSURpbWVuc2lvbkNhbGN1bGF0aW9uU2VydmljZSxcbiAgSUV4cG9ydENvbmZpZ3VyYXRpb25NYW5hZ2VyLFxuICBJRXhwb3J0TWVtb3J5Q2FsY3VsYXRvcixcbiAgSUV4cG9ydE9wdGlvbnNWYWxpZGF0b3IsXG4gIElGaWxlbmFtZUdlbmVyYXRvclNlcnZpY2UsXG4gIElMYXlvdXRDYWxjdWxhdGlvblNlcnZpY2UsXG59IGZyb20gXCIuLi9pbnRlcmZhY2VzL2ltYWdlLWV4cG9ydC1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElHcmlkTW9kZURlcml2ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb3ZlbWVudC9JR3JpZE1vZGVEZXJpdmVyXCI7XG5pbXBvcnQgdHlwZSB7XG4gIElBcnJvd1JlbmRlcmluZ1NlcnZpY2UsXG4gIElHcmlkUmVuZGVyaW5nU2VydmljZSxcbiAgSU92ZXJsYXlSZW5kZXJpbmdTZXJ2aWNlLFxufSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9waWN0b2dyYXBoLWludGVyZmFjZXNcIjtcbmltcG9ydCB0eXBlIHsgSUFycm93UG9zaXRpb25pbmdTZXJ2aWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvcG9zaXRpb25pbmctaW50ZXJmYWNlc1wiO1xuaW1wb3J0IHR5cGUge1xuICBJUGVyc2lzdGVuY2VTZXJ2aWNlLFxuICBJU2VxdWVuY2VEb21haW5TZXJ2aWNlLFxufSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9zZXF1ZW5jZS1pbnRlcmZhY2VzXCI7XG5pbXBvcnQgdHlwZSB7IElBcnJvd0FkanVzdG1lbnRDYWxjdWxhdG9yIH0gZnJvbSBcIi4uL3Bvc2l0aW9uaW5nL2NvcmUtc2VydmljZXNcIjtcbmltcG9ydCB7IFNlcXVlbmNlSW1wb3J0U2VydmljZSB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbnMvc2VxdWVuY2UvU2VxdWVuY2VJbXBvcnRTZXJ2aWNlLnRzXCI7XG5pbXBvcnQgeyBUaHVtYm5haWxTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9leHBvcnQvVGh1bWJuYWlsU2VydmljZS50c1wiO1xuaW1wb3J0IHsgTmF2aWdhdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL25hdmlnYXRpb24vTmF2aWdhdGlvblNlcnZpY2UudHNcIjtcbmltcG9ydCB7IEJyb3dzZVNlcnZpY2UgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb25zL2Jyb3dzZS9Ccm93c2VTZXJ2aWNlLnRzXCI7XG5pbXBvcnQgeyBGYXZvcml0ZXNTZXJ2aWNlIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9icm93c2UvRmF2b3JpdGVzU2VydmljZS50c1wiO1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgY29uZmlndXJlIHRoZSBJbnZlcnNpZnlKUyBjb250YWluZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKCk6IENvbnRhaW5lciB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoe1xuICAgIGRlZmF1bHRTY29wZTogXCJTaW5nbGV0b25cIiwgLy8gTW9zdCBUS0Egc2VydmljZXMgYXJlIHNpbmdsZXRvbnNcbiAgfSk7XG5cbiAgLy8gQmluZCBjb252ZXJ0ZWQgc2VydmljZXNcbiAgY29udGFpbmVyLmJpbmQ8SVNldHRpbmdzU2VydmljZT4oVFlQRVMuSVNldHRpbmdzU2VydmljZSkudG8oU2V0dGluZ3NTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUVudW1NYXBwaW5nU2VydmljZT4oVFlQRVMuSUVudW1NYXBwaW5nU2VydmljZSlcbiAgICAudG8oRW51bU1hcHBpbmdTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUNTVlBhcnNlclNlcnZpY2U+KFRZUEVTLklDU1ZQYXJzaW5nU2VydmljZSlcbiAgICAudG8oQ1NWUGFyc2VyU2VydmljZSk7XG4gIGNvbnRhaW5lclxuICAgIC5iaW5kPElEYXRhVHJhbnNmb3JtYXRpb25TZXJ2aWNlPihUWVBFUy5JRGF0YVRyYW5zZm9ybWF0aW9uU2VydmljZSlcbiAgICAudG8oRGF0YVRyYW5zZm9ybWF0aW9uU2VydmljZSk7XG4gIC8vIFRPRE86IExldHRlclF1ZXJ5U2VydmljZSBhbmQgTW90aW9uUXVlcnlTZXJ2aWNlIGhhdmUgZGVwZW5kZW5jaWVzIC0gY29udmVydCBsYXRlclxuICAvLyBjb250YWluZXJcbiAgLy8gICAuYmluZDxJTGV0dGVyUXVlcnlTZXJ2aWNlPihUWVBFUy5JTGV0dGVyUXVlcnlTZXJ2aWNlKVxuICAvLyAgIC50byhMZXR0ZXJRdWVyeVNlcnZpY2UpO1xuICAvLyBjb250YWluZXJcbiAgLy8gICAuYmluZDxJTW90aW9uUXVlcnlTZXJ2aWNlPihUWVBFUy5JTW90aW9uUXVlcnlTZXJ2aWNlKVxuICAvLyAgIC50byhNb3Rpb25RdWVyeVNlcnZpY2UpO1xuICBjb250YWluZXIuYmluZDxJR3JpZE1vZGVEZXJpdmVyPihUWVBFUy5JR3JpZE1vZGVEZXJpdmVyKS50byhHcmlkTW9kZURlcml2ZXIpO1xuICBjb250YWluZXIuYmluZDxJTGV0dGVyRGVyaXZlcj4oVFlQRVMuSUxldHRlckRlcml2ZXIpLnRvKExldHRlckRlcml2ZXIpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJUGljdG9ncmFwaFZhbGlkYXRvclNlcnZpY2U+KFRZUEVTLklQaWN0b2dyYXBoVmFsaWRhdG9yU2VydmljZSlcbiAgICAudG8oUGljdG9ncmFwaFZhbGlkYXRvclNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJUG9zaXRpb25QYXR0ZXJuU2VydmljZT4oVFlQRVMuSVBvc2l0aW9uUGF0dGVyblNlcnZpY2UpXG4gICAgLnRvKFBvc2l0aW9uUGF0dGVyblNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJU3ZnQ29uZmlndXJhdGlvbj4oVFlQRVMuSVN2Z0NvbmZpZ3VyYXRpb24pXG4gICAgLnRvKFN2Z0NvbmZpZ3VyYXRpb24pO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJRmlsZW5hbWVHZW5lcmF0b3JTZXJ2aWNlPihUWVBFUy5JRmlsZW5hbWVHZW5lcmF0b3JTZXJ2aWNlKVxuICAgIC50byhGaWxlbmFtZUdlbmVyYXRvclNlcnZpY2UpO1xuICAvLyBUT0RPOiBFeHBvcnRPcHRpb25zVmFsaWRhdG9yIGhhcyBkZXBlbmRlbmNpZXMgLSBjb252ZXJ0IGxhdGVyXG4gIC8vIGNvbnRhaW5lclxuICAvLyAgIC5iaW5kPElFeHBvcnRPcHRpb25zVmFsaWRhdG9yPihUWVBFUy5JRXhwb3J0T3B0aW9uc1ZhbGlkYXRvcilcbiAgLy8gICAudG8oRXhwb3J0T3B0aW9uc1ZhbGlkYXRvcik7XG4gIGNvbnRhaW5lclxuICAgIC5iaW5kPElEZXZpY2VEZXRlY3Rpb25TZXJ2aWNlPihUWVBFUy5JRGV2aWNlRGV0ZWN0aW9uU2VydmljZSlcbiAgICAudG8oRGV2aWNlRGV0ZWN0aW9uU2VydmljZSk7XG5cbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SVBlcnNpc3RlbmNlU2VydmljZT4oVFlQRVMuSVBlcnNpc3RlbmNlU2VydmljZSlcbiAgICAudG8oTG9jYWxTdG9yYWdlUGVyc2lzdGVuY2VTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SVNlcXVlbmNlRG9tYWluU2VydmljZT4oVFlQRVMuSVNlcXVlbmNlRG9tYWluU2VydmljZSlcbiAgICAudG8oU2VxdWVuY2VEb21haW5TZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SVN0YXJ0UG9zaXRpb25TZXJ2aWNlPihUWVBFUy5JU3RhcnRQb3NpdGlvblNlcnZpY2UpXG4gICAgLnRvKFN0YXJ0UG9zaXRpb25TZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUFycm93QWRqdXN0bWVudENhbGN1bGF0b3I+KFRZUEVTLklBcnJvd0FkanVzdG1lbnRDYWxjdWxhdG9yKVxuICAgIC50b0R5bmFtaWNWYWx1ZSgoKSA9PiB7XG4gICAgICBjb25zdCBncmlkTW9kZVNlcnZpY2UgPSBjb250YWluZXIuZ2V0PElHcmlkTW9kZURlcml2ZXI+KFxuICAgICAgICBUWVBFUy5JR3JpZE1vZGVEZXJpdmVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBBcnJvd0FkanVzdG1lbnRDYWxjdWxhdG9yKGdyaWRNb2RlU2VydmljZSk7XG4gICAgfSk7XG5cbiAgLy8gVE9ETzogUGljdG9ncmFwaFNlcnZpY2UgaGFzIGRlcGVuZGVuY2llcyAtIGNvbnZlcnQgbGF0ZXJcbiAgLy8gY29udGFpbmVyXG4gIC8vICAgLmJpbmQ8SVBpY3RvZ3JhcGhTZXJ2aWNlPihUWVBFUy5JUGljdG9ncmFwaFNlcnZpY2UpXG4gIC8vICAgLnRvKFBpY3RvZ3JhcGhTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SVN2Z1V0aWxpdHlTZXJ2aWNlPihUWVBFUy5JU3ZnVXRpbGl0eVNlcnZpY2UpXG4gICAgLnRvKFN2Z1V0aWxpdHlTZXJ2aWNlKTtcblxuICBjb250YWluZXJcbiAgICAuYmluZDxJR3JpZFJlbmRlcmluZ1NlcnZpY2U+KFRZUEVTLklHcmlkUmVuZGVyaW5nU2VydmljZSlcbiAgICAudG8oR3JpZFJlbmRlcmluZ1NlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJQXJyb3dSZW5kZXJpbmdTZXJ2aWNlPihUWVBFUy5JQXJyb3dSZW5kZXJpbmdTZXJ2aWNlKVxuICAgIC50byhBcnJvd1JlbmRlcmluZ1NlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJT3ZlcmxheVJlbmRlcmluZ1NlcnZpY2U+KFRZUEVTLklPdmVybGF5UmVuZGVyaW5nU2VydmljZSlcbiAgICAudG8oT3ZlcmxheVJlbmRlcmluZ1NlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJRmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlPihUWVBFUy5JRmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlKVxuICAgIC50byhGaWx0ZXJQZXJzaXN0ZW5jZVNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJQXBwbGljYXRpb25Jbml0aWFsaXphdGlvblNlcnZpY2U+KFxuICAgICAgVFlQRVMuSUFwcGxpY2F0aW9uSW5pdGlhbGl6YXRpb25TZXJ2aWNlXG4gICAgKVxuICAgIC50byhBcHBsaWNhdGlvbkluaXRpYWxpemF0aW9uU2VydmljZSk7XG5cbiAgLy8gVE9ETzogUGljdG9ncmFwaFJlbmRlcmluZ1NlcnZpY2UgaGFzIHVuY29udmVydGVkIGRlcGVuZGVuY2llcyAtIGNvbnZlcnQgbGF0ZXJcbiAgLy8gY29udGFpbmVyXG4gIC8vICAgLmJpbmQ8SVBpY3RvZ3JhcGhSZW5kZXJpbmdTZXJ2aWNlPihUWVBFUy5JUGljdG9ncmFwaFJlbmRlcmluZ1NlcnZpY2UpXG4gIC8vICAgLnRvKFBpY3RvZ3JhcGhSZW5kZXJpbmdTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUV4cG9ydE1lbW9yeUNhbGN1bGF0b3I+KFRZUEVTLklFeHBvcnRNZW1vcnlDYWxjdWxhdG9yKVxuICAgIC50byhFeHBvcnRNZW1vcnlDYWxjdWxhdG9yKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUV4cG9ydE9wdGlvbnNWYWxpZGF0b3I+KFRZUEVTLklFeHBvcnRPcHRpb25zVmFsaWRhdG9yKVxuICAgIC50byhFeHBvcnRPcHRpb25zVmFsaWRhdG9yKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUNzdkxvYWRlclNlcnZpY2U+KFRZUEVTLklDc3ZMb2FkZXJTZXJ2aWNlKVxuICAgIC50byhDc3ZMb2FkZXJTZXJ2aWNlKTtcbiAgY29udGFpbmVyLmJpbmQ8SUJlYXRHcmlkU2VydmljZT4oVFlQRVMuSUJlYXRHcmlkU2VydmljZSkudG8oQmVhdEdyaWRTZXJ2aWNlKTtcbiAgY29udGFpbmVyXG4gICAgLmJpbmQ8SUV4cG9ydENvbmZpZ3VyYXRpb25NYW5hZ2VyPihUWVBFUy5JRXhwb3J0Q29uZmlndXJhdGlvbk1hbmFnZXIpXG4gICAgLnRvKEV4cG9ydENvbmZpZ3VyYXRpb25NYW5hZ2VyKTtcblxuICBjb250YWluZXJcbiAgICAuYmluZDxJRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlPihUWVBFUy5JRGltZW5zaW9uQ2FsY3VsYXRpb25TZXJ2aWNlKVxuICAgIC50byhEaW1lbnNpb25DYWxjdWxhdGlvblNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlPihUWVBFUy5JTGF5b3V0Q2FsY3VsYXRpb25TZXJ2aWNlKVxuICAgIC50byhMYXlvdXRDYWxjdWxhdGlvblNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJQmVhdEZyYW1lU2VydmljZT4oVFlQRVMuSUJlYXRGcmFtZVNlcnZpY2UpXG4gICAgLnRvKEJlYXRGcmFtZVNlcnZpY2UpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJQmVhdEZhbGxiYWNrUmVuZGVyaW5nU2VydmljZT4oVFlQRVMuSUJlYXRGYWxsYmFja1JlbmRlcmluZ1NlcnZpY2UpXG4gICAgLnRvKEJlYXRGYWxsYmFja1JlbmRlcmluZ1NlcnZpY2UpO1xuICBjb250YWluZXIuYmluZDxJUG9zaXRpb25NYXBwZXI+KFRZUEVTLklQb3NpdGlvbk1hcHBlcikudG8oUG9zaXRpb25NYXBwZXIpO1xuICBjb250YWluZXJcbiAgICAuYmluZDxJQXJyb3dQb3NpdGlvbmluZ1NlcnZpY2U+KFRZUEVTLklBcnJvd1Bvc2l0aW9uaW5nU2VydmljZSlcbiAgICAudG8oQXJyb3dQb3NpdGlvbmluZ1NlcnZpY2UpO1xuICAvLyBUT0RPOiBBZGQgYmluZGluZ3MgZm9yIEJldGFPZmZzZXRDYWxjdWxhdG9yIGFuZCBPcmllbnRhdGlvbkNhbGN1bGF0aW9uU2VydmljZSB3aGVuIGludGVyZmFjZXMgYXJlIGRlZmluZWRcblxuICAgIGNvbnRhaW5lci5iaW5kPElTZXF1ZW5jZUltcG9ydFNlcnZpY2U+KFRZUEVTLklTZXF1ZW5jZUltcG9ydFNlcnZpY2UpLnRvKFNlcXVlbmNlSW1wb3J0U2VydmljZSk7XG5cbiAgICBjb250YWluZXIuYmluZDxJVGh1bWJuYWlsU2VydmljZT4oVFlQRVMuSVRodW1ibmFpbFNlcnZpY2UpLnRvKFRodW1ibmFpbFNlcnZpY2UpO1xuICBjb250YWluZXIuYmluZDxJTmF2aWdhdGlvblNlcnZpY2U+KFRZUEVTLklOYXZpZ2F0aW9uU2VydmljZSkudG8oTmF2aWdhdGlvblNlcnZpY2UpO1xuICBjb250YWluZXIuYmluZDxJQnJvd3NlU2VydmljZT4oVFlQRVMuSUJyb3dzZVNlcnZpY2UpLnRvKEJyb3dzZVNlcnZpY2UpO1xuICBjb250YWluZXIuYmluZDxJRmF2b3JpdGVzU2VydmljZT4oVFlQRVMuSUZhdm9yaXRlc1NlcnZpY2UpLnRvKEZhdm9yaXRlc1NlcnZpY2UpO1xuXG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8vIENyZWF0ZSB0aGUgZ2xvYmFsIGNvbnRhaW5lciBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcigpO1xuXG4vKipcbiAqIFJlc29sdmUgYSBzZXJ2aWNlIGZyb20gdGhlIGNvbnRhaW5lclxuICogVGhpcyByZXBsYWNlcyB0aGUgb2xkIHJlc29sdmUoKSBmdW5jdGlvbiBmcm9tIGJvb3RzdHJhcC50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZTxUPihzZXJ2aWNlVHlwZTogc3ltYm9sKTogVCB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5nZXQ8VD4oc2VydmljZVR5cGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gcmVzb2x2ZSBzZXJ2aWNlOmAsIHNlcnZpY2VUeXBlLnRvU3RyaW5nKCkpO1xuICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvcjpgLCBlcnJvcik7XG5cbiAgICAvLyBMb2cgYXZhaWxhYmxlIHNlcnZpY2VzIGZvciBkZWJ1Z2dpbmdcbiAgICBjb25zdCBiaW5kaW5ncyA9IGNvbnRhaW5lci5nZXRBbGwoc2VydmljZVR5cGUpO1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBg4p2MIEF2YWlsYWJsZSBiaW5kaW5ncyBmb3IgJHtzZXJ2aWNlVHlwZS50b1N0cmluZygpfTpgLFxuICAgICAgYmluZGluZ3MubGVuZ3RoXG4gICAgKTtcblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBzZXJ2aWNlIGlzIGJvdW5kIGluIHRoZSBjb250YWluZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQm91bmQoc2VydmljZVR5cGU6IHN5bWJvbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29udGFpbmVyLmlzQm91bmQoc2VydmljZVR5cGUpO1xufVxuXG4vKipcbiAqIEdldCBjb250YWluZXIgZGVidWcgaW5mb3JtYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRhaW5lckRlYnVnSW5mbygpOiB7XG4gIGJvdW5kU2VydmljZXM6IHN0cmluZ1tdO1xuICBzZXJ2aWNlQ291bnQ6IG51bWJlcjtcbn0ge1xuICAvLyBHZXQgYWxsIGJvdW5kIHNlcnZpY2UgaWRlbnRpZmllcnNcbiAgY29uc3QgYm91bmRTZXJ2aWNlczogc3RyaW5nW10gPSBbXTtcblxuICAvLyBJbnZlcnNpZnlKUyBkb2Vzbid0IHByb3ZpZGUgYSBkaXJlY3Qgd2F5IHRvIGdldCBhbGwgYmluZGluZ3MsXG4gIC8vIHNvIHdlJ2xsIGNoZWNrIG91ciBrbm93biB0eXBlc1xuICBPYmplY3QuZW50cmllcyhUWVBFUykuZm9yRWFjaCgoW25hbWUsIHN5bWJvbF0pID0+IHtcbiAgICBpZiAoY29udGFpbmVyLmlzQm91bmQoc3ltYm9sKSkge1xuICAgICAgYm91bmRTZXJ2aWNlcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBib3VuZFNlcnZpY2VzLFxuICAgIHNlcnZpY2VDb3VudDogYm91bmRTZXJ2aWNlcy5sZW5ndGgsXG4gIH07XG59XG5cbi8qKlxuICogVmFsaWRhdGUgY29udGFpbmVyIGNvbmZpZ3VyYXRpb25cbiAqIFRoaXMgaGVscHMgZW5zdXJlIGFsbCBleHBlY3RlZCBzZXJ2aWNlcyBhcmUgcHJvcGVybHkgYm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ29udGFpbmVyKCk6IHtcbiAgaXNWYWxpZDogYm9vbGVhbjtcbiAgbWlzc2luZ1NlcnZpY2VzOiBzdHJpbmdbXTtcbiAgYm91bmRTZXJ2aWNlczogc3RyaW5nW107XG59IHtcbiAgY29uc3QgbWlzc2luZ1NlcnZpY2VzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBib3VuZFNlcnZpY2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIE9iamVjdC5lbnRyaWVzKFRZUEVTKS5mb3JFYWNoKChbbmFtZSwgc3ltYm9sXSkgPT4ge1xuICAgIGlmIChjb250YWluZXIuaXNCb3VuZChzeW1ib2wpKSB7XG4gICAgICBib3VuZFNlcnZpY2VzLnB1c2gobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NpbmdTZXJ2aWNlcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBtaXNzaW5nU2VydmljZXMubGVuZ3RoID09PSAwLFxuICAgIG1pc3NpbmdTZXJ2aWNlcyxcbiAgICBib3VuZFNlcnZpY2VzLFxuICB9O1xufVxuXG4vLyBFeHBvcnQgdGhlIGNvbnRhaW5lciBmb3IgZGlyZWN0IGFjY2VzcyB3aGVuIG5lZWRlZFxuZXhwb3J0IHsgY29udGFpbmVyIGFzIGludmVyc2lmeUNvbnRhaW5lciB9O1xuXG4vLyBFeHBvcnQgdHlwZXMgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgeyBUWVBFUyB9IGZyb20gXCIuL3R5cGVzXCI7XG4iXSwKICAibWFwcGluZ3MiOiAiQUFPQSxTQUFTLGlCQUFpQjtBQUMxQixPQUFPO0FBQ1AsU0FBUyxhQUFhO0FBa0J0QixTQUFTLDhCQUE4QjtBQUN2QyxTQUFTLHdCQUF3QjtBQUNqQyxTQUFTLGlDQUFpQztBQUMxQyxTQUFTLDBCQUEwQjtBQUNuQyxTQUFTLHVCQUF1QjtBQUNoQyxTQUFTLHFCQUFxQjtBQUM5QixTQUFTLGtDQUFrQztBQUMzQyxTQUFTLDhCQUE4QjtBQUN2QyxTQUFTLGdDQUFnQztBQUN6QyxTQUFTLHVCQUF1QjtBQUNoQyxTQUFTLCtCQUErQjtBQUN4QyxTQUFTLHdCQUF3QjtBQUNqQyxTQUFTLGlDQUFpQztBQUUxQyxTQUFTLHdDQUF3QztBQUVqRCxTQUFTLHdCQUF3QjtBQUtqQyxTQUFTLDZCQUE2QjtBQUN0QyxTQUFTLDRCQUE0QjtBQUNyQyxTQUFTLG1DQUFtQztBQUM1QyxTQUFTLGtDQUFrQztBQUMzQyxTQUFTLDhCQUE4QjtBQUN2QyxTQUFTLDhCQUE4QjtBQUN2QyxTQUFTLGdDQUFnQztBQUN6QyxTQUFTLHdCQUF3QjtBQUNqQyxTQUFTLHNCQUFzQjtBQUUvQixTQUFTLGdDQUFnQztBQUN6QyxTQUFTLHNDQUFzQztBQUMvQyxTQUFTLG9DQUFvQztBQUk3QyxTQUFTLDZCQUE2QjtBQUN0QyxTQUFTLHVCQUF1QjtBQUNoQyxTQUFTLDRCQUE0QjtBQUNyQyxTQUFTLCtCQUErQjtBQUd4QyxT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
