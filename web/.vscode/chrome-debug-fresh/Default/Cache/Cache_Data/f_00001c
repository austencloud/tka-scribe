var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
import { injectable } from "/node_modules/.vite/deps/inversify.js?v=608ae08a";
import { createMotionData, createPictographData } from "/src/lib/domain/index.ts";
import {
  GridMode,
  Location,
  MotionColor,
  MotionType,
  Orientation,
  PropType,
  RotationDirection
} from "/src/lib/domain/enums.ts";
import { PngMetadataExtractor } from "/src/lib/utils/png-metadata-extractor.ts";
export let SequenceImportService = class {
  /**
   * Import sequence from PNG metadata
   */
  async importFromPNG(id) {
    console.log(`ðŸŽ¬ Loading sequence from PNG metadata for ID: ${id}`);
    try {
      const pngMetadata = await PngMetadataExtractor.extractSequenceMetadata(
        id.toUpperCase()
      );
      if (!pngMetadata || pngMetadata.length === 0) {
        console.error(`No metadata found in PNG for sequence: ${id}`);
        return null;
      }
      const sequence = await this.convertPngMetadata(id, pngMetadata);
      console.log(`âœ… Loaded real sequence data from PNG for ${id}`);
      return sequence;
    } catch (error) {
      console.error(`Failed to load PNG metadata for ${id}:`, error);
      throw new Error(
        `No PNG metadata found for sequence ${id}. Please ensure the sequence has a valid PNG thumbnail with embedded metadata.`
      );
    }
  }
  /**
   * Convert PNG metadata to SequenceData format
   */
  async convertPngMetadata(id, pngMetadata) {
    console.log(`ðŸ”„ Converting standalone data to web app format for ${id}`);
    const meta = pngMetadata[0];
    const steps = pngMetadata.slice(1);
    const beats = steps.filter((step) => typeof step.beat === "number" && step.beat > 0).map((step) => ({
      id: `${step.beat}-${step.letter}`,
      beatNumber: step.beat,
      duration: 1,
      blueReversal: false,
      redReversal: false,
      isBlank: false,
      pictographData: createPictographData({
        id: `pictograph-${step.beat}`,
        motions: {
          blue: createMotionData({
            color: MotionColor.BLUE,
            motionType: step.blueAttributes?.motionType || MotionType.STATIC,
            startLocation: step.blueAttributes?.startLocation || Location.SOUTH,
            endLocation: step.blueAttributes?.endLocation || Location.SOUTH,
            startOrientation: step.blueAttributes?.startOrientation || Orientation.IN,
            endOrientation: step.blueAttributes?.endOrientation || Orientation.IN,
            rotationDirection: step.blueAttributes?.rotationDirection || RotationDirection.NO_ROTATION,
            turns: step.blueAttributes?.turns || 0,
            isVisible: true,
            propType: PropType.STAFF,
            arrowLocation: step.blueAttributes?.startLocation || Location.SOUTH
          }),
          red: createMotionData({
            color: MotionColor.RED,
            motionType: step.redAttributes?.motionType || MotionType.STATIC,
            startLocation: step.redAttributes?.startLocation || Location.SOUTH,
            endLocation: step.redAttributes?.endLocation || Location.SOUTH,
            startOrientation: step.redAttributes?.startOrientation || Orientation.IN,
            endOrientation: step.redAttributes?.endOrientation || Orientation.IN,
            rotationDirection: step.redAttributes?.rotationDirection || RotationDirection.NO_ROTATION,
            turns: step.redAttributes?.turns || 0,
            isVisible: true,
            propType: PropType.STAFF,
            arrowLocation: step.redAttributes?.startLocation || Location.SOUTH
          })
        },
        letter: step.letter || null
      }),
      metadata: {}
    }));
    console.log(`âœ… Converted to web app format: ${beats.length} beats`);
    return {
      id,
      name: meta.word || id.toUpperCase(),
      word: meta.word || id.toUpperCase(),
      beats,
      thumbnails: [`${id.toUpperCase()}_ver1.png`],
      sequenceLength: beats.length,
      author: meta.author || "Unknown",
      level: meta.level || 1,
      dateAdded: new Date(meta.dateAdded || Date.now()),
      gridMode: meta.gridMode || GridMode.DIAMOND,
      propType: meta.propType || PropType.FAN,
      isFavorite: meta.isFavorite || false,
      isCircular: meta.isCircular || false,
      // startingPosition: TODO - needs to be BeatData, not string
      difficultyLevel: this.mapLevelToDifficulty(meta.level || 1),
      tags: ["flow", "practice"],
      metadata: {
        source: "png_metadata",
        extracted_at: (/* @__PURE__ */ new Date()).toISOString(),
        ...meta
      }
    };
  }
  /**
   * Map numeric level to difficulty string
   */
  mapLevelToDifficulty(level) {
    if (level <= 1) return "beginner";
    if (level <= 2) return "intermediate";
    return "advanced";
  }
};
SequenceImportService = __decorateClass([
  injectable()
], SequenceImportService);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9zZXF1ZW5jZS9TZXF1ZW5jZUltcG9ydFNlcnZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogU2VxdWVuY2UgSW1wb3J0IFNlcnZpY2VcbiAqXG4gKiBIYW5kbGVzIGltcG9ydGluZyBzZXF1ZW5jZSBkYXRhIGZyb20gZXh0ZXJuYWwgc291cmNlcyBsaWtlIFBORyBtZXRhZGF0YS5cbiAqIFNlcGFyYXRlIGZyb20gY29yZSBzZXF1ZW5jZSBDUlVEIG9wZXJhdGlvbnMgYW5kIGZvY3VzZWQgb24gZGF0YSB0cmFuc2Zvcm1hdGlvbi5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IEJlYXREYXRhLCBMZXR0ZXIsIFNlcXVlbmNlRGF0YSB9IGZyb20gXCIkbGliL2RvbWFpblwiO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCB7IGNyZWF0ZU1vdGlvbkRhdGEsIGNyZWF0ZVBpY3RvZ3JhcGhEYXRhIH0gZnJvbSBcIiRsaWIvZG9tYWluXCI7XG5pbXBvcnQge1xuICBHcmlkTW9kZSxcbiAgTG9jYXRpb24sXG4gIE1vdGlvbkNvbG9yLFxuICBNb3Rpb25UeXBlLFxuICBPcmllbnRhdGlvbixcbiAgUHJvcFR5cGUsXG4gIFJvdGF0aW9uRGlyZWN0aW9uLFxufSBmcm9tIFwiJGxpYi9kb21haW4vZW51bXNcIjtcbmltcG9ydCB7IFBuZ01ldGFkYXRhRXh0cmFjdG9yIH0gZnJvbSBcIiRsaWIvdXRpbHMvcG5nLW1ldGFkYXRhLWV4dHJhY3RvclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTZXF1ZW5jZUltcG9ydFNlcnZpY2Uge1xuICBpbXBvcnRGcm9tUE5HKGlkOiBzdHJpbmcpOiBQcm9taXNlPFNlcXVlbmNlRGF0YSB8IG51bGw+O1xuICBjb252ZXJ0UG5nTWV0YWRhdGEoaWQ6IHN0cmluZywgbWV0YWRhdGE6IHVua25vd25bXSk6IFByb21pc2U8U2VxdWVuY2VEYXRhPjtcbn1cblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNlcXVlbmNlSW1wb3J0U2VydmljZSBpbXBsZW1lbnRzIElTZXF1ZW5jZUltcG9ydFNlcnZpY2Uge1xuICAvKipcbiAgICogSW1wb3J0IHNlcXVlbmNlIGZyb20gUE5HIG1ldGFkYXRhXG4gICAqL1xuICBhc3luYyBpbXBvcnRGcm9tUE5HKGlkOiBzdHJpbmcpOiBQcm9taXNlPFNlcXVlbmNlRGF0YSB8IG51bGw+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OrCBMb2FkaW5nIHNlcXVlbmNlIGZyb20gUE5HIG1ldGFkYXRhIGZvciBJRDogJHtpZH1gKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBFeHRyYWN0IG1ldGFkYXRhIGZyb20gUE5HIGZpbGUgdXNpbmcgdGhlIHJlbGlhYmxlIGV4dHJhY3RvclxuICAgICAgY29uc3QgcG5nTWV0YWRhdGEgPSBhd2FpdCBQbmdNZXRhZGF0YUV4dHJhY3Rvci5leHRyYWN0U2VxdWVuY2VNZXRhZGF0YShcbiAgICAgICAgaWQudG9VcHBlckNhc2UoKVxuICAgICAgKTtcblxuICAgICAgaWYgKCFwbmdNZXRhZGF0YSB8fCBwbmdNZXRhZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTm8gbWV0YWRhdGEgZm91bmQgaW4gUE5HIGZvciBzZXF1ZW5jZTogJHtpZH1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgUE5HIG1ldGFkYXRhIHRvIHdlYiBhcHAgZm9ybWF0XG4gICAgICBjb25zdCBzZXF1ZW5jZSA9IGF3YWl0IHRoaXMuY29udmVydFBuZ01ldGFkYXRhKGlkLCBwbmdNZXRhZGF0YSk7XG4gICAgICBjb25zb2xlLmxvZyhg4pyFIExvYWRlZCByZWFsIHNlcXVlbmNlIGRhdGEgZnJvbSBQTkcgZm9yICR7aWR9YCk7XG4gICAgICByZXR1cm4gc2VxdWVuY2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIFBORyBtZXRhZGF0YSBmb3IgJHtpZH06YCwgZXJyb3IpO1xuICAgICAgLy8gTm8gZmFsbGJhY2sgLSBsZXQgdGhlIGVycm9yIGJ1YmJsZSB1cFxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTm8gUE5HIG1ldGFkYXRhIGZvdW5kIGZvciBzZXF1ZW5jZSAke2lkfS4gUGxlYXNlIGVuc3VyZSB0aGUgc2VxdWVuY2UgaGFzIGEgdmFsaWQgUE5HIHRodW1ibmFpbCB3aXRoIGVtYmVkZGVkIG1ldGFkYXRhLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgUE5HIG1ldGFkYXRhIHRvIFNlcXVlbmNlRGF0YSBmb3JtYXRcbiAgICovXG4gIGFzeW5jIGNvbnZlcnRQbmdNZXRhZGF0YShcbiAgICBpZDogc3RyaW5nLFxuICAgIHBuZ01ldGFkYXRhOiB1bmtub3duW11cbiAgKTogUHJvbWlzZTxTZXF1ZW5jZURhdGE+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+UhCBDb252ZXJ0aW5nIHN0YW5kYWxvbmUgZGF0YSB0byB3ZWIgYXBwIGZvcm1hdCBmb3IgJHtpZH1gKTtcblxuICAgIC8vIEV4dHJhY3QgbWV0YWRhdGEgZnJvbSBmaXJzdCBlbGVtZW50XG4gICAgY29uc3QgbWV0YSA9IHBuZ01ldGFkYXRhWzBdIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGNvbnN0IHN0ZXBzID0gcG5nTWV0YWRhdGEuc2xpY2UoMSkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTsgLy8gU2tpcCBtZXRhZGF0YSwgZ2V0IGFjdHVhbCBzdGVwc1xuXG4gICAgLy8gQ29udmVydCBzdGVwcyB0byBiZWF0c1xuICAgIGNvbnN0IGJlYXRzOiBCZWF0RGF0YVtdID0gc3RlcHNcbiAgICAgIC5maWx0ZXIoKHN0ZXApID0+IHR5cGVvZiBzdGVwLmJlYXQgPT09IFwibnVtYmVyXCIgJiYgc3RlcC5iZWF0ID4gMCkgLy8gT25seSBhY3R1YWwgYmVhdHMsIG5vdCBzdGFydCBzdGF0ZVxuICAgICAgLm1hcCgoc3RlcCkgPT4gKHtcbiAgICAgICAgaWQ6IGAke3N0ZXAuYmVhdH0tJHtzdGVwLmxldHRlcn1gLFxuICAgICAgICBiZWF0TnVtYmVyOiBzdGVwLmJlYXQgYXMgbnVtYmVyLFxuICAgICAgICBkdXJhdGlvbjogMSxcbiAgICAgICAgYmx1ZVJldmVyc2FsOiBmYWxzZSxcbiAgICAgICAgcmVkUmV2ZXJzYWw6IGZhbHNlLFxuICAgICAgICBpc0JsYW5rOiBmYWxzZSxcbiAgICAgICAgcGljdG9ncmFwaERhdGE6IGNyZWF0ZVBpY3RvZ3JhcGhEYXRhKHtcbiAgICAgICAgICBpZDogYHBpY3RvZ3JhcGgtJHtzdGVwLmJlYXR9YCxcbiAgICAgICAgICBtb3Rpb25zOiB7XG4gICAgICAgICAgICBibHVlOiBjcmVhdGVNb3Rpb25EYXRhKHtcbiAgICAgICAgICAgICAgY29sb3I6IE1vdGlvbkNvbG9yLkJMVUUsXG4gICAgICAgICAgICAgIG1vdGlvblR5cGU6XG4gICAgICAgICAgICAgICAgKChzdGVwLmJsdWVBdHRyaWJ1dGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVxuICAgICAgICAgICAgICAgICAgPy5tb3Rpb25UeXBlIGFzIE1vdGlvblR5cGUpIHx8IE1vdGlvblR5cGUuU1RBVElDLFxuICAgICAgICAgICAgICBzdGFydExvY2F0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5ibHVlQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uc3RhcnRMb2NhdGlvbiBhcyBMb2NhdGlvbikgfHwgTG9jYXRpb24uU09VVEgsXG4gICAgICAgICAgICAgIGVuZExvY2F0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5ibHVlQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uZW5kTG9jYXRpb24gYXMgTG9jYXRpb24pIHx8IExvY2F0aW9uLlNPVVRILFxuICAgICAgICAgICAgICBzdGFydE9yaWVudGF0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5ibHVlQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uc3RhcnRPcmllbnRhdGlvbiBhcyBPcmllbnRhdGlvbikgfHwgT3JpZW50YXRpb24uSU4sXG4gICAgICAgICAgICAgIGVuZE9yaWVudGF0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5ibHVlQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uZW5kT3JpZW50YXRpb24gYXMgT3JpZW50YXRpb24pIHx8IE9yaWVudGF0aW9uLklOLFxuICAgICAgICAgICAgICByb3RhdGlvbkRpcmVjdGlvbjpcbiAgICAgICAgICAgICAgICAoKHN0ZXAuYmx1ZUF0dHJpYnV0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pXG4gICAgICAgICAgICAgICAgICA/LnJvdGF0aW9uRGlyZWN0aW9uIGFzIFJvdGF0aW9uRGlyZWN0aW9uKSB8fFxuICAgICAgICAgICAgICAgIFJvdGF0aW9uRGlyZWN0aW9uLk5PX1JPVEFUSU9OLFxuICAgICAgICAgICAgICB0dXJuczpcbiAgICAgICAgICAgICAgICAoKHN0ZXAuYmx1ZUF0dHJpYnV0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pXG4gICAgICAgICAgICAgICAgICA/LnR1cm5zIGFzIG51bWJlcikgfHwgMCxcbiAgICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBwcm9wVHlwZTogUHJvcFR5cGUuU1RBRkYsXG4gICAgICAgICAgICAgIGFycm93TG9jYXRpb246XG4gICAgICAgICAgICAgICAgKChzdGVwLmJsdWVBdHRyaWJ1dGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVxuICAgICAgICAgICAgICAgICAgPy5zdGFydExvY2F0aW9uIGFzIExvY2F0aW9uKSB8fCBMb2NhdGlvbi5TT1VUSCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcmVkOiBjcmVhdGVNb3Rpb25EYXRhKHtcbiAgICAgICAgICAgICAgY29sb3I6IE1vdGlvbkNvbG9yLlJFRCxcbiAgICAgICAgICAgICAgbW90aW9uVHlwZTpcbiAgICAgICAgICAgICAgICAoKHN0ZXAucmVkQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8ubW90aW9uVHlwZSBhcyBNb3Rpb25UeXBlKSB8fCBNb3Rpb25UeXBlLlNUQVRJQyxcbiAgICAgICAgICAgICAgc3RhcnRMb2NhdGlvbjpcbiAgICAgICAgICAgICAgICAoKHN0ZXAucmVkQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uc3RhcnRMb2NhdGlvbiBhcyBMb2NhdGlvbikgfHwgTG9jYXRpb24uU09VVEgsXG4gICAgICAgICAgICAgIGVuZExvY2F0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5yZWRBdHRyaWJ1dGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVxuICAgICAgICAgICAgICAgICAgPy5lbmRMb2NhdGlvbiBhcyBMb2NhdGlvbikgfHwgTG9jYXRpb24uU09VVEgsXG4gICAgICAgICAgICAgIHN0YXJ0T3JpZW50YXRpb246XG4gICAgICAgICAgICAgICAgKChzdGVwLnJlZEF0dHJpYnV0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pXG4gICAgICAgICAgICAgICAgICA/LnN0YXJ0T3JpZW50YXRpb24gYXMgT3JpZW50YXRpb24pIHx8IE9yaWVudGF0aW9uLklOLFxuICAgICAgICAgICAgICBlbmRPcmllbnRhdGlvbjpcbiAgICAgICAgICAgICAgICAoKHN0ZXAucmVkQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8uZW5kT3JpZW50YXRpb24gYXMgT3JpZW50YXRpb24pIHx8IE9yaWVudGF0aW9uLklOLFxuICAgICAgICAgICAgICByb3RhdGlvbkRpcmVjdGlvbjpcbiAgICAgICAgICAgICAgICAoKHN0ZXAucmVkQXR0cmlidXRlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcbiAgICAgICAgICAgICAgICAgID8ucm90YXRpb25EaXJlY3Rpb24gYXMgUm90YXRpb25EaXJlY3Rpb24pIHx8XG4gICAgICAgICAgICAgICAgUm90YXRpb25EaXJlY3Rpb24uTk9fUk9UQVRJT04sXG4gICAgICAgICAgICAgIHR1cm5zOlxuICAgICAgICAgICAgICAgICgoc3RlcC5yZWRBdHRyaWJ1dGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVxuICAgICAgICAgICAgICAgICAgPy50dXJucyBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcHJvcFR5cGU6IFByb3BUeXBlLlNUQUZGLFxuICAgICAgICAgICAgICBhcnJvd0xvY2F0aW9uOlxuICAgICAgICAgICAgICAgICgoc3RlcC5yZWRBdHRyaWJ1dGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVxuICAgICAgICAgICAgICAgICAgPy5zdGFydExvY2F0aW9uIGFzIExvY2F0aW9uKSB8fCBMb2NhdGlvbi5TT1VUSCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGV0dGVyOiAoc3RlcC5sZXR0ZXIgYXMgTGV0dGVyKSB8fCBudWxsLFxuICAgICAgICB9KSxcbiAgICAgICAgbWV0YWRhdGE6IHt9LFxuICAgICAgfSkpO1xuXG4gICAgY29uc29sZS5sb2coYOKchSBDb252ZXJ0ZWQgdG8gd2ViIGFwcCBmb3JtYXQ6ICR7YmVhdHMubGVuZ3RofSBiZWF0c2ApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgbmFtZTogKG1ldGEud29yZCBhcyBzdHJpbmcpIHx8IGlkLnRvVXBwZXJDYXNlKCksXG4gICAgICB3b3JkOiAobWV0YS53b3JkIGFzIHN0cmluZykgfHwgaWQudG9VcHBlckNhc2UoKSxcbiAgICAgIGJlYXRzLFxuICAgICAgdGh1bWJuYWlsczogW2Ake2lkLnRvVXBwZXJDYXNlKCl9X3ZlcjEucG5nYF0sXG4gICAgICBzZXF1ZW5jZUxlbmd0aDogYmVhdHMubGVuZ3RoLFxuICAgICAgYXV0aG9yOiAobWV0YS5hdXRob3IgYXMgc3RyaW5nKSB8fCBcIlVua25vd25cIixcbiAgICAgIGxldmVsOiAobWV0YS5sZXZlbCBhcyBudW1iZXIpIHx8IDEsXG4gICAgICBkYXRlQWRkZWQ6IG5ldyBEYXRlKChtZXRhLmRhdGVBZGRlZCBhcyBzdHJpbmcgfCBudW1iZXIpIHx8IERhdGUubm93KCkpLFxuICAgICAgZ3JpZE1vZGU6ICgobWV0YS5ncmlkTW9kZSBhcyBzdHJpbmcpIHx8IEdyaWRNb2RlLkRJQU1PTkQpIGFzIEdyaWRNb2RlLFxuICAgICAgcHJvcFR5cGU6ICgobWV0YS5wcm9wVHlwZSBhcyBzdHJpbmcpIHx8IFByb3BUeXBlLkZBTikgYXMgUHJvcFR5cGUsXG4gICAgICBpc0Zhdm9yaXRlOiAobWV0YS5pc0Zhdm9yaXRlIGFzIGJvb2xlYW4pIHx8IGZhbHNlLFxuICAgICAgaXNDaXJjdWxhcjogKG1ldGEuaXNDaXJjdWxhciBhcyBib29sZWFuKSB8fCBmYWxzZSxcbiAgICAgIC8vIHN0YXJ0aW5nUG9zaXRpb246IFRPRE8gLSBuZWVkcyB0byBiZSBCZWF0RGF0YSwgbm90IHN0cmluZ1xuICAgICAgZGlmZmljdWx0eUxldmVsOiB0aGlzLm1hcExldmVsVG9EaWZmaWN1bHR5KChtZXRhLmxldmVsIGFzIG51bWJlcikgfHwgMSksXG4gICAgICB0YWdzOiBbXCJmbG93XCIsIFwicHJhY3RpY2VcIl0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBzb3VyY2U6IFwicG5nX21ldGFkYXRhXCIsXG4gICAgICAgIGV4dHJhY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAuLi5tZXRhLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcCBudW1lcmljIGxldmVsIHRvIGRpZmZpY3VsdHkgc3RyaW5nXG4gICAqL1xuICBwcml2YXRlIG1hcExldmVsVG9EaWZmaWN1bHR5KGxldmVsOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChsZXZlbCA8PSAxKSByZXR1cm4gXCJiZWdpbm5lclwiO1xuICAgIGlmIChsZXZlbCA8PSAyKSByZXR1cm4gXCJpbnRlcm1lZGlhdGVcIjtcbiAgICByZXR1cm4gXCJhZHZhbmNlZFwiO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7O0FBUUEsU0FBUyxrQkFBa0I7QUFDM0IsU0FBUyxrQkFBa0IsNEJBQTRCO0FBQ3ZEO0FBQUEsRUFDRTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLE9BQ0s7QUFDUCxTQUFTLDRCQUE0QjtBQVE5QixXQUFNLHdCQUFOLE1BQThEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJbkUsTUFBTSxjQUFjLElBQTBDO0FBQzVELFlBQVEsSUFBSSxpREFBaUQsRUFBRSxFQUFFO0FBRWpFLFFBQUk7QUFFRixZQUFNLGNBQWMsTUFBTSxxQkFBcUI7QUFBQSxRQUM3QyxHQUFHLFlBQVk7QUFBQSxNQUNqQjtBQUVBLFVBQUksQ0FBQyxlQUFlLFlBQVksV0FBVyxHQUFHO0FBQzVDLGdCQUFRLE1BQU0sMENBQTBDLEVBQUUsRUFBRTtBQUM1RCxlQUFPO0FBQUEsTUFDVDtBQUdBLFlBQU0sV0FBVyxNQUFNLEtBQUssbUJBQW1CLElBQUksV0FBVztBQUM5RCxjQUFRLElBQUksNENBQTRDLEVBQUUsRUFBRTtBQUM1RCxhQUFPO0FBQUEsSUFDVCxTQUFTLE9BQU87QUFDZCxjQUFRLE1B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
