import { GridMode } from "/src/lib/domain/enums.ts";
export class MotionLetterIdentificationService {
  letterMappings = {};
  isInitialized = false;
  constructor() {
    this.initializeLetterMappings();
  }
  /**
   * Initialize letter mappings from the configuration
   */
  async initializeLetterMappings() {
    try {
      const response = await fetch("/config/codex/letter-mappings.json");
      if (!response.ok) {
        throw new Error(
          `Failed to load letter mappings: ${response.statusText}`
        );
      }
      const config = await response.json();
      this.letterMappings = config.letters || {};
      this.isInitialized = true;
      console.log(
        "âœ… MotionLetterIdentificationService: Letter mappings loaded",
        {
          letterCount: Object.keys(this.letterMappings).length,
          availableLetters: Object.keys(this.letterMappings).slice(0, 10)
          // Show first 10
        }
      );
    } catch (error) {
      console.error(
        "âŒ MotionLetterIdentificationService: Failed to load letter mappings:",
        error
      );
      this.letterMappings = {};
      this.isInitialized = true;
    }
  }
  /**
   * Identify the TKA letter that matches the current motion parameters
   */
  identifyLetter(blueParams, redParams, gridMode) {
    if (!this.isInitialized) {
      return {
        letter: null,
        confidence: "none",
        matchedParameters: [],
        missingParameters: ["Service not initialized"]
      };
    }
    console.log("ðŸ” [LETTER ID] Identifying letter for motion parameters:", {
      blue: blueParams,
      red: redParams,
      gridMode
    });
    const motionSignature = this.createMotionSignature(
      blueParams,
      redParams,
      gridMode
    );
    console.log("ðŸ” [LETTER ID] Created motion signature:", motionSignature);
    let bestMatch = {
      letter: null,
      confidence: "none",
      matchedParameters: [],
      missingParameters: []
    };
    for (const [letter, mapping] of Object.entries(this.letterMappings)) {
      const matchResult = this.compareMotionSignature(
        motionSignature,
        mapping,
        letter
      );
      if (matchResult.confidence === "exact") {
        console.log(`âœ… [LETTER ID] Exact match found: ${letter}`);
        return matchResult;
      }
      if (matchResult.confidence === "partial" && bestMatch.confidence !== "exact") {
        if (bestMatch.confidence === "none" || matchResult.matchedParameters.length > bestMatch.matchedParameters.length) {
          bestMatch = matchResult;
        }
      }
    }
    if (bestMatch.letter) {
      console.log(
        `ðŸ” [LETTER ID] Best partial match: ${bestMatch.letter} (${bestMatch.matchedParameters.length} matches)`
      );
    } else {
      console.log("âŒ [LETTER ID] No matching letter found");
    }
    return bestMatch;
  }
  /**
   * Create a motion signature from motion parameters
   */
  createMotionSignature(blueParams, redParams, gridMode) {
    const startPosition = this.determineStartPosition(
      blueParams,
      redParams,
      gridMode
    );
    const endPosition = this.determineEndPosition(
      blueParams,
      redParams,
      gridMode
    );
    return {
      startPosition,
      endPosition,
      blueMotion: this.normalizeMotionType(blueParams.motionType),
      redMotion: this.normalizeMotionType(redParams.motionType),
      blueStartLocation: blueParams.startLocation.toLowerCase(),
      blueEndLocation: blueParams.endLocation.toLowerCase(),
      redStartLocation: redParams.startLocation.toLowerCase(),
      redEndLocation: redParams.endLocation.toLowerCase(),
      blueStartOrientation: blueParams.startOrientation.toLowerCase(),
      blueEndOrientation: blueParams.endOrientation.toLowerCase(),
      redStartOrientation: redParams.startOrientation.toLowerCase(),
      redEndOrientation: redParams.endOrientation.toLowerCase()
    };
  }
  /**
   * Determine start position based on motion parameters
   */
  determineStartPosition(blueParams, redParams, _gridMode) {
    const blueStart = blueParams.startLocation.toLowerCase();
    const redStart = redParams.startLocation.toLowerCase();
    const locationToPosition = {
      "s,n": "alpha1",
      "sw,ne": "alpha2",
      "w,e": "alpha3",
      "nw,se": "alpha4",
      "n,s": "alpha5",
      "ne,sw": "alpha6",
      "e,w": "alpha7",
      "se,nw": "alpha8",
      "n,n": "beta1",
      "ne,ne": "beta2",
      "e,e": "beta3",
      "se,se": "beta4",
      "s,s": "beta5",
      "sw,sw": "beta6",
      "w,w": "beta7",
      "nw,nw": "beta8",
      "w,n": "gamma1",
      "nw,ne": "gamma2",
      "n,e": "gamma3",
      "ne,se": "gamma4",
      "e,s": "gamma5",
      "se,sw": "gamma6",
      "s,w": "gamma7",
      "sw,nw": "gamma8",
      "e,n": "gamma9",
      "se,ne": "gamma10",
      "s,e": "gamma11",
      "sw,se": "gamma12",
      "w,s": "gamma13",
      "nw,sw": "gamma14",
      "n,w": "gamma15",
      "ne,nw": "gamma16"
    };
    const key = `${blueStart},${redStart}`;
    return locationToPosition[key] || "alpha1";
  }
  /**
   * Determine end position based on motion parameters
   */
  determineEndPosition(blueParams, redParams, _gridMode) {
    const blueEnd = blueParams.endLocation.toLowerCase();
    const redEnd = redParams.endLocation.toLowerCase();
    const locationToPosition = {
      "s,n": "alpha1",
      "sw,ne": "alpha2",
      "w,e": "alpha3",
      "nw,se": "alpha4",
      "n,s": "alpha5",
      "ne,sw": "alpha6",
      "e,w": "alpha7",
      "se,nw": "alpha8",
      "n,n": "beta1",
      "ne,ne": "beta2",
      "e,e": "beta3",
      "se,se": "beta4",
      "s,s": "beta5",
      "sw,sw": "beta6",
      "w,w": "beta7",
      "nw,nw": "beta8",
      "w,n": "gamma1",
      "nw,ne": "gamma2",
      "n,e": "gamma3",
      "ne,se": "gamma4",
      "e,s": "gamma5",
      "se,sw": "gamma6",
      "s,w": "gamma7",
      "sw,nw": "gamma8",
      "e,n": "gamma9",
      "se,ne": "gamma10",
      "s,e": "gamma11",
      "sw,se": "gamma12",
      "w,s": "gamma13",
      "nw,sw": "gamma14",
      "n,w": "gamma15",
      "ne,nw": "gamma16"
    };
    const key = `${blueEnd},${redEnd}`;
    return locationToPosition[key] || "alpha3";
  }
  /**
   * Normalize motion type to match letter mapping format
   */
  normalizeMotionType(motionType) {
    const normalized = motionType.toLowerCase();
    const motionMap = {
      pro: "pro",
      anti: "anti",
      float: "float",
      dash: "dash",
      static: "static"
    };
    return motionMap[normalized] || normalized;
  }
  /**
   * Compare motion signature with letter mapping
   */
  compareMotionSignature(signature, mapping, letter) {
    const matchedParameters = [];
    const missingParameters = [];
    const coreParams = [
      {
        key: "startPosition",
        signatureKey: "startPosition",
        mappingKey: "startPosition"
      },
      {
        key: "endPosition",
        signatureKey: "endPosition",
        mappingKey: "endPosition"
      },
      {
        key: "blueMotion",
        signatureKey: "blueMotion",
        mappingKey: "blueMotionType"
      },
      {
        key: "redMotion",
        signatureKey: "redMotion",
        mappingKey: "redMotionType"
      }
    ];
    for (const param of coreParams) {
      const mappingValue = mapping[param.mappingKey];
      const signatureValue = signature[param.signatureKey];
      if (mappingValue && signatureValue) {
        if (mappingValue.toLowerCase() === signatureValue.toLowerCase()) {
          matchedParameters.push(param.key);
        } else {
          missingParameters.push(
            `${param.key}: expected ${mappingValue}, got ${signatureValue}`
          );
        }
      } else if (mappingValue) {
        missingParameters.push(`${param.key}: missing in signature`);
      }
    }
    let confidence = "none";
    if (missingParameters.length === 0 && matchedParameters.length >= 4) {
      confidence = "exact";
    } else if (matchedParameters.length >= 2) {
      confidence = "partial";
    }
    return {
      letter: confidence !== "none" ? letter : null,
      confidence,
      matchedParameters,
      missingParameters
    };
  }
  /**
   * Get all available letters
   */
  getAvailableLetters() {
    return Object.keys(this.letterMappings);
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvcm91dGVzL21vdGlvbi10ZXN0ZXIvc2VydmljZXMvTW90aW9uTGV0dGVySWRlbnRpZmljYXRpb25TZXJ2aWNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIE1vdGlvbiBMZXR0ZXIgSWRlbnRpZmljYXRpb24gU2VydmljZVxuICpcbiAqIFJldmVyc2UtbG9va3VwIFRLQSBsZXR0ZXJzIGZyb20gbW90aW9uIHBhcmFtZXRlcnMuXG4gKiBUYWtlcyBjdXJyZW50IG1vdGlvbiB0ZXN0ZXIgcGFyYW1ldGVycyBhbmQgaWRlbnRpZmllcyB0aGUgY29ycmVzcG9uZGluZyBUS0EgbGV0dGVyLlxuICovXG5cbmltcG9ydCB0eXBlIHsgTGV0dGVyTWFwcGluZyB9IGZyb20gXCIkbGliL2RvbWFpbi9jb2RleC90eXBlc1wiO1xuaW1wb3J0IHsgR3JpZE1vZGUgfSBmcm9tIFwiJGxpYi9kb21haW4vZW51bXNcIjtcbmltcG9ydCB0eXBlIHsgTW90aW9uVGVzdFBhcmFtcyB9IGZyb20gXCIuL01vdGlvblBhcmFtZXRlclNlcnZpY2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdCB7XG4gIGxldHRlcjogc3RyaW5nIHwgbnVsbDtcbiAgY29uZmlkZW5jZTogXCJleGFjdFwiIHwgXCJwYXJ0aWFsXCIgfCBcIm5vbmVcIjtcbiAgbWF0Y2hlZFBhcmFtZXRlcnM6IHN0cmluZ1tdO1xuICBtaXNzaW5nUGFyYW1ldGVyczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1vdGlvbkxldHRlcklkZW50aWZpY2F0aW9uU2VydmljZSB7XG4gIGlkZW50aWZ5TGV0dGVyKFxuICAgIGJsdWVQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgcmVkUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIGdyaWRNb2RlOiBHcmlkTW9kZVxuICApOiBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdDtcbiAgZ2V0QXZhaWxhYmxlTGV0dGVycygpOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIE1vdGlvbkxldHRlcklkZW50aWZpY2F0aW9uU2VydmljZVxuICBpbXBsZW1lbnRzIElNb3Rpb25MZXR0ZXJJZGVudGlmaWNhdGlvblNlcnZpY2VcbntcbiAgcHJpdmF0ZSBsZXR0ZXJNYXBwaW5nczogUmVjb3JkPHN0cmluZywgTGV0dGVyTWFwcGluZz4gPSB7fTtcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplTGV0dGVyTWFwcGluZ3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGxldHRlciBtYXBwaW5ncyBmcm9tIHRoZSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVMZXR0ZXJNYXBwaW5ncygpIHtcbiAgICB0cnkge1xuICAgICAgLy8gTG9hZCBsZXR0ZXIgbWFwcGluZ3MgZnJvbSB0aGUgY29uZmlndXJhdGlvbiBmaWxlXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2NvbmZpZy9jb2RleC9sZXR0ZXItbWFwcGluZ3MuanNvblwiKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9hZCBsZXR0ZXIgbWFwcGluZ3M6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHRoaXMubGV0dGVyTWFwcGluZ3MgPSBjb25maWcubGV0dGVycyB8fCB7fTtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIuKchSBNb3Rpb25MZXR0ZXJJZGVudGlmaWNhdGlvblNlcnZpY2U6IExldHRlciBtYXBwaW5ncyBsb2FkZWRcIixcbiAgICAgICAge1xuICAgICAgICAgIGxldHRlckNvdW50OiBPYmplY3Qua2V5cyh0aGlzLmxldHRlck1hcHBpbmdzKS5sZW5ndGgsXG4gICAgICAgICAgYXZhaWxhYmxlTGV0dGVyczogT2JqZWN0LmtleXModGhpcy5sZXR0ZXJNYXBwaW5ncykuc2xpY2UoMCwgMTApLCAvLyBTaG93IGZpcnN0IDEwXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwi4p2MIE1vdGlvbkxldHRlcklkZW50aWZpY2F0aW9uU2VydmljZTogRmFpbGVkIHRvIGxvYWQgbGV0dGVyIG1hcHBpbmdzOlwiLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICAgIHRoaXMubGV0dGVyTWFwcGluZ3MgPSB7fTtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7IC8vIFNldCB0byB0cnVlIHRvIHByZXZlbnQgaW5maW5pdGUgbG9hZGluZ1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZGVudGlmeSB0aGUgVEtBIGxldHRlciB0aGF0IG1hdGNoZXMgdGhlIGN1cnJlbnQgbW90aW9uIHBhcmFtZXRlcnNcbiAgICovXG4gIGlkZW50aWZ5TGV0dGVyKFxuICAgIGJsdWVQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgcmVkUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIGdyaWRNb2RlOiBHcmlkTW9kZVxuICApOiBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdCB7XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxldHRlcjogbnVsbCxcbiAgICAgICAgY29uZmlkZW5jZTogXCJub25lXCIsXG4gICAgICAgIG1hdGNoZWRQYXJhbWV0ZXJzOiBbXSxcbiAgICAgICAgbWlzc2luZ1BhcmFtZXRlcnM6IFtcIlNlcnZpY2Ugbm90IGluaXRpYWxpemVkXCJdLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIvCflI0gW0xFVFRFUiBJRF0gSWRlbnRpZnlpbmcgbGV0dGVyIGZvciBtb3Rpb24gcGFyYW1ldGVyczpcIiwge1xuICAgICAgYmx1ZTogYmx1ZVBhcmFtcyxcbiAgICAgIHJlZDogcmVkUGFyYW1zLFxuICAgICAgZ3JpZE1vZGUsXG4gICAgfSk7XG5cbiAgICAvLyBDb252ZXJ0IG1vdGlvbiBwYXJhbWV0ZXJzIHRvIHRoZSBmb3JtYXQgdXNlZCBpbiBsZXR0ZXIgbWFwcGluZ3NcbiAgICBjb25zdCBtb3Rpb25TaWduYXR1cmUgPSB0aGlzLmNyZWF0ZU1vdGlvblNpZ25hdHVyZShcbiAgICAgIGJsdWVQYXJhbXMsXG4gICAgICByZWRQYXJhbXMsXG4gICAgICBncmlkTW9kZVxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZyhcIvCflI0gW0xFVFRFUiBJRF0gQ3JlYXRlZCBtb3Rpb24gc2lnbmF0dXJlOlwiLCBtb3Rpb25TaWduYXR1cmUpO1xuXG4gICAgLy8gRmluZCBtYXRjaGluZyBsZXR0ZXJcbiAgICBsZXQgYmVzdE1hdGNoOiBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdCA9IHtcbiAgICAgIGxldHRlcjogbnVsbCxcbiAgICAgIGNvbmZpZGVuY2U6IFwibm9uZVwiLFxuICAgICAgbWF0Y2hlZFBhcmFtZXRlcnM6IFtdLFxuICAgICAgbWlzc2luZ1BhcmFtZXRlcnM6IFtdLFxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IFtsZXR0ZXIsIG1hcHBpbmddIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubGV0dGVyTWFwcGluZ3MpKSB7XG4gICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHRoaXMuY29tcGFyZU1vdGlvblNpZ25hdHVyZShcbiAgICAgICAgbW90aW9uU2lnbmF0dXJlLFxuICAgICAgICBtYXBwaW5nLFxuICAgICAgICBsZXR0ZXJcbiAgICAgICk7XG5cbiAgICAgIGlmIChtYXRjaFJlc3VsdC5jb25maWRlbmNlID09PSBcImV4YWN0XCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbTEVUVEVSIElEXSBFeGFjdCBtYXRjaCBmb3VuZDogJHtsZXR0ZXJ9YCk7XG4gICAgICAgIHJldHVybiBtYXRjaFJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBtYXRjaFJlc3VsdC5jb25maWRlbmNlID09PSBcInBhcnRpYWxcIiAmJlxuICAgICAgICBiZXN0TWF0Y2guY29uZmlkZW5jZSAhPT0gXCJleGFjdFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGJlc3RNYXRjaC5jb25maWRlbmNlID09PSBcIm5vbmVcIiB8fFxuICAgICAgICAgIG1hdGNoUmVzdWx0Lm1hdGNoZWRQYXJhbWV0ZXJzLmxlbmd0aCA+XG4gICAgICAgICAgICBiZXN0TWF0Y2gubWF0Y2hlZFBhcmFtZXRlcnMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIGJlc3RNYXRjaCA9IG1hdGNoUmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJlc3RNYXRjaC5sZXR0ZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBg8J+UjSBbTEVUVEVSIElEXSBCZXN0IHBhcnRpYWwgbWF0Y2g6ICR7YmVzdE1hdGNoLmxldHRlcn0gKCR7YmVzdE1hdGNoLm1hdGNoZWRQYXJhbWV0ZXJzLmxlbmd0aH0gbWF0Y2hlcylgXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIuKdjCBbTEVUVEVSIElEXSBObyBtYXRjaGluZyBsZXR0ZXIgZm91bmRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RNYXRjaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtb3Rpb24gc2lnbmF0dXJlIGZyb20gbW90aW9uIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlTW90aW9uU2lnbmF0dXJlKFxuICAgIGJsdWVQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgcmVkUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIGdyaWRNb2RlOiBHcmlkTW9kZVxuICApIHtcbiAgICAvLyBEZXRlcm1pbmUgc3RhcnQgYW5kIGVuZCBwb3NpdGlvbnMgYmFzZWQgb24gbW90aW9uIHBhcmFtZXRlcnNcbiAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gdGhpcy5kZXRlcm1pbmVTdGFydFBvc2l0aW9uKFxuICAgICAgYmx1ZVBhcmFtcyxcbiAgICAgIHJlZFBhcmFtcyxcbiAgICAgIGdyaWRNb2RlXG4gICAgKTtcbiAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHRoaXMuZGV0ZXJtaW5lRW5kUG9zaXRpb24oXG4gICAgICBibHVlUGFyYW1zLFxuICAgICAgcmVkUGFyYW1zLFxuICAgICAgZ3JpZE1vZGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0UG9zaXRpb24sXG4gICAgICBlbmRQb3NpdGlvbixcbiAgICAgIGJsdWVNb3Rpb246IHRoaXMubm9ybWFsaXplTW90aW9uVHlwZShibHVlUGFyYW1zLm1vdGlvblR5cGUpLFxuICAgICAgcmVkTW90aW9uOiB0aGlzLm5vcm1hbGl6ZU1vdGlvblR5cGUocmVkUGFyYW1zLm1vdGlvblR5cGUpLFxuICAgICAgYmx1ZVN0YXJ0TG9jYXRpb246IGJsdWVQYXJhbXMuc3RhcnRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgYmx1ZUVuZExvY2F0aW9uOiBibHVlUGFyYW1zLmVuZExvY2F0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICByZWRTdGFydExvY2F0aW9uOiByZWRQYXJhbXMuc3RhcnRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgcmVkRW5kTG9jYXRpb246IHJlZFBhcmFtcy5lbmRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgYmx1ZVN0YXJ0T3JpZW50YXRpb246IGJsdWVQYXJhbXMuc3RhcnRPcmllbnRhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgYmx1ZUVuZE9yaWVudGF0aW9uOiBibHVlUGFyYW1zLmVuZE9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICByZWRTdGFydE9yaWVudGF0aW9uOiByZWRQYXJhbXMuc3RhcnRPcmllbnRhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgcmVkRW5kT3JpZW50YXRpb246IHJlZFBhcmFtcy5lbmRPcmllbnRhdGlvbi50b0xvd2VyQ2FzZSgpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHN0YXJ0IHBvc2l0aW9uIGJhc2VkIG9uIG1vdGlvbiBwYXJhbWV0ZXJzXG4gICAqL1xuICBwcml2YXRlIGRldGVybWluZVN0YXJ0UG9zaXRpb24oXG4gICAgYmx1ZVBhcmFtczogTW90aW9uVGVzdFBhcmFtcyxcbiAgICByZWRQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgX2dyaWRNb2RlOiBHcmlkTW9kZVxuICApOiBzdHJpbmcge1xuICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHBvc2l0aW9uIGRldGVybWluYXRpb25cbiAgICAvLyBJbiBhIGZ1bGwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgdXNlIHRoZSBzYW1lIGxvZ2ljIGFzIHRoZSBwaWN0b2dyYXBoIGdlbmVyYXRpb25cbiAgICBjb25zdCBibHVlU3RhcnQgPSBibHVlUGFyYW1zLnN0YXJ0TG9jYXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCByZWRTdGFydCA9IHJlZFBhcmFtcy5zdGFydExvY2F0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBNYXAgbG9jYXRpb24gY29tYmluYXRpb25zIHRvIHBvc2l0aW9uc1xuICAgIGNvbnN0IGxvY2F0aW9uVG9Qb3NpdGlvbjogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIFwicyxuXCI6IFwiYWxwaGExXCIsXG4gICAgICBcInN3LG5lXCI6IFwiYWxwaGEyXCIsXG4gICAgICBcIncsZVwiOiBcImFscGhhM1wiLFxuICAgICAgXCJudyxzZVwiOiBcImFscGhhNFwiLFxuICAgICAgXCJuLHNcIjogXCJhbHBoYTVcIixcbiAgICAgIFwibmUsc3dcIjogXCJhbHBoYTZcIixcbiAgICAgIFwiZSx3XCI6IFwiYWxwaGE3XCIsXG4gICAgICBcInNlLG53XCI6IFwiYWxwaGE4XCIsXG4gICAgICBcIm4sblwiOiBcImJldGExXCIsXG4gICAgICBcIm5lLG5lXCI6IFwiYmV0YTJcIixcbiAgICAgIFwiZSxlXCI6IFwiYmV0YTNcIixcbiAgICAgIFwic2Usc2VcIjogXCJiZXRhNFwiLFxuICAgICAgXCJzLHNcIjogXCJiZXRhNVwiLFxuICAgICAgXCJzdyxzd1wiOiBcImJldGE2XCIsXG4gICAgICBcIncsd1wiOiBcImJldGE3XCIsXG4gICAgICBcIm53LG53XCI6IFwiYmV0YThcIixcbiAgICAgIFwidyxuXCI6IFwiZ2FtbWExXCIsXG4gICAgICBcIm53LG5lXCI6IFwiZ2FtbWEyXCIsXG4gICAgICBcIm4sZVwiOiBcImdhbW1hM1wiLFxuICAgICAgXCJuZSxzZVwiOiBcImdhbW1hNFwiLFxuICAgICAgXCJlLHNcIjogXCJnYW1tYTVcIixcbiAgICAgIFwic2Usc3dcIjogXCJnYW1tYTZcIixcbiAgICAgIFwicyx3XCI6IFwiZ2FtbWE3XCIsXG4gICAgICBcInN3LG53XCI6IFwiZ2FtbWE4XCIsXG4gICAgICBcImUsblwiOiBcImdhbW1hOVwiLFxuICAgICAgXCJzZSxuZVwiOiBcImdhbW1hMTBcIixcbiAgICAgIFwicyxlXCI6IFwiZ2FtbWExMVwiLFxuICAgICAgXCJzdyxzZVwiOiBcImdhbW1hMTJcIixcbiAgICAgIFwidyxzXCI6IFwiZ2FtbWExM1wiLFxuICAgICAgXCJudyxzd1wiOiBcImdhbW1hMTRcIixcbiAgICAgIFwibix3XCI6IFwiZ2FtbWExNVwiLFxuICAgICAgXCJuZSxud1wiOiBcImdhbW1hMTZcIixcbiAgICB9O1xuXG4gICAgY29uc3Qga2V5ID0gYCR7Ymx1ZVN0YXJ0fSwke3JlZFN0YXJ0fWA7XG4gICAgcmV0dXJuIGxvY2F0aW9uVG9Qb3NpdGlvbltrZXldIHx8IFwiYWxwaGExXCI7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgZW5kIHBvc2l0aW9uIGJhc2VkIG9uIG1vdGlvbiBwYXJhbWV0ZXJzXG4gICAqL1xuICBwcml2YXRlIGRldGVybWluZUVuZFBvc2l0aW9uKFxuICAgIGJsdWVQYXJhbXM6IE1vdGlvblRlc3RQYXJhbXMsXG4gICAgcmVkUGFyYW1zOiBNb3Rpb25UZXN0UGFyYW1zLFxuICAgIF9ncmlkTW9kZTogR3JpZE1vZGVcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBibHVlRW5kID0gYmx1ZVBhcmFtcy5lbmRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHJlZEVuZCA9IHJlZFBhcmFtcy5lbmRMb2NhdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gTWFwIGxvY2F0aW9uIGNvbWJpbmF0aW9ucyB0byBwb3NpdGlvbnNcbiAgICBjb25zdCBsb2NhdGlvblRvUG9zaXRpb246IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBcInMsblwiOiBcImFscGhhMVwiLFxuICAgICAgXCJzdyxuZVwiOiBcImFscGhhMlwiLFxuICAgICAgXCJ3LGVcIjogXCJhbHBoYTNcIixcbiAgICAgIFwibncsc2VcIjogXCJhbHBoYTRcIixcbiAgICAgIFwibixzXCI6IFwiYWxwaGE1XCIsXG4gICAgICBcIm5lLHN3XCI6IFwiYWxwaGE2XCIsXG4gICAgICBcImUsd1wiOiBcImFscGhhN1wiLFxuICAgICAgXCJzZSxud1wiOiBcImFscGhhOFwiLFxuICAgICAgXCJuLG5cIjogXCJiZXRhMVwiLFxuICAgICAgXCJuZSxuZVwiOiBcImJldGEyXCIsXG4gICAgICBcImUsZVwiOiBcImJldGEzXCIsXG4gICAgICBcInNlLHNlXCI6IFwiYmV0YTRcIixcbiAgICAgIFwicyxzXCI6IFwiYmV0YTVcIixcbiAgICAgIFwic3csc3dcIjogXCJiZXRhNlwiLFxuICAgICAgXCJ3LHdcIjogXCJiZXRhN1wiLFxuICAgICAgXCJudyxud1wiOiBcImJldGE4XCIsXG4gICAgICBcIncsblwiOiBcImdhbW1hMVwiLFxuICAgICAgXCJudyxuZVwiOiBcImdhbW1hMlwiLFxuICAgICAgXCJuLGVcIjogXCJnYW1tYTNcIixcbiAgICAgIFwibmUsc2VcIjogXCJnYW1tYTRcIixcbiAgICAgIFwiZSxzXCI6IFwiZ2FtbWE1XCIsXG4gICAgICBcInNlLHN3XCI6IFwiZ2FtbWE2XCIsXG4gICAgICBcInMsd1wiOiBcImdhbW1hN1wiLFxuICAgICAgXCJzdyxud1wiOiBcImdhbW1hOFwiLFxuICAgICAgXCJlLG5cIjogXCJnYW1tYTlcIixcbiAgICAgIFwic2UsbmVcIjogXCJnYW1tYTEwXCIsXG4gICAgICBcInMsZVwiOiBcImdhbW1hMTFcIixcbiAgICAgIFwic3csc2VcIjogXCJnYW1tYTEyXCIsXG4gICAgICBcIncsc1wiOiBcImdhbW1hMTNcIixcbiAgICAgIFwibncsc3dcIjogXCJnYW1tYTE0XCIsXG4gICAgICBcIm4sd1wiOiBcImdhbW1hMTVcIixcbiAgICAgIFwibmUsbndcIjogXCJnYW1tYTE2XCIsXG4gICAgfTtcblxuICAgIGNvbnN0IGtleSA9IGAke2JsdWVFbmR9LCR7cmVkRW5kfWA7XG4gICAgcmV0dXJuIGxvY2F0aW9uVG9Qb3NpdGlvbltrZXldIHx8IFwiYWxwaGEzXCI7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgbW90aW9uIHR5cGUgdG8gbWF0Y2ggbGV0dGVyIG1hcHBpbmcgZm9ybWF0XG4gICAqL1xuICBwcml2YXRlIG5vcm1hbGl6ZU1vdGlvblR5cGUobW90aW9uVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gbW90aW9uVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIE1hcCBtb3Rpb24gdHlwZXMgdG8gbGV0dGVyIG1hcHBpbmcgZm9ybWF0XG4gICAgY29uc3QgbW90aW9uTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgcHJvOiBcInByb1wiLFxuICAgICAgYW50aTogXCJhbnRpXCIsXG4gICAgICBmbG9hdDogXCJmbG9hdFwiLFxuICAgICAgZGFzaDogXCJkYXNoXCIsXG4gICAgICBzdGF0aWM6IFwic3RhdGljXCIsXG4gICAgfTtcbiAgICByZXR1cm4gbW90aW9uTWFwW25vcm1hbGl6ZWRdIHx8IG5vcm1hbGl6ZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSBtb3Rpb24gc2lnbmF0dXJlIHdpdGggbGV0dGVyIG1hcHBpbmdcbiAgICovXG4gIHByaXZhdGUgY29tcGFyZU1vdGlvblNpZ25hdHVyZShcbiAgICBzaWduYXR1cmU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgbWFwcGluZzogTGV0dGVyTWFwcGluZyxcbiAgICBsZXR0ZXI6IHN0cmluZ1xuICApOiBMZXR0ZXJJZGVudGlmaWNhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgbWF0Y2hlZFBhcmFtZXRlcnM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbWlzc2luZ1BhcmFtZXRlcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBDaGVjayBjb3JlIHBhcmFtZXRlcnNcbiAgICBjb25zdCBjb3JlUGFyYW1zID0gW1xuICAgICAge1xuICAgICAgICBrZXk6IFwic3RhcnRQb3NpdGlvblwiLFxuICAgICAgICBzaWduYXR1cmVLZXk6IFwic3RhcnRQb3NpdGlvblwiLFxuICAgICAgICBtYXBwaW5nS2V5OiBcInN0YXJ0UG9zaXRpb25cIiBhcyBrZXlvZiBMZXR0ZXJNYXBwaW5nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBcImVuZFBvc2l0aW9uXCIsXG4gICAgICAgIHNpZ25hdHVyZUtleTogXCJlbmRQb3NpdGlvblwiLFxuICAgICAgICBtYXBwaW5nS2V5OiBcImVuZFBvc2l0aW9uXCIgYXMga2V5b2YgTGV0dGVyTWFwcGluZyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogXCJibHVlTW90aW9uXCIsXG4gICAgICAgIHNpZ25hdHVyZUtleTogXCJibHVlTW90aW9uXCIsXG4gICAgICAgIG1hcHBpbmdLZXk6IFwiYmx1ZU1vdGlvblR5cGVcIiBhcyBrZXlvZiBMZXR0ZXJNYXBwaW5nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBcInJlZE1vdGlvblwiLFxuICAgICAgICBzaWduYXR1cmVLZXk6IFwicmVkTW90aW9uXCIsXG4gICAgICAgIG1hcHBpbmdLZXk6IFwicmVkTW90aW9uVHlwZVwiIGFzIGtleW9mIExldHRlck1hcHBpbmcsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIGNvcmVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IG1hcHBpbmdWYWx1ZSA9IG1hcHBpbmdbcGFyYW0ubWFwcGluZ0tleV07XG4gICAgICBjb25zdCBzaWduYXR1cmVWYWx1ZSA9IHNpZ25hdHVyZVtwYXJhbS5zaWduYXR1cmVLZXldO1xuXG4gICAgICBpZiAobWFwcGluZ1ZhbHVlICYmIHNpZ25hdHVyZVZhbHVlKSB7XG4gICAgICAgIGlmIChtYXBwaW5nVmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gc2lnbmF0dXJlVmFsdWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIG1hdGNoZWRQYXJhbWV0ZXJzLnB1c2gocGFyYW0ua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaXNzaW5nUGFyYW1ldGVycy5wdXNoKFxuICAgICAgICAgICAgYCR7cGFyYW0ua2V5fTogZXhwZWN0ZWQgJHttYXBwaW5nVmFsdWV9LCBnb3QgJHtzaWduYXR1cmVWYWx1ZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtYXBwaW5nVmFsdWUpIHtcbiAgICAgICAgbWlzc2luZ1BhcmFtZXRlcnMucHVzaChgJHtwYXJhbS5rZXl9OiBtaXNzaW5nIGluIHNpZ25hdHVyZWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERldGVybWluZSBjb25maWRlbmNlXG4gICAgbGV0IGNvbmZpZGVuY2U6IFwiZXhhY3RcIiB8IFwicGFydGlhbFwiIHwgXCJub25lXCIgPSBcIm5vbmVcIjtcblxuICAgIGlmIChtaXNzaW5nUGFyYW1ldGVycy5sZW5ndGggPT09IDAgJiYgbWF0Y2hlZFBhcmFtZXRlcnMubGVuZ3RoID49IDQpIHtcbiAgICAgIGNvbmZpZGVuY2UgPSBcImV4YWN0XCI7XG4gICAgfSBlbHNlIGlmIChtYXRjaGVkUGFyYW1ldGVycy5sZW5ndGggPj0gMikge1xuICAgICAgY29uZmlkZW5jZSA9IFwicGFydGlhbFwiO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsZXR0ZXI6IGNvbmZpZGVuY2UgIT09IFwibm9uZVwiID8gbGV0dGVyIDogbnVsbCxcbiAgICAgIGNvbmZpZGVuY2UsXG4gICAgICBtYXRjaGVkUGFyYW1ldGVycyxcbiAgICAgIG1pc3NpbmdQYXJhbWV0ZXJzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgbGV0dGVyc1xuICAgKi9cbiAgZ2V0QXZhaWxhYmxlTGV0dGVycygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGV0dGVyTWFwcGluZ3MpO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiQUFRQSxTQUFTLGdCQUFnQjtBQW1CbEIsYUFBTSxrQ0FFYjtBQUFBLEVBQ1UsaUJBQWdELENBQUM7QUFBQSxFQUNqRCxnQkFBZ0I7QUFBQSxFQUV4QixjQUFjO0FBQ1osU0FBSyx5QkFBeUI7QUFBQSxFQUNoQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBYywyQkFBMkI7QUFDdkMsUUFBSTtBQUVGLFlBQU0sV0FBVyxNQUFNLE1BQU0sb0NBQW9DO0FBQ2pFLFVBQUksQ0FBQyxTQUFTLElBQUk7QUFD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
