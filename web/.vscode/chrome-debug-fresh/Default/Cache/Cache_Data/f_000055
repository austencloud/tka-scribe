import { Location, MotionType, GridMode } from "/src/lib/domain/enums.ts";
export const UP = "up";
export const DOWN = "down";
export const LEFT = "left";
export const RIGHT = "right";
export const UPRIGHT = "upright";
export const DOWNRIGHT = "downright";
export const UPLEFT = "upleft";
export const DOWNLEFT = "downleft";
export const RED = "red";
export const BLUE = "blue";
const DIAMOND = GridMode.DIAMOND;
const BOX = GridMode.BOX;
export class BetaPropDirectionCalculator {
  constructor(motionDataSet) {
    this.motionDataSet = motionDataSet;
  }
  // Diamond grid maps for static/dash motions
  diamondMapRadial = {
    [Location.NORTH]: { [RED]: RIGHT, [BLUE]: LEFT },
    [Location.EAST]: { [RED]: DOWN, [BLUE]: UP },
    [Location.SOUTH]: { [RED]: LEFT, [BLUE]: RIGHT },
    [Location.WEST]: { [RED]: UP, [BLUE]: DOWN }
  };
  diamondMapNonRadial = {
    [Location.NORTH]: { [RED]: UP, [BLUE]: DOWN },
    [Location.EAST]: { [RED]: RIGHT, [BLUE]: LEFT },
    [Location.SOUTH]: { [RED]: DOWN, [BLUE]: UP },
    [Location.WEST]: { [RED]: LEFT, [BLUE]: RIGHT }
  };
  // Box grid maps for static/dash motions
  boxMapRadial = {
    [Location.NORTHEAST]: { [RED]: DOWNRIGHT, [BLUE]: UPLEFT },
    [Location.SOUTHEAST]: { [RED]: UPRIGHT, [BLUE]: DOWNLEFT },
    [Location.SOUTHWEST]: { [RED]: DOWNRIGHT, [BLUE]: UPLEFT },
    [Location.NORTHWEST]: { [RED]: UPRIGHT, [BLUE]: DOWNLEFT }
  };
  boxMapNonRadial = {
    [Location.NORTHEAST]: { [RED]: UPLEFT, [BLUE]: DOWNRIGHT },
    [Location.SOUTHEAST]: { [RED]: UPRIGHT, [BLUE]: DOWNLEFT },
    [Location.SOUTHWEST]: { [RED]: UPLEFT, [BLUE]: DOWNRIGHT },
    [Location.NORTHWEST]: { [RED]: DOWNLEFT, [BLUE]: UPRIGHT }
  };
  // Shift motion direction maps
  directionMapRadialShift = {
    [Location.EAST]: { [Location.NORTH]: RIGHT, [Location.SOUTH]: RIGHT },
    [Location.WEST]: { [Location.NORTH]: LEFT, [Location.SOUTH]: LEFT },
    [Location.NORTH]: { [Location.EAST]: UP, [Location.WEST]: UP },
    [Location.SOUTH]: { [Location.EAST]: DOWN, [Location.WEST]: DOWN },
    [Location.NORTHEAST]: {
      [Location.NORTHWEST]: UPRIGHT,
      [Location.SOUTHEAST]: UPRIGHT
    },
    [Location.SOUTHEAST]: {
      [Location.NORTHEAST]: DOWNRIGHT,
      [Location.SOUTHWEST]: DOWNRIGHT
    },
    [Location.SOUTHWEST]: {
      [Location.NORTHWEST]: DOWNLEFT,
      [Location.SOUTHEAST]: DOWNLEFT
    },
    [Location.NORTHWEST]: {
      [Location.NORTHEAST]: UPLEFT,
      [Location.SOUTHWEST]: UPLEFT
    }
  };
  directionMapNonRadialShift = {
    [Location.EAST]: { [Location.NORTH]: UP, [Location.SOUTH]: UP },
    [Location.WEST]: { [Location.NORTH]: DOWN, [Location.SOUTH]: DOWN },
    [Location.NORTH]: { [Location.EAST]: RIGHT, [Location.WEST]: RIGHT },
    [Location.SOUTH]: { [Location.EAST]: LEFT, [Location.WEST]: LEFT },
    [Location.NORTHEAST]: {
      [Location.SOUTHEAST]: UPLEFT,
      [Location.NORTHWEST]: DOWNRIGHT
    },
    [Location.SOUTHEAST]: {
      [Location.NORTHEAST]: UPRIGHT,
      [Location.SOUTHWEST]: UPRIGHT
    },
    [Location.SOUTHWEST]: {
      [Location.NORTHWEST]: UPLEFT,
      [Location.SOUTHEAST]: DOWNRIGHT
    },
    [Location.NORTHWEST]: {
      [Location.NORTHEAST]: DOWNLEFT,
      [Location.SOUTHWEST]: DOWNLEFT
    }
  };
  /**
   * Get motion data for a prop by matching its context
   * Since we removed prop.color, we need to determine which motion to use
   * This is a transitional approach - ideally services should be passed the specific motion directly
   */
  getMotionDataForProp(_prop) {
    const blueMotion = this.motionDataSet.blue;
    const redMotion = this.motionDataSet.red;
    return blueMotion || redMotion;
  }
  /**
   * Get direction for a prop based on its motion data
   */
  getDirection(prop) {
    const motionData = this.getMotionDataForProp(prop);
    if (!motionData) {
      console.error(`No motion data found for prop`);
      return null;
    }
    return this.getDirectionForMotionData(motionData);
  }
  /**
   * Get direction based on motion data directly (bypasses prop matching)
   */
  getDirectionForMotionData(motionData) {
    if (!motionData) {
      return null;
    }
    if ([MotionType.PRO, MotionType.ANTI, MotionType.FLOAT].includes(
      motionData.motionType
    )) {
      return this.handleShiftMotionForData(motionData);
    }
    return this.handleStaticDashMotionForData(motionData);
  }
  /**
   * Handle shift motion direction calculation
   */
  handleShiftMotion(_prop, motionData) {
    return this.handleShiftMotionForData(motionData);
  }
  /**
   * Handle shift motion direction calculation for motion data directly
   */
  handleShiftMotionForData(motionData) {
    const isRadial = this.endsWithRadialOrientation();
    const startLocation = motionData.startLocation ?? motionData.start_location ?? "";
    const endLocation = motionData.endLocation ?? motionData.end_location ?? "";
    return this.getShiftDirection(isRadial, startLocation, endLocation);
  }
  /**
   * Get shift direction based on start and end locations
   */
  getShiftDirection(isRadial, startLocation, endLocation) {
    const map = isRadial ? this.directionMapRadialShift : this.directionMapNonRadialShift;
    return map[startLocation]?.[endLocation] ?? null;
  }
  /**
   * Handle static/dash motion direction calculation
   */
  handleStaticDashMotion(_prop, motionData) {
    return this.handleStaticDashMotionForData(motionData);
  }
  /**
   * Handle static/dash motion direction calculation for motion data directly
   */
  handleStaticDashMotionForData(motionData) {
    const location = motionData.endLocation;
    const cardinalValues = [
      Location.NORTH,
      Location.SOUTH,
      Location.EAST,
      Location.WEST
    ];
    const gridMode = cardinalValues.includes(location) ? DIAMOND : BOX;
    const isRadial = this.endsWithRadialOrientation();
    if (gridMode === DIAMOND) {
      const map2 = isRadial ? this.diamondMapRadial : this.diamondMapNonRadial;
      return map2[location]?.[motionData.color] ?? null;
    }
    const map = isRadial ? this.boxMapRadial : this.boxMapNonRadial;
    return map[location]?.[motionData.color] ?? null;
  }
  /**
   * Get opposite direction
   */
  getOppositeDirection(direction) {
    const opposites = {
      [UP]: DOWN,
      [DOWN]: UP,
      [LEFT]: RIGHT,
      [RIGHT]: LEFT,
      [UPRIGHT]: DOWNLEFT,
      [DOWNLEFT]: UPRIGHT,
      [UPLEFT]: DOWNRIGHT,
      [DOWNRIGHT]: UPLEFT
    };
    return opposites[direction];
  }
  /**
   * Check if motion ends with radial orientation
   * This needs to be passed in from the test or determined by context
   */
  endsWithRadialOrientation() {
    const redEndOri = this.motionDataSet.red?.endOrientation;
    const blueEndOri = this.motionDataSet.blue?.endOrientation;
    if (redEndOri === "in" && blueEndOri === "in") return true;
    if (redEndOri === "out" && blueEndOri === "out") return false;
    return true;
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9wb3NpdGlvbmluZy9CZXRhUHJvcERpcmVjdGlvbkNhbGN1bGF0b3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogQmV0YSBQcm9wIERpcmVjdGlvbiBDYWxjdWxhdG9yXG4gKlxuICogQ2FsY3VsYXRlcyBtb3ZlbWVudCBkaXJlY3Rpb25zIGZvciBiZXRhIHByb3AgcG9zaXRpb25pbmcgYmFzZWQgb24gbGVnYWN5IGxvZ2ljLlxuICogUG9ydGVkIGZyb20gbGVnYWN5X3dlYiBCZXRhUHJvcERpcmVjdGlvbkNhbGN1bGF0b3IudHNcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE1vdGlvbkRhdGEsIFByb3BQbGFjZW1lbnREYXRhIH0gZnJvbSBcIiRsaWIvZG9tYWluXCI7XG5pbXBvcnQgeyBMb2NhdGlvbiwgTW90aW9uVHlwZSwgR3JpZE1vZGUgfSBmcm9tIFwiJGxpYi9kb21haW4vZW51bXNcIjtcblxuLy8gRGlyZWN0aW9uIGNvbnN0YW50c1xuZXhwb3J0IGNvbnN0IFVQID0gXCJ1cFwiO1xuZXhwb3J0IGNvbnN0IERPV04gPSBcImRvd25cIjtcbmV4cG9ydCBjb25zdCBMRUZUID0gXCJsZWZ0XCI7XG5leHBvcnQgY29uc3QgUklHSFQgPSBcInJpZ2h0XCI7XG5leHBvcnQgY29uc3QgVVBSSUdIVCA9IFwidXByaWdodFwiO1xuZXhwb3J0IGNvbnN0IERPV05SSUdIVCA9IFwiZG93bnJpZ2h0XCI7XG5leHBvcnQgY29uc3QgVVBMRUZUID0gXCJ1cGxlZnRcIjtcbmV4cG9ydCBjb25zdCBET1dOTEVGVCA9IFwiZG93bmxlZnRcIjtcblxuZXhwb3J0IHR5cGUgRGlyZWN0aW9uID1cbiAgfCB0eXBlb2YgVVBcbiAgfCB0eXBlb2YgRE9XTlxuICB8IHR5cGVvZiBMRUZUXG4gIHwgdHlwZW9mIFJJR0hUXG4gIHwgdHlwZW9mIFVQUklHSFRcbiAgfCB0eXBlb2YgRE9XTlJJR0hUXG4gIHwgdHlwZW9mIFVQTEVGVFxuICB8IHR5cGVvZiBET1dOTEVGVDtcblxuLy8gVXNlIGRvbWFpbiBMb2NhdGlvbiBlbnVtIHN0cmluZyB2YWx1ZXNcbnR5cGUgTG9jID0gYCR7TG9jYXRpb259YDsgLy8gZW51bSBzdHJpbmcgdmFsdWVzXG50eXBlIERpYW1vbmRMb2MgPVxuICB8IExvY2F0aW9uLk5PUlRIXG4gIHwgTG9jYXRpb24uU09VVEhcbiAgfCBMb2NhdGlvbi5FQVNUXG4gIHwgTG9jYXRpb24uV0VTVDtcbnR5cGUgQm94TG9jID1cbiAgfCBMb2NhdGlvbi5OT1JUSEVBU1RcbiAgfCBMb2NhdGlvbi5TT1VUSEVBU1RcbiAgfCBMb2NhdGlvbi5TT1VUSFdFU1RcbiAgfCBMb2NhdGlvbi5OT1JUSFdFU1Q7XG5cbi8vIENvbG9yIGNvbnN0YW50c1xuZXhwb3J0IGNvbnN0IFJFRCA9IFwicmVkXCI7XG5leHBvcnQgY29uc3QgQkxVRSA9IFwiYmx1ZVwiO1xuZXhwb3J0IHR5cGUgQ29sb3IgPSB0eXBlb2YgUkVEIHwgdHlwZW9mIEJMVUU7XG5cbi8vIEdyaWQgbW9kZSBjb25zdGFudHMga2VwdCBsb2NhbCAoY291bGQgaW1wb3J0IEdyaWRNb2RlIGlmIG5lZWRlZClcbmNvbnN0IERJQU1PTkQgPSBHcmlkTW9kZS5ESUFNT05EO1xuY29uc3QgQk9YID0gR3JpZE1vZGUuQk9YO1xuXG5leHBvcnQgY2xhc3MgQmV0YVByb3BEaXJlY3Rpb25DYWxjdWxhdG9yIHtcbiAgLy8gRGlhbW9uZCBncmlkIG1hcHMgZm9yIHN0YXRpYy9kYXNoIG1vdGlvbnNcbiAgcHJpdmF0ZSBkaWFtb25kTWFwUmFkaWFsOiBSZWNvcmQ8RGlhbW9uZExvYywgUmVjb3JkPENvbG9yLCBEaXJlY3Rpb24+PiA9IHtcbiAgICBbTG9jYXRpb24uTk9SVEhdOiB7IFtSRURdOiBSSUdIVCwgW0JMVUVdOiBMRUZUIH0sXG4gICAgW0xvY2F0aW9uLkVBU1RdOiB7IFtSRURdOiBET1dOLCBbQkxVRV06IFVQIH0sXG4gICAgW0xvY2F0aW9uLlNPVVRIXTogeyBbUkVEXTogTEVGVCwgW0JMVUVdOiBSSUdIVCB9LFxuICAgIFtMb2NhdGlvbi5XRVNUXTogeyBbUkVEXTogVVAsIFtCTFVFXTogRE9XTiB9LFxuICB9O1xuXG4gIHByaXZhdGUgZGlhbW9uZE1hcE5vblJhZGlhbDogUmVjb3JkPERpYW1vbmRMb2MsIFJlY29yZDxDb2xvciwgRGlyZWN0aW9uPj4gPSB7XG4gICAgW0xvY2F0aW9uLk5PUlRIXTogeyBbUkVEXTogVVAsIFtCTFVFXTogRE9XTiB9LFxuICAgIFtMb2NhdGlvbi5FQVNUXTogeyBbUkVEXTogUklHSFQsIFtCTFVFXTogTEVGVCB9LFxuICAgIFtMb2NhdGlvbi5TT1VUSF06IHsgW1JFRF06IERPV04sIFtCTFVFXTogVVAgfSxcbiAgICBbTG9jYXRpb24uV0VTVF06IHsgW1JFRF06IExFRlQsIFtCTFVFXTogUklHSFQgfSxcbiAgfTtcblxuICAvLyBCb3ggZ3JpZCBtYXBzIGZvciBzdGF0aWMvZGFzaCBtb3Rpb25zXG4gIHByaXZhdGUgYm94TWFwUmFkaWFsOiBSZWNvcmQ8Qm94TG9jLCBSZWNvcmQ8Q29sb3IsIERpcmVjdGlvbj4+ID0ge1xuICAgIFtMb2NhdGlvbi5OT1JUSEVBU1RdOiB7IFtSRURdOiBET1dOUklHSFQsIFtCTFVFXTogVVBMRUZUIH0sXG4gICAgW0xvY2F0aW9uLlNPVVRIRUFTVF06IHsgW1JFRF06IFVQUklHSFQsIFtCTFVFXTogRE9XTkxFRlQgfSxcbiAgICBbTG9jYXRpb24uU09VVEhXRVNUXTogeyBbUkVEXTogRE9XTlJJR0hULCBbQkxVRV06IFVQTEVGVCB9LFxuICAgIFtMb2NhdGlvbi5OT1JUSFdFU1RdOiB7IFtSRURdOiBVUFJJR0hULCBbQkxVRV06IERPV05MRUZUIH0sXG4gIH07XG5cbiAgcHJpdmF0ZSBib3hNYXBOb25SYWRpYWw6IFJlY29yZDxCb3hMb2MsIFJlY29yZDxDb2xvciwgRGlyZWN0aW9uPj4gPSB7XG4gICAgW0xvY2F0aW9uLk5PUlRIRUFTVF06IHsgW1JFRF06IFVQTEVGVCwgW0JMVUVdOiBET1dOUklHSFQgfSxcbiAgICBbTG9jYXRpb24uU09VVEhFQVNUXTogeyBbUkVEXTogVVBSSUdIVCwgW0JMVUVdOiBET1dOTEVGVCB9LFxuICAgIFtMb2NhdGlvbi5TT1VUSFdFU1RdOiB7IFtSRURdOiBVUExFRlQsIFtCTFVFXTogRE9XTlJJR0hUIH0sXG4gICAgW0xvY2F0aW9uLk5PUlRIV0VTVF06IHsgW1JFRF06IERPV05MRUZULCBbQkxVRV06IFVQUklHSFQgfSxcbiAgfTtcblxuICAvLyBTaGlmdCBtb3Rpb24gZGlyZWN0aW9uIG1hcHNcbiAgcHJpdmF0ZSBkaXJlY3Rpb25NYXBSYWRpYWxTaGlmdDogUmVjb3JkPFxuICAgIExvYyxcbiAgICBQYXJ0aWFsPFJlY29yZDxMb2MsIERpcmVjdGlvbj4+XG4gID4gPSB7XG4gICAgW0xvY2F0aW9uLkVBU1RdOiB7IFtMb2NhdGlvbi5OT1JUSF06IFJJR0hULCBbTG9jYXRpb24uU09VVEhdOiBSSUdIVCB9LFxuICAgIFtMb2NhdGlvbi5XRVNUXTogeyBbTG9jYXRpb24uTk9SVEhdOiBMRUZULCBbTG9jYXRpb24uU09VVEhdOiBMRUZUIH0sXG4gICAgW0xvY2F0aW9uLk5PUlRIXTogeyBbTG9jYXRpb24uRUFTVF06IFVQLCBbTG9jYXRpb24uV0VTVF06IFVQIH0sXG4gICAgW0xvY2F0aW9uLlNPVVRIXTogeyBbTG9jYXRpb24uRUFTVF06IERPV04sIFtMb2NhdGlvbi5XRVNUXTogRE9XTiB9LFxuICAgIFtMb2NhdGlvbi5OT1JUSEVBU1RdOiB7XG4gICAgICBbTG9jYXRpb24uTk9SVEhXRVNUXTogVVBSSUdIVCxcbiAgICAgIFtMb2NhdGlvbi5TT1VUSEVBU1RdOiBVUFJJR0hULFxuICAgIH0sXG4gICAgW0xvY2F0aW9uLlNPVVRIRUFTVF06IHtcbiAgICAgIFtMb2NhdGlvbi5OT1JUSEVBU1RdOiBET1dOUklHSFQsXG4gICAgICBbTG9jYXRpb24uU09VVEhXRVNUXTogRE9XTlJJR0hULFxuICAgIH0sXG4gICAgW0xvY2F0aW9uLlNPVVRIV0VTVF06IHtcbiAgICAgIFtMb2NhdGlvbi5OT1JUSFdFU1RdOiBET1dOTEVGVCxcbiAgICAgIFtMb2NhdGlvbi5TT1VUSEVBU1RdOiBET1dOTEVGVCxcbiAgICB9LFxuICAgIFtMb2NhdGlvbi5OT1JUSFdFU1RdOiB7XG4gICAgICBbTG9jYXRpb24uTk9SVEhFQVNUXTogVVBMRUZULFxuICAgICAgW0xvY2F0aW9uLlNPVVRIV0VTVF06IFVQTEVGVCxcbiAgICB9LFxuICB9O1xuXG4gIHByaXZhdGUgZGlyZWN0aW9uTWFwTm9uUmFkaWFsU2hpZnQ6IFJlY29yZDxcbiAgICBMb2MsXG4gICAgUGFydGlhbDxSZWNvcmQ8TG9jLCBEaXJlY3Rpb24+PlxuICA+ID0ge1xuICAgIFtMb2NhdGlvbi5FQVNUXTogeyBbTG9jYXRpb24uTk9SVEhdOiBVUCwgW0xvY2F0aW9uLlNPVVRIXTogVVAgfSxcbiAgICBbTG9jYXRpb24uV0VTVF06IHsgW0xvY2F0aW9uLk5PUlRIXTogRE9XTiwgW0xvY2F0aW9uLlNPVVRIXTogRE9XTiB9LFxuICAgIFtMb2NhdGlvbi5OT1JUSF06IHsgW0xvY2F0aW9uLkVBU1RdOiBSSUdIVCwgW0xvY2F0aW9uLldFU1RdOiBSSUdIVCB9LFxuICAgIFtMb2NhdGlvbi5TT1VUSF06IHsgW0xvY2F0aW9uLkVBU1RdOiBMRUZULCBbTG9jYXRpb24uV0VTVF06IExFRlQgfSxcbiAgICBbTG9jYXRpb24uTk9SVEhFQVNUXToge1xuICAgICAgW0xvY2F0aW9uLlNPVVRIRUFTVF06IFVQTEVGVCxcbiAgICAgIFtMb2NhdGlvbi5OT1JUSFdFU1RdOiBET1dOUklHSFQsXG4gICAgfSxcbiAgICBbTG9jYXRpb24uU09VVEhFQVNUXToge1xuICAgICAgW0xvY2F0aW9uLk5PUlRIRUFTVF06IFVQUklHSFQsXG4gICAgICBbTG9jYXRpb24uU09VVEhXRVNUXTogVVBSSUdIVCxcbiAgICB9LFxuICAgIFtMb2NhdGlvbi5TT1VUSFdFU1RdOiB7XG4gICAgICBbTG9jYXRpb24uTk9SVEhXRVNUXTogVVBMRUZULFxuICAgICAgW0xvY2F0aW9uLlNPVVRIRUFTVF06IERPV05SSUdIVCxcbiAgICB9LFxuICAgIFtMb2NhdGlvbi5OT1JUSFdFU1RdOiB7XG4gICAgICBbTG9jYXRpb24uTk9SVEhFQVNUXTogRE9XTkxFRlQsXG4gICAgICBbTG9jYXRpb24uU09VVEhXRVNUXTogRE9XTkxFRlQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1vdGlvbkRhdGFTZXQ6IHsgcmVkOiBNb3Rpb25EYXRhOyBibHVlOiBNb3Rpb25EYXRhIH0pIHt9XG5cbiAgLyoqXG4gICAqIEdldCBtb3Rpb24gZGF0YSBmb3IgYSBwcm9wIGJ5IG1hdGNoaW5nIGl0cyBjb250ZXh0XG4gICAqIFNpbmNlIHdlIHJlbW92ZWQgcHJvcC5jb2xvciwgd2UgbmVlZCB0byBkZXRlcm1pbmUgd2hpY2ggbW90aW9uIHRvIHVzZVxuICAgKiBUaGlzIGlzIGEgdHJhbnNpdGlvbmFsIGFwcHJvYWNoIC0gaWRlYWxseSBzZXJ2aWNlcyBzaG91bGQgYmUgcGFzc2VkIHRoZSBzcGVjaWZpYyBtb3Rpb24gZGlyZWN0bHlcbiAgICovXG4gIHByaXZhdGUgZ2V0TW90aW9uRGF0YUZvclByb3AoX3Byb3A6IFByb3BQbGFjZW1lbnREYXRhKTogTW90aW9uRGF0YSB8IG51bGwge1xuICAgIC8vIEZvciBub3csIHdlJ2xsIG5lZWQgdG8gZGV0ZXJtaW5lIHRoaXMgYmFzZWQgb24gaG93IHRoZSBzZXJ2aWNlIGlzIGNhbGxlZFxuICAgIC8vIFRoaXMgaXMgbm90IGlkZWFsIGJ1dCBtYWludGFpbnMgZnVuY3Rpb25hbGl0eSBkdXJpbmcgdGhlIHRyYW5zaXRpb25cbiAgICAvLyBJbiB0aGUgZnV0dXJlLCBzZXJ2aWNlcyBzaG91bGQgYmUgcGFzc2VkIHRoZSBzcGVjaWZpYyBtb3Rpb24gZGF0YSBkaXJlY3RseVxuXG4gICAgLy8gVHJ5IHRvIG1hdGNoIGJhc2VkIG9uIHByb3AgcHJvcGVydGllcyB3aXRoIG1vdGlvbiBwcm9wZXJ0aWVzXG4gICAgLy8gVGhpcyBpcyBhIGhldXJpc3RpYyBhcHByb2FjaCBkdXJpbmcgdGhlIHRyYW5zaXRpb25cbiAgICBjb25zdCBibHVlTW90aW9uID0gdGhpcy5tb3Rpb25EYXRhU2V0LmJsdWU7XG4gICAgY29uc3QgcmVkTW90aW9uID0gdGhpcy5tb3Rpb25EYXRhU2V0LnJlZDtcblxuICAgIC8vIEZvciBub3csIGFzc3VtZSBibHVlIGlmIHdlIGNhbid0IGRldGVybWluZSBvdGhlcndpc2VcbiAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBmaXhlZCBieSBwYXNzaW5nIHByb3BlciBjb250ZXh0IHRvIHRoZSBzZXJ2aWNlXG4gICAgcmV0dXJuIGJsdWVNb3Rpb24gfHwgcmVkTW90aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXJlY3Rpb24gZm9yIGEgcHJvcCBiYXNlZCBvbiBpdHMgbW90aW9uIGRhdGFcbiAgICovXG4gIGdldERpcmVjdGlvbihwcm9wOiBQcm9wUGxhY2VtZW50RGF0YSk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIC8vIEdldCB0aGUgYXBwcm9wcmlhdGUgbW90aW9uIGRhdGEgZm9yIHRoaXMgcHJvcFxuICAgIGNvbnN0IG1vdGlvbkRhdGEgPSB0aGlzLmdldE1vdGlvbkRhdGFGb3JQcm9wKHByb3ApO1xuICAgIGlmICghbW90aW9uRGF0YSkge1xuICAgICAgY29uc29sZS5lcnJvcihgTm8gbW90aW9uIGRhdGEgZm91bmQgZm9yIHByb3BgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldERpcmVjdGlvbkZvck1vdGlvbkRhdGEobW90aW9uRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRpcmVjdGlvbiBiYXNlZCBvbiBtb3Rpb24gZGF0YSBkaXJlY3RseSAoYnlwYXNzZXMgcHJvcCBtYXRjaGluZylcbiAgICovXG4gIGdldERpcmVjdGlvbkZvck1vdGlvbkRhdGEobW90aW9uRGF0YTogTW90aW9uRGF0YSk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIGlmICghbW90aW9uRGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHNoaWZ0IG1vdGlvbnMgKHBybywgYW50aSwgZmxvYXQpXG4gICAgaWYgKFxuICAgICAgW01vdGlvblR5cGUuUFJPLCBNb3Rpb25UeXBlLkFOVEksIE1vdGlvblR5cGUuRkxPQVRdLmluY2x1ZGVzKFxuICAgICAgICBtb3Rpb25EYXRhLm1vdGlvblR5cGVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZVNoaWZ0TW90aW9uRm9yRGF0YShtb3Rpb25EYXRhKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc3RhdGljL2Rhc2ggbW90aW9uc1xuICAgIHJldHVybiB0aGlzLmhhbmRsZVN0YXRpY0Rhc2hNb3Rpb25Gb3JEYXRhKG1vdGlvbkRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBzaGlmdCBtb3Rpb24gZGlyZWN0aW9uIGNhbGN1bGF0aW9uXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVNoaWZ0TW90aW9uKFxuICAgIF9wcm9wOiBQcm9wUGxhY2VtZW50RGF0YSxcbiAgICBtb3Rpb25EYXRhOiBNb3Rpb25EYXRhXG4gICk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmhhbmRsZVNoaWZ0TW90aW9uRm9yRGF0YShtb3Rpb25EYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgc2hpZnQgbW90aW9uIGRpcmVjdGlvbiBjYWxjdWxhdGlvbiBmb3IgbW90aW9uIGRhdGEgZGlyZWN0bHlcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlU2hpZnRNb3Rpb25Gb3JEYXRhKG1vdGlvbkRhdGE6IE1vdGlvbkRhdGEpOiBEaXJlY3Rpb24gfCBudWxsIHtcbiAgICBjb25zdCBpc1JhZGlhbCA9IHRoaXMuZW5kc1dpdGhSYWRpYWxPcmllbnRhdGlvbigpO1xuICAgIGNvbnN0IHN0YXJ0TG9jYXRpb24gPVxuICAgICAgKFxuICAgICAgICBtb3Rpb25EYXRhIGFzIHVua25vd24gYXMge1xuICAgICAgICAgIHN0YXJ0TG9jYXRpb24/OiBzdHJpbmc7XG4gICAgICAgICAgc3RhcnRfbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICkuc3RhcnRMb2NhdGlvbiA/P1xuICAgICAgKG1vdGlvbkRhdGEgYXMgdW5rbm93biBhcyB7IHN0YXJ0X2xvY2F0aW9uPzogc3RyaW5nIH0pLnN0YXJ0X2xvY2F0aW9uID8/XG4gICAgICBcIlwiO1xuICAgIGNvbnN0IGVuZExvY2F0aW9uID1cbiAgICAgIChtb3Rpb25EYXRhIGFzIHVua25vd24gYXMgeyBlbmRMb2NhdGlvbj86IHN0cmluZzsgZW5kX2xvY2F0aW9uPzogc3RyaW5nIH0pXG4gICAgICAgIC5lbmRMb2NhdGlvbiA/P1xuICAgICAgKG1vdGlvbkRhdGEgYXMgdW5rbm93biBhcyB7IGVuZF9sb2NhdGlvbj86IHN0cmluZyB9KS5lbmRfbG9jYXRpb24gPz9cbiAgICAgIFwiXCI7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2hpZnREaXJlY3Rpb24oaXNSYWRpYWwsIHN0YXJ0TG9jYXRpb24sIGVuZExvY2F0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2hpZnQgZGlyZWN0aW9uIGJhc2VkIG9uIHN0YXJ0IGFuZCBlbmQgbG9jYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGdldFNoaWZ0RGlyZWN0aW9uKFxuICAgIGlzUmFkaWFsOiBib29sZWFuLFxuICAgIHN0YXJ0TG9jYXRpb246IHN0cmluZyxcbiAgICBlbmRMb2NhdGlvbjogc3RyaW5nXG4gICk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIGNvbnN0IG1hcCA9IGlzUmFkaWFsXG4gICAgICA/IHRoaXMuZGlyZWN0aW9uTWFwUmFkaWFsU2hpZnRcbiAgICAgIDogdGhpcy5kaXJlY3Rpb25NYXBOb25SYWRpYWxTaGlmdDtcbiAgICByZXR1cm4gbWFwW3N0YXJ0TG9jYXRpb24gYXMgTG9jXT8uW2VuZExvY2F0aW9uIGFzIExvY10gPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgc3RhdGljL2Rhc2ggbW90aW9uIGRpcmVjdGlvbiBjYWxjdWxhdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVTdGF0aWNEYXNoTW90aW9uKFxuICAgIF9wcm9wOiBQcm9wUGxhY2VtZW50RGF0YSxcbiAgICBtb3Rpb25EYXRhOiBNb3Rpb25EYXRhXG4gICk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmhhbmRsZVN0YXRpY0Rhc2hNb3Rpb25Gb3JEYXRhKG1vdGlvbkRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBzdGF0aWMvZGFzaCBtb3Rpb24gZGlyZWN0aW9uIGNhbGN1bGF0aW9uIGZvciBtb3Rpb24gZGF0YSBkaXJlY3RseVxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVTdGF0aWNEYXNoTW90aW9uRm9yRGF0YShcbiAgICBtb3Rpb25EYXRhOiBNb3Rpb25EYXRhXG4gICk6IERpcmVjdGlvbiB8IG51bGwge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gbW90aW9uRGF0YS5lbmRMb2NhdGlvbiBhcyBMb2M7XG4gICAgY29uc3QgY2FyZGluYWxWYWx1ZXMgPSBbXG4gICAgICBMb2NhdGlvbi5OT1JUSCxcbiAgICAgIExvY2F0aW9uLlNPVVRILFxuICAgICAgTG9jYXRpb24uRUFTVCxcbiAgICAgIExvY2F0aW9uLldFU1QsXG4gICAgXSBhcyBzdHJpbmdbXTtcbiAgICBjb25zdCBncmlkTW9kZSA9IGNhcmRpbmFsVmFsdWVzLmluY2x1ZGVzKGxvY2F0aW9uKSA/IERJQU1PTkQgOiBCT1g7XG4gICAgY29uc3QgaXNSYWRpYWwgPSB0aGlzLmVuZHNXaXRoUmFkaWFsT3JpZW50YXRpb24oKTtcblxuICAgIGlmIChncmlkTW9kZSA9PT0gRElBTU9ORCkge1xuICAgICAgY29uc3QgbWFwID0gaXNSYWRpYWwgPyB0aGlzLmRpYW1vbmRNYXBSYWRpYWwgOiB0aGlzLmRpYW1vbmRNYXBOb25SYWRpYWw7XG4gICAgICByZXR1cm4gbWFwW2xvY2F0aW9uIGFzIERpYW1vbmRMb2NdPy5bbW90aW9uRGF0YS5jb2xvciBhcyBDb2xvcl0gPz8gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBtYXAgPSBpc1JhZGlhbCA/IHRoaXMuYm94TWFwUmFkaWFsIDogdGhpcy5ib3hNYXBOb25SYWRpYWw7XG4gICAgcmV0dXJuIG1hcFtsb2NhdGlvbiBhcyBCb3hMb2NdPy5bbW90aW9uRGF0YS5jb2xvciBhcyBDb2xvcl0gPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAqL1xuICBnZXRPcHBvc2l0ZURpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbik6IERpcmVjdGlvbiB7XG4gICAgY29uc3Qgb3Bwb3NpdGVzOiBSZWNvcmQ8RGlyZWN0aW9uLCBEaXJlY3Rpb24+ID0ge1xuICAgICAgW1VQXTogRE9XTixcbiAgICAgIFtET1dOXTogVVAsXG4gICAgICBbTEVGVF06IFJJR0hULFxuICAgICAgW1JJR0hUXTogTEVGVCxcbiAgICAgIFtVUFJJR0hUXTogRE9XTkxFRlQsXG4gICAgICBbRE9XTkxFRlRdOiBVUFJJR0hULFxuICAgICAgW1VQTEVGVF06IERPV05SSUdIVCxcbiAgICAgIFtET1dOUklHSFRdOiBVUExFRlQsXG4gICAgfTtcbiAgICByZXR1cm4gb3Bwb3NpdGVzW2RpcmVjdGlvbl07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbW90aW9uIGVuZHMgd2l0aCByYWRpYWwgb3JpZW50YXRpb25cbiAgICogVGhpcyBuZWVkcyB0byBiZSBwYXNzZWQgaW4gZnJvbSB0aGUgdGVzdCBvciBkZXRlcm1pbmVkIGJ5IGNvbnRleHRcbiAgICovXG4gIHByaXZhdGUgZW5kc1dpdGhSYWRpYWxPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICAvLyDinIUgRklYRUQ6IFNpbXBsaWZpZWQgb3JpZW50YXRpb24gYWNjZXNzIHVzaW5nIE1vdGlvbkRhdGFcbiAgICBjb25zdCByZWRFbmRPcmkgPSB0aGlzLm1vdGlvbkRhdGFTZXQucmVkPy5lbmRPcmllbnRhdGlvbjtcbiAgICBjb25zdCBibHVlRW5kT3JpID0gdGhpcy5tb3Rpb25EYXRhU2V0LmJsdWU/LmVuZE9yaWVudGF0aW9uO1xuICAgIGlmIChyZWRFbmRPcmkgPT09IFwiaW5cIiAmJiBibHVlRW5kT3JpID09PSBcImluXCIpIHJldHVybiB0cnVlO1xuICAgIGlmIChyZWRFbmRPcmkgPT09IFwib3V0XCIgJiYgYmx1ZUVuZE9yaSA9PT0gXCJvdXRcIikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiQUFRQSxTQUFTLFVBQVUsWUFBWSxnQkFBZ0I7QUFHeEMsYUFBTSxLQUFLO0FBQ1gsYUFBTSxPQUFPO0FBQ2IsYUFBTSxPQUFPO0FBQ2IsYUFBTSxRQUFRO0FBQ2QsYUFBTSxVQUFVO0FBQ2hCLGFBQU0sWUFBWTtBQUNsQixhQUFNLFNBQVM7QUFDZixhQUFNLFdBQVc7QUEwQmpCLGFBQU0sTUFBTTtBQUNaLGFBQU0sT0FBTztBQUlwQixNQUFNLFVBQVUsU0FBUztBQUN6QixNQUFNLE1BQU0sU0FBUztBQUVkLGFBQU0sNEJBQTRCO0FBQUEsRUFvRnZDLFlBQW9CLGVBQXNEO0FBQXREO0FBQUEsRUFBdUQ7QUFBQTtBQUFBLEVBbEZuRSxtQkFBaUU7QUFBQSxJQUN2RSxDQUFDLFNBQVMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxLQUFLO0FBQUEsSUFDL0MsQ0FBQyxTQUFTLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRztBQUFBLElBQzNDLENBQUMsU0FBUyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU07QUFBQSxJQUMvQyxDQUFDLFNBQVMsSUFBSSxHQUFHLEVBQUUsQ0FB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
