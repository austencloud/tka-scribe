import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/tabs/BrowseTab.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=608ae08a";

BrowseTab[$.FILENAME] = 'src/lib/components/tabs/BrowseTab.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=608ae08a";
import { NavigationMode } from "/src/lib/domain/browse/index.ts";
import { resolve } from "/src/lib/services/bootstrap.ts";
import { createBrowseState } from "/src/lib/state/browse-state-factory.svelte.ts";
import { BROWSE_TAB_PANEL_CONFIGS, createPanelState } from "/src/lib/state/panel-state.svelte.ts";
import { onDestroy, onMount } from "/node_modules/.vite/deps/svelte.js?v=608ae08a";
import AnimationPanel from "/src/lib/components/tabs/browse/AnimationPanel.svelte";
import BrowseLayout from "/src/lib/components/tabs/browse/BrowseLayout.svelte";
import NavigationSidebar from "/src/lib/components/tabs/browse/NavigationSidebar.svelte";
import DeleteConfirmationDialog from "/src/lib/components/tabs/browse/DeleteConfirmationDialog.svelte";
import ErrorBanner from "/src/lib/components/tabs/browse/ErrorBanner.svelte";
import FilterSelectionPanel from "/src/lib/components/tabs/browse/FilterSelectionPanel.svelte";
import FullscreenSequenceViewer from "/src/lib/components/tabs/browse/FullscreenSequenceViewer.svelte";
import LoadingOverlay from "/src/lib/components/tabs/browse/LoadingOverlay.svelte";
import PanelContainer from "/src/lib/components/tabs/browse/PanelContainer.svelte";
import SequenceBrowserPanel from "/src/lib/components/tabs/browse/sequence-browser/SequenceBrowserPanel.svelte";
import { createBrowseEventHandlers } from "/src/lib/components/tabs/browse/browse-event-handlers.ts";
import { createNavigationEventHandlers } from "/src/lib/components/tabs/browse/navigation-event-handlers.ts";

var root = $.add_locations($.from_html(`<div class="browse-tab s-7RzIzrw50TBw"><!> <!> <!> <!> <!></div>`), BrowseTab[$.FILENAME], [[153, 0]]);

function BrowseTab($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, BrowseTab);

	const browseService = resolve("IBrowseService");
	const thumbnailService = resolve("IThumbnailService");
	const sequenceIndexService = resolve("ISequenceIndexService");
	const favoritesService = resolve("IFavoritesService");
	const navigationService = resolve("INavigationService");
	const filterPersistenceService = resolve("IFilterPersistenceService");
	const sectionService = resolve("ISectionService");
	const deleteService = resolve("IDeleteService");
	const panelManagementService = resolve("IPanelManagementService");

	onMount(() => {
		panelManagementService.registerPanel(BROWSE_TAB_PANEL_CONFIGS.navigation);
		panelManagementService.registerPanel(BROWSE_TAB_PANEL_CONFIGS.animation);
	});

	const browseState = createBrowseState(browseService, thumbnailService, sequenceIndexService, favoritesService, navigationService, filterPersistenceService, sectionService, deleteService);
	const panelState = createPanelState(panelManagementService);
	let currentPanelIndex = $.tag($.state(0), 'currentPanelIndex');
	let showFullscreenViewer = $.tag($.state(false), 'showFullscreenViewer');
	let fullscreenSequence = $.tag($.state(void 0), 'fullscreenSequence');
	let animationSequence = $.tag($.state(null), 'animationSequence');
	let selectedFilter = $.tag($.derived(() => browseState.currentFilter), 'selectedFilter');
	let isLoading = $.tag($.derived(() => browseState.isLoading), 'isLoading');
	let hasError = $.tag($.derived(() => browseState.hasError), 'hasError');
	let sequences = $.tag($.derived(() => browseState.displayedSequences), 'sequences');
	let navigationMode = $.tag($.derived(() => browseState.navigationMode), 'navigationMode');
	let navigationSections = $.tag($.derived(() => browseState.navigationSections), 'navigationSections');
	let deleteConfirmation = $.tag($.derived(() => browseState.deleteConfirmation), 'deleteConfirmation');
	let showDeleteDialog = $.tag($.derived(() => browseState.showDeleteDialog), 'showDeleteDialog');

	$.user_effect(() => {
		if ($.strict_equals($.get(navigationMode), NavigationMode.FILTER_SELECTION)) {
			$.set(currentPanelIndex, 0);
		} else if ($.strict_equals($.get(navigationMode), NavigationMode.SEQUENCE_BROWSER)) {
			$.set(currentPanelIndex, 1);
		}
	});

	onMount(async () => {
		try {
			(await $.track_reactivity_loss(browseState.loadAllSequences()))();
		} catch(error) {
			console.error(...$.log_if_contains_state('error', "\u274C Failed to load browse data:", error));
		}
	});

	onDestroy(() => {
		panelState.cleanup();
	});

	const browseEventHandlers = createBrowseEventHandlers(browseState, (index) => {
		$.set(currentPanelIndex, index, true);
	});

	const navigationEventHandlers = createNavigationEventHandlers(
		browseState,
		(index) => {
			$.set(currentPanelIndex, index, true);
		},
		() => {
			panelState.toggleNavigationCollapse();
		}
	);

	const {
		handleFilterSelected,
		handleBackToFilters,
		handleSequenceAction: originalHandleSequenceAction,
		handleConfirmDelete,
		handleCancelDelete,
		handleClearError
	} = browseEventHandlers;

	const {
		handleNavigationSectionToggle,
		handleNavigationItemClick,
		handleToggleNavigationCollapse
	} = navigationEventHandlers;

	function handleCloseFullscreen() {
		$.set(showFullscreenViewer, false);
		$.set(fullscreenSequence, void 0);
	}

	function handleSequenceAction(action, sequence) {
		if ($.strict_equals(action, "animate")) {
			$.set(animationSequence, sequence, true);
			panelState.setAnimationVisible(true);

			if (panelState.isAnimationCollapsed) {
				panelState.toggleAnimationCollapse();
			}
		} else if ($.strict_equals(action, "edit")) {
			handleCloseFullscreen();
			originalHandleSequenceAction(action, sequence);
		} else if ($.strict_equals(action, "save")) {
			originalHandleSequenceAction(action, sequence);
		} else if ($.strict_equals(action, "delete")) {
			handleCloseFullscreen();
			originalHandleSequenceAction(action, sequence);
		} else if ($.strict_equals(action, "fullscreen")) {
			$.set(fullscreenSequence, sequence, true);
			$.set(showFullscreenViewer, true);
		} else {
			originalHandleSequenceAction(action, sequence);
		}
	}

	function handleCloseAnimationPanel() {
		panelState.setAnimationVisible(false);
		$.set(animationSequence, null);
	}

	function handleNavigationResize(width) {}
	function handleAnimationResize(width) {}

	var div = root();
	var node = $.child(div);

	{
		let $0 = $.derived(() => browseState.loadingState.error || "");

		$.add_svelte_meta(
			() => ErrorBanner(node, {
				get show() {
					return $.get(hasError);
				},

				get message() {
					return $.get($0);
				},

				get onDismiss() {
					return handleClearError;
				}
			}),
			'component',
			BrowseTab,
			155,
			2,
			{ componentTag: 'ErrorBanner' }
		);
	}

	var node_1 = $.sibling(node, 2);

	{
		const navigationSidebar = $.wrap_snippet(BrowseTab, function ($$anchor) {
			$.validate_snippet_args(...arguments);

			var fragment = $.comment();
			var node_2 = $.first_child(fragment);

			$.add_svelte_meta(
				() => NavigationSidebar(node_2, {
					get sections() {
						return $.get(navigationSections);
					},

					get onSectionToggle() {
						return handleNavigationSectionToggle;
					},

					get onItemClick() {
						return handleNavigationItemClick;
					},

					get isCollapsed() {
						return panelState.isNavigationCollapsed;
					},

					get onToggleCollapse() {
						return handleToggleNavigationCollapse;
					}
				}),
				'component',
				BrowseTab,
				168,
				6,
				{ componentTag: 'NavigationSidebar' }
			);

			$.append($$anchor, fragment);
		});

		const centerPanel = $.wrap_snippet(BrowseTab, function ($$anchor) {
			$.validate_snippet_args(...arguments);

			var fragment_1 = $.comment();
			var node_3 = $.first_child(fragment_1);

			{
				var consequent = ($$anchor) => {
					var fragment_2 = $.comment();
					var node_4 = $.first_child(fragment_2);

					$.add_svelte_meta(
						() => PanelContainer(node_4, {
							panelName: 'filter-selection',

							children: $.wrap_snippet(BrowseTab, ($$anchor, $$slotProps) => {
								var fragment_3 = $.comment();
								var node_5 = $.first_child(fragment_3);

								$.add_svelte_meta(
									() => FilterSelectionPanel(node_5, {
										get onFilterSelected() {
											return handleFilterSelected;
										}
									}),
									'component',
									BrowseTab,
									181,
									10,
									{ componentTag: 'FilterSelectionPanel' }
								);

								$.append($$anchor, fragment_3);
							}),

							$$slots: { default: true }
						}),
						'component',
						BrowseTab,
						180,
						8,
						{ componentTag: 'PanelContainer' }
					);

					$.append($$anchor, fragment_2);
				};

				var alternate = ($$anchor) => {
					var fragment_4 = $.comment();
					var node_6 = $.first_child(fragment_4);

					{
						var consequent_1 = ($$anchor) => {
							var fragment_5 = $.comment();
							var node_7 = $.first_child(fragment_5);

							$.add_svelte_meta(
								() => PanelContainer(node_7, {
									panelName: 'sequence-browser',

									children: $.wrap_snippet(BrowseTab, ($$anchor, $$slotProps) => {
										var fragment_6 = $.comment();
										var node_8 = $.first_child(fragment_6);

										$.add_svelte_meta(
											() => SequenceBrowserPanel(node_8, {
												get filter() {
													return $.get(selectedFilter);
												},

												get sequences() {
													return $.get(sequences);
												},

												get isLoading() {
													return $.get(isLoading);
												},

												get onBackToFilters() {
													return handleBackToFilters;
												},

												onAction: handleSequenceAction
											}),
											'component',
											BrowseTab,
											186,
											10,
											{ componentTag: 'SequenceBrowserPanel' }
										);

										$.append($$anchor, fragment_6);
									}),

									$$slots: { default: true }
								}),
								'component',
								BrowseTab,
								185,
								8,
								{ componentTag: 'PanelContainer' }
							);

							$.append($$anchor, fragment_5);
						};

						$.add_svelte_meta(
							() => $.if(
								node_6,
								($$render) => {
									if ($.strict_equals($.get(currentPanelIndex), 1)) $$render(consequent_1);
								},
								true
							),
							'if',
							BrowseTab,
							183,
							6
						);
					}

					$.append($$anchor, fragment_4);
				};

				$.add_svelte_meta(
					() => $.if(node_3, ($$render) => {
						if ($.strict_equals($.get(currentPanelIndex), 0)) $$render(consequent); else $$render(alternate, false);
					}),
					'if',
					BrowseTab,
					178,
					6
				);
			}

			$.append($$anchor, fragment_1);
		});

		const rightPanel = $.wrap_snippet(BrowseTab, function ($$anchor) {
			$.validate_snippet_args(...arguments);

			var fragment_7 = $.comment();
			var node_9 = $.first_child(fragment_7);

			$.add_svelte_meta(
				() => AnimationPanel(node_9, {
					get sequence() {
						return $.get(animationSequence);
					},

					get panelState() {
						return panelState;
					},

					onClose: handleCloseAnimationPanel
				}),
				'component',
				BrowseTab,
				199,
				6,
				{ componentTag: 'AnimationPanel' }
			);

			$.append($$anchor, fragment_7);
		});

		$.add_svelte_meta(
			() => BrowseLayout(node_1, {
				get panelState() {
					return panelState;
				},

				onNavigationResize: handleNavigationResize,
				onAnimationResize: handleAnimationResize,
				navigationSidebar,
				centerPanel,
				rightPanel,
				$$slots: { navigationSidebar: true, centerPanel: true, rightPanel: true }
			}),
			'component',
			BrowseTab,
			162,
			2,
			{ componentTag: 'BrowseLayout' }
		);
	}

	var node_10 = $.sibling(node_1, 2);

	{
		let $0 = $.derived(() => $.get(isLoading) && $.strict_equals($.get(sequences).length, 0));

		$.add_svelte_meta(
			() => LoadingOverlay(node_10, {
				get show() {
					return $.get($0);
				},

				message: 'Loading sequence library...',

				get detail() {
					return browseState.loadingState.currentOperation;
				}
			}),
			'component',
			BrowseTab,
			208,
			2,
			{ componentTag: 'LoadingOverlay' }
		);
	}

	var node_11 = $.sibling(node_10, 2);

	$.add_svelte_meta(
		() => DeleteConfirmationDialog(node_11, {
			get confirmationData() {
				return $.get(deleteConfirmation);
			},

			get show() {
				return $.get(showDeleteDialog);
			},

			get onConfirm() {
				return handleConfirmDelete;
			},

			get onCancel() {
				return handleCancelDelete;
			}
		}),
		'component',
		BrowseTab,
		215,
		2,
		{ componentTag: 'DeleteConfirmationDialog' }
	);

	var node_12 = $.sibling(node_11, 2);

	$.add_svelte_meta(
		() => FullscreenSequenceViewer(node_12, $.spread_props(
			{
				get show() {
					return $.get(showFullscreenViewer);
				}
			},
			() => $.get(fullscreenSequence) ? { sequence: $.get(fullscreenSequence) } : {},
			{
				get thumbnailService() {
					return thumbnailService;
				},

				onClose: handleCloseFullscreen,
				onAction: handleSequenceAction
			}
		)),
		'component',
		BrowseTab,
		223,
		2,
		{ componentTag: 'FullscreenSequenceViewer' }
	);

	$.reset(div);
	$.append($$anchor, div);

	return $.pop({ ...$.legacy_api() });
}

if (import.meta.hot) {
	BrowseTab = $.hmr(BrowseTab, () => BrowseTab[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-7RzIzrw50TBw');
		module.default[$.HMR].source = BrowseTab[$.HMR].source;
		$.set(BrowseTab[$.HMR].source, module.default[$.HMR].original);
	});
}

export default BrowseTab;
import "/src/lib/components/tabs/BrowseTab.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7U0F3Qlc7U0FDVDtTQWNPLHlCQUFvQjtTQUUzQiwwQkFFQSx3QkFDUztTQUdILFdBQWdCLGVBQVE7T0FFeEIsb0JBQXVCO09BQzNCO09BQ0Y7T0FFTSw4QkFBNEI7T0FDNUI7T0FDSjtPQUNGO09BQ00sb0JBQWlCO09BQ2pCLG9CQUFnQjtPQUNoQiwwQkFBeUI7U0FFL0I7U0FHUSxxQ0FBTTs7OztzQ0FoRWhCLENBQUM7Ozs7T0FtRUU7T0FHSyxtQkFBYztPQUNsQiwrQkFDQTtPQUVBO09BQ0E7T0FDQSxtQ0FDQTtPQUVGO09BRU0sZ0JBQWEsd0JBQWlCO09BR2hDLHlCQUE0QixRQUM1Qjs7Q0FNSixjQUFnQjtFQUNaLHVCQUFvQixjQUFZLHlCQUFRO0VBQ3hDLHVCQUFxQixjQUFZLHlCQUFrQjtDQUN2RDs7T0FHSSxnQ0FHSixlQUNFLGtCQUNFLHNCQUNGLGtCQUNFLG1CQUNGLDBCQUNELGdCQUdEO09BR0UsYUFBZ0I7S0FHakI7S0FHRCxxQ0FBZ0I7S0FDZCx3Q0FBbUI7S0FDcEI7S0FLRSx1Q0FBVTtLQUNULGtDQUFvQjtLQUN0QjtLQUNGO0tBRU0sdUNBQTBCO0tBQzlCO0tBQ0MsMkNBQVU7S0FDVCx5Q0FBb0I7O0NBR3BCLG9CQUFXOzRCQUNiO1NBQ0Y7RUFHQSxpQ0FBTTtTQUNKO0VBQ0E7Q0FDQTs7Q0FHQTtNQUNFO2tDQUVFO0VBQ0o7R0FDQTtFQUNBO0NBQ0Y7O0NBS0U7RUFDRjtDQUdBOztPQUlJLHNCQUFXLDBCQUVYLGNBQ0U7UUFDRjtDQUNGOztPQUlBLDBCQUE4QjtFQUU1QjtHQUNGLFVBQVc7U0FFVCxtQkFBc0I7RUFDdEI7UUFDRjtHQUVFO0VBQ0E7Ozs7RUFRSjtFQUNFO0VBQ0Esc0JBQW9CO0VBQ3RCO0VBR0E7RUFFQTtLQUVBOzs7O0VBS0U7RUFDQTtLQUNEOztVQUdDLHdCQUEyQjtRQUM1Qjs7Q0FFRDs7VUFHRSxxQkFBb0IsUUFBc0I7c0JBQzFDLG9CQUFtQjtTQUVqQixtQkFBUTtHQUNSLFdBQUM7O09BRUMsaUNBQWlCO0lBQ2pCLFdBQVc7R0FDbkI7RUFDQSwyQkFBUSxRQUFrQjtHQUVwQjs7RUFFRiwyQkFBVSxRQUFZLFNBQUM7R0FFM0IsNkJBQW1DLFFBQUc7RUFDdEMsMkJBQVMsUUFBZSxXQUFXO0dBRW5DO0dBQ00sNkJBQTZCLFFBQUk7RUFDdkMsMkJBQWEsUUFBUyxlQUFnQjtTQUV0QyxvQkFBVztTQUNYLHNCQUFvQjtFQUNwQjtHQUVBLDZCQUE2QixnQkFBbUI7RUFDaEQ7Q0FDQTs7VUFHTSw0QkFBTzs7UUFFVCxtQkFBb0I7Q0FDeEI7O1VBR1MsdUJBQVUsUUFFbkI7VUFFSSxzQkFBWSxRQUVkOzs7Ozs7MkJBT1csV0FBQyxhQUFzQjs7Ozs7Ozs7Ozs7OztZQUNqQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUJBV0Usa0JBQWdCOzs7O2FBQ1IsNkJBQXFCOzs7O2FBQ3BCLHlCQUFvQjs7OzthQUMvQjs7OzthQUNFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkFRZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU1GLGNBQVc7Ozs7Ozs7Ozs7Ozs7OztzQkFJVixvQkFBdUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUNBUjVCLGlCQUFROzs7Ozs7Ozs7Ozs7Ozs7O2dDQUxiLGlCQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21CQXNCWCxpQkFBTTs7Ozs7OztjQUVQLHlCQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3VCQXJDRCxxQkFBa0I7Ozs7Ozs7Ozs7Ozs7Ozs7O2lDQTRDOUIsU0FBVzs7Ozs7Ozs7Ozs7WUFFYixXQUFtQixDQUFDLFlBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNUQ1QiIsIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiQnJvd3NlVGFiLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tXG5FbmhhbmNlZCBCcm93c2UgVGFiIHdpdGggVW5pZmllZCBQYW5lbCBNYW5hZ2VtZW50XG5cbkludGVncmF0ZXMgcGFuZWwgbWFuYWdlbWVudCBzZXJ2aWNlIHdpdGggcnVuZXMgZm9yOlxuLSBVbmlmaWVkIGNvbGxhcHNlL2V4cGFuZCBsb2dpYyBmb3IgYm90aCBwYW5lbHNcbi0gU3BsaXR0ZXItYmFzZWQgcmVzaXppbmdcbi0gUGVyc2lzdGVudCBwYW5lbCBzdGF0ZVxuLSBSZWFjdGl2ZSBVSSB1cGRhdGVzXG4tLT5cbjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB0eXBlIHsgU2VxdWVuY2VEYXRhIH0gZnJvbSBcIiRkb21haW4vU2VxdWVuY2VEYXRhXCI7XG4gIGltcG9ydCB7IE5hdmlnYXRpb25Nb2RlIH0gZnJvbSBcIiRsaWIvZG9tYWluL2Jyb3dzZVwiO1xuICBpbXBvcnQgeyByZXNvbHZlIH0gZnJvbSBcIiRsaWIvc2VydmljZXMvYm9vdHN0cmFwXCI7XG4gIGltcG9ydCB0eXBlIHtcbiAgICBJQnJvd3NlU2VydmljZSxcbiAgICBJRGVsZXRlU2VydmljZSxcbiAgICBJRmF2b3JpdGVzU2VydmljZSxcbiAgICBJRmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlLFxuICAgIElOYXZpZ2F0aW9uU2VydmljZSxcbiAgICBJU2VjdGlvblNlcnZpY2UsXG4gICAgSVNlcXVlbmNlSW5kZXhTZXJ2aWNlLFxuICAgIElUaHVtYm5haWxTZXJ2aWNlLFxuICB9IGZyb20gXCIkbGliL3NlcnZpY2VzL2ludGVyZmFjZXMvYnJvd3NlLWludGVyZmFjZXNcIjtcbiAgaW1wb3J0IHR5cGUgeyBJUGFuZWxNYW5hZ2VtZW50U2VydmljZSB9IGZyb20gXCIkbGliL3NlcnZpY2VzL2ludGVyZmFjZXMvcGFuZWwtaW50ZXJmYWNlc1wiO1xuICBpbXBvcnQgeyBjcmVhdGVCcm93c2VTdGF0ZSB9IGZyb20gXCIkbGliL3N0YXRlL2Jyb3dzZS1zdGF0ZS1mYWN0b3J5LnN2ZWx0ZVwiO1xuICBpbXBvcnQge1xuICAgIEJST1dTRV9UQUJfUEFORUxfQ09ORklHUyxcbiAgICBjcmVhdGVQYW5lbFN0YXRlLFxuICB9IGZyb20gXCIkbGliL3N0YXRlL3BhbmVsLXN0YXRlLnN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBvbkRlc3Ryb3ksIG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gIC8vIEVuaGFuY2VkIGNvbXBvbmVudHNcbiAgaW1wb3J0IEFuaW1hdGlvblBhbmVsIGZyb20gXCIuL2Jyb3dzZS9BbmltYXRpb25QYW5lbC5zdmVsdGVcIjtcbiAgaW1wb3J0IEJyb3dzZUxheW91dCBmcm9tIFwiLi9icm93c2UvQnJvd3NlTGF5b3V0LnN2ZWx0ZVwiO1xuICBpbXBvcnQgTmF2aWdhdGlvblNpZGViYXIgZnJvbSBcIi4vYnJvd3NlL05hdmlnYXRpb25TaWRlYmFyLnN2ZWx0ZVwiO1xuICAvLyBFeGlzdGluZyBjb21wb25lbnRzXG4gIGltcG9ydCBEZWxldGVDb25maXJtYXRpb25EaWFsb2cgZnJvbSBcIi4vYnJvd3NlL0RlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZy5zdmVsdGVcIjtcbiAgaW1wb3J0IEVycm9yQmFubmVyIGZyb20gXCIuL2Jyb3dzZS9FcnJvckJhbm5lci5zdmVsdGVcIjtcbiAgaW1wb3J0IEZpbHRlclNlbGVjdGlvblBhbmVsIGZyb20gXCIuL2Jyb3dzZS9GaWx0ZXJTZWxlY3Rpb25QYW5lbC5zdmVsdGVcIjtcbiAgaW1wb3J0IEZ1bGxzY3JlZW5TZXF1ZW5jZVZpZXdlciBmcm9tIFwiLi9icm93c2UvRnVsbHNjcmVlblNlcXVlbmNlVmlld2VyLnN2ZWx0ZVwiO1xuICBpbXBvcnQgTG9hZGluZ092ZXJsYXkgZnJvbSBcIi4vYnJvd3NlL0xvYWRpbmdPdmVybGF5LnN2ZWx0ZVwiO1xuICBpbXBvcnQgUGFuZWxDb250YWluZXIgZnJvbSBcIi4vYnJvd3NlL1BhbmVsQ29udGFpbmVyLnN2ZWx0ZVwiO1xuICBpbXBvcnQgU2VxdWVuY2VCcm93c2VyUGFuZWwgZnJvbSBcIi4vYnJvd3NlL3NlcXVlbmNlLWJyb3dzZXIvU2VxdWVuY2VCcm93c2VyUGFuZWwuc3ZlbHRlXCI7XG4gIC8vIEV2ZW50IGhhbmRsZXJzXG4gIGltcG9ydCB7IGNyZWF0ZUJyb3dzZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiLi9icm93c2UvYnJvd3NlLWV2ZW50LWhhbmRsZXJzXCI7XG4gIGltcG9ydCB7IGNyZWF0ZU5hdmlnYXRpb25FdmVudEhhbmRsZXJzIH0gZnJvbSBcIi4vYnJvd3NlL25hdmlnYXRpb24tZXZlbnQtaGFuZGxlcnNcIjtcblxuICAvLyDinIUgUkVTT0xWRSBTRVJWSUNFUzogR2V0IHNlcnZpY2VzIGZyb20gREkgY29udGFpbmVyXG4gIGNvbnN0IGJyb3dzZVNlcnZpY2UgPSByZXNvbHZlKFwiSUJyb3dzZVNlcnZpY2VcIikgYXMgSUJyb3dzZVNlcnZpY2U7XG4gIGNvbnN0IHRodW1ibmFpbFNlcnZpY2UgPSByZXNvbHZlKFwiSVRodW1ibmFpbFNlcnZpY2VcIikgYXMgSVRodW1ibmFpbFNlcnZpY2U7XG4gIGNvbnN0IHNlcXVlbmNlSW5kZXhTZXJ2aWNlID0gcmVzb2x2ZShcbiAgICBcIklTZXF1ZW5jZUluZGV4U2VydmljZVwiXG4gICkgYXMgSVNlcXVlbmNlSW5kZXhTZXJ2aWNlO1xuICBjb25zdCBmYXZvcml0ZXNTZXJ2aWNlID0gcmVzb2x2ZShcIklGYXZvcml0ZXNTZXJ2aWNlXCIpIGFzIElGYXZvcml0ZXNTZXJ2aWNlO1xuICBjb25zdCBuYXZpZ2F0aW9uU2VydmljZSA9IHJlc29sdmUoXCJJTmF2aWdhdGlvblNlcnZpY2VcIikgYXMgSU5hdmlnYXRpb25TZXJ2aWNlO1xuICBjb25zdCBmaWx0ZXJQZXJzaXN0ZW5jZVNlcnZpY2UgPSByZXNvbHZlKFxuICAgIFwiSUZpbHRlclBlcnNpc3RlbmNlU2VydmljZVwiXG4gICkgYXMgSUZpbHRlclBlcnNpc3RlbmNlU2VydmljZTtcbiAgY29uc3Qgc2VjdGlvblNlcnZpY2UgPSByZXNvbHZlKFwiSVNlY3Rpb25TZXJ2aWNlXCIpIGFzIElTZWN0aW9uU2VydmljZTtcbiAgY29uc3QgZGVsZXRlU2VydmljZSA9IHJlc29sdmUoXCJJRGVsZXRlU2VydmljZVwiKSBhcyBJRGVsZXRlU2VydmljZTtcbiAgY29uc3QgcGFuZWxNYW5hZ2VtZW50U2VydmljZSA9IHJlc29sdmUoXG4gICAgXCJJUGFuZWxNYW5hZ2VtZW50U2VydmljZVwiXG4gICkgYXMgSVBhbmVsTWFuYWdlbWVudFNlcnZpY2U7XG5cbiAgLy8g4pyFIFJFR0lTVEVSIFBBTkVMUzogQ29uZmlndXJlIHBhbmVsIG1hbmFnZW1lbnRcbiAgb25Nb3VudCgoKSA9PiB7XG4gICAgcGFuZWxNYW5hZ2VtZW50U2VydmljZS5yZWdpc3RlclBhbmVsKEJST1dTRV9UQUJfUEFORUxfQ09ORklHUy5uYXZpZ2F0aW9uKTtcbiAgICBwYW5lbE1hbmFnZW1lbnRTZXJ2aWNlLnJlZ2lzdGVyUGFuZWwoQlJPV1NFX1RBQl9QQU5FTF9DT05GSUdTLmFuaW1hdGlvbik7XG4gIH0pO1xuXG4gIC8vIOKchSBDUkVBVEUgU1RBVEUgTUFOQUdFUlM6IFJ1bmVzLWJhc2VkIHJlYWN0aXZlIHN0YXRlXG4gIGNvbnN0IGJyb3dzZVN0YXRlID0gY3JlYXRlQnJvd3NlU3RhdGUoXG4gICAgYnJvd3NlU2VydmljZSxcbiAgICB0aHVtYm5haWxTZXJ2aWNlLFxuICAgIHNlcXVlbmNlSW5kZXhTZXJ2aWNlLFxuICAgIGZhdm9yaXRlc1NlcnZpY2UsXG4gICAgbmF2aWdhdGlvblNlcnZpY2UsXG4gICAgZmlsdGVyUGVyc2lzdGVuY2VTZXJ2aWNlLFxuICAgIHNlY3Rpb25TZXJ2aWNlLFxuICAgIGRlbGV0ZVNlcnZpY2VcbiAgKTtcblxuICBjb25zdCBwYW5lbFN0YXRlID0gY3JlYXRlUGFuZWxTdGF0ZShwYW5lbE1hbmFnZW1lbnRTZXJ2aWNlKTtcblxuICAvLyDinIUgUFVSRSBSVU5FUzogTG9jYWwgVUkgc3RhdGVcbiAgbGV0IGN1cnJlbnRQYW5lbEluZGV4ID0gJHN0YXRlKDApOyAvLyAwID0gZmlsdGVyIHNlbGVjdGlvbiwgMSA9IHNlcXVlbmNlIGJyb3dzZXJcbiAgbGV0IHNob3dGdWxsc2NyZWVuVmlld2VyID0gJHN0YXRlKGZhbHNlKTsgLy8gRnVsbHNjcmVlbiBzZXF1ZW5jZSB2aWV3ZXIgc3RhdGVcbiAgbGV0IGZ1bGxzY3JlZW5TZXF1ZW5jZSA9ICRzdGF0ZTxTZXF1ZW5jZURhdGEgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7IC8vIEN1cnJlbnQgc2VxdWVuY2UgZm9yIGZ1bGxzY3JlZW5cbiAgbGV0IGFuaW1hdGlvblNlcXVlbmNlID0gJHN0YXRlPFNlcXVlbmNlRGF0YSB8IG51bGw+KG51bGwpOyAvLyBDdXJyZW50IHNlcXVlbmNlIGZvciBhbmltYXRpb25cblxuICAvLyDinIUgREVSSVZFRCBSVU5FUzogQ29tcHV0ZWQgVUkgc3RhdGUgZnJvbSBicm93c2Ugc3RhdGVcbiAgbGV0IHNlbGVjdGVkRmlsdGVyID0gJGRlcml2ZWQoYnJvd3NlU3RhdGUuY3VycmVudEZpbHRlcik7XG4gIGxldCBpc0xvYWRpbmcgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5pc0xvYWRpbmcpO1xuICBsZXQgaGFzRXJyb3IgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5oYXNFcnJvcik7XG4gIGxldCBzZXF1ZW5jZXMgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5kaXNwbGF5ZWRTZXF1ZW5jZXMpO1xuICBsZXQgbmF2aWdhdGlvbk1vZGUgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5uYXZpZ2F0aW9uTW9kZSk7XG4gIGxldCBuYXZpZ2F0aW9uU2VjdGlvbnMgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5uYXZpZ2F0aW9uU2VjdGlvbnMpO1xuICBsZXQgZGVsZXRlQ29uZmlybWF0aW9uID0gJGRlcml2ZWQoYnJvd3NlU3RhdGUuZGVsZXRlQ29uZmlybWF0aW9uKTtcbiAgbGV0IHNob3dEZWxldGVEaWFsb2cgPSAkZGVyaXZlZChicm93c2VTdGF0ZS5zaG93RGVsZXRlRGlhbG9nKTtcblxuICAvLyDinIUgRUZGRUNUOiBTeW5jIG5hdmlnYXRpb24gbW9kZSB3aXRoIHBhbmVsIGluZGV4XG4gICRlZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuYXZpZ2F0aW9uTW9kZSA9PT0gTmF2aWdhdGlvbk1vZGUuRklMVEVSX1NFTEVDVElPTikge1xuICAgICAgY3VycmVudFBhbmVsSW5kZXggPSAwO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdGlvbk1vZGUgPT09IE5hdmlnYXRpb25Nb2RlLlNFUVVFTkNFX0JST1dTRVIpIHtcbiAgICAgIGN1cnJlbnRQYW5lbEluZGV4ID0gMTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIExvYWQgaW5pdGlhbCBkYXRhIHdoZW4gY29tcG9uZW50IG1vdW50c1xuICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYnJvd3NlU3RhdGUubG9hZEFsbFNlcXVlbmNlcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBsb2FkIGJyb3dzZSBkYXRhOlwiLCBlcnJvcik7XG4gICAgfVxuICB9KTtcblxuICAvLyBDbGVhbnVwIG9uIGRlc3Ryb3lcbiAgb25EZXN0cm95KCgpID0+IHtcbiAgICBwYW5lbFN0YXRlLmNsZWFudXAoKTtcbiAgfSk7XG5cbiAgLy8g4pyFIEVWRU5UIEhBTkRMRVJTOiBDcmVhdGUgZXZlbnQgaGFuZGxlcnMgdXNpbmcgZXh0cmFjdGVkIGZ1bmN0aW9uc1xuICBjb25zdCBicm93c2VFdmVudEhhbmRsZXJzID0gY3JlYXRlQnJvd3NlRXZlbnRIYW5kbGVycyhcbiAgICBicm93c2VTdGF0ZSxcbiAgICAoaW5kZXgpID0+IHtcbiAgICAgIGN1cnJlbnRQYW5lbEluZGV4ID0gaW5kZXg7XG4gICAgfVxuICApO1xuXG4gIGNvbnN0IG5hdmlnYXRpb25FdmVudEhhbmRsZXJzID0gY3JlYXRlTmF2aWdhdGlvbkV2ZW50SGFuZGxlcnMoXG4gICAgYnJvd3NlU3RhdGUsXG4gICAgKGluZGV4KSA9PiB7XG4gICAgICBjdXJyZW50UGFuZWxJbmRleCA9IGluZGV4O1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgcGFuZWxTdGF0ZS50b2dnbGVOYXZpZ2F0aW9uQ29sbGFwc2UoKTtcbiAgICB9XG4gICk7XG5cbiAgLy8gRGVzdHJ1Y3R1cmUgaGFuZGxlcnMgZm9yIGVhc2llciB1c2VcbiAgY29uc3Qge1xuICAgIGhhbmRsZUZpbHRlclNlbGVjdGVkLFxuICAgIGhhbmRsZUJhY2tUb0ZpbHRlcnMsXG4gICAgaGFuZGxlU2VxdWVuY2VBY3Rpb246IG9yaWdpbmFsSGFuZGxlU2VxdWVuY2VBY3Rpb24sXG4gICAgaGFuZGxlQ29uZmlybURlbGV0ZSxcbiAgICBoYW5kbGVDYW5jZWxEZWxldGUsXG4gICAgaGFuZGxlQ2xlYXJFcnJvcixcbiAgfSA9IGJyb3dzZUV2ZW50SGFuZGxlcnM7XG5cbiAgY29uc3Qge1xuICAgIGhhbmRsZU5hdmlnYXRpb25TZWN0aW9uVG9nZ2xlLFxuICAgIGhhbmRsZU5hdmlnYXRpb25JdGVtQ2xpY2ssXG4gICAgaGFuZGxlVG9nZ2xlTmF2aWdhdGlvbkNvbGxhcHNlLFxuICB9ID0gbmF2aWdhdGlvbkV2ZW50SGFuZGxlcnM7XG5cbiAgLy8g4pyFIEZVTExTQ1JFRU4gSEFORExFUlNcbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VGdWxsc2NyZWVuKCkge1xuICAgIHNob3dGdWxsc2NyZWVuVmlld2VyID0gZmFsc2U7XG4gICAgZnVsbHNjcmVlblNlcXVlbmNlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8g4pyFIFNFUVVFTkNFIEFDVElPTiBIQU5ETEVSOiBFbmhhbmNlZCB3aXRoIGFuaW1hdGlvbiBwYW5lbCBpbnRlZ3JhdGlvblxuICBmdW5jdGlvbiBoYW5kbGVTZXF1ZW5jZUFjdGlvbihhY3Rpb246IHN0cmluZywgc2VxdWVuY2U6IFNlcXVlbmNlRGF0YSkge1xuICAgIGlmIChhY3Rpb24gPT09IFwiYW5pbWF0ZVwiKSB7XG4gICAgICAvLyBTaG93IGFuaW1hdGlvbiBwYW5lbCBhbmQgc2V0IHNlcXVlbmNlXG4gICAgICBhbmltYXRpb25TZXF1ZW5jZSA9IHNlcXVlbmNlO1xuICAgICAgcGFuZWxTdGF0ZS5zZXRBbmltYXRpb25WaXNpYmxlKHRydWUpO1xuICAgICAgLy8gRXhwYW5kIHBhbmVsIGlmIGl0J3MgY29sbGFwc2VkXG4gICAgICBpZiAocGFuZWxTdGF0ZS5pc0FuaW1hdGlvbkNvbGxhcHNlZCkge1xuICAgICAgICBwYW5lbFN0YXRlLnRvZ2dsZUFuaW1hdGlvbkNvbGxhcHNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiZWRpdFwiKSB7XG4gICAgICAvLyBDbG9zZSBmdWxsc2NyZWVuIGFuZCBoYW5kbGUgZWRpdFxuICAgICAgaGFuZGxlQ2xvc2VGdWxsc2NyZWVuKCk7XG4gICAgICBvcmlnaW5hbEhhbmRsZVNlcXVlbmNlQWN0aW9uKGFjdGlvbiwgc2VxdWVuY2UpO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInNhdmVcIikge1xuICAgICAgLy8gSGFuZGxlIHNhdmUgYWN0aW9uXG4gICAgICBvcmlnaW5hbEhhbmRsZVNlcXVlbmNlQWN0aW9uKGFjdGlvbiwgc2VxdWVuY2UpO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcImRlbGV0ZVwiKSB7XG4gICAgICAvLyBDbG9zZSBmdWxsc2NyZWVuIGFuZCBoYW5kbGUgZGVsZXRlXG4gICAgICBoYW5kbGVDbG9zZUZ1bGxzY3JlZW4oKTtcbiAgICAgIG9yaWdpbmFsSGFuZGxlU2VxdWVuY2VBY3Rpb24oYWN0aW9uLCBzZXF1ZW5jZSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiZnVsbHNjcmVlblwiKSB7XG4gICAgICAvLyBIYW5kbGUgZnVsbHNjcmVlbiBhY3Rpb25cbiAgICAgIGZ1bGxzY3JlZW5TZXF1ZW5jZSA9IHNlcXVlbmNlO1xuICAgICAgc2hvd0Z1bGxzY3JlZW5WaWV3ZXIgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQYXNzIHRocm91Z2ggb3RoZXIgYWN0aW9ucyB0byBvcmlnaW5hbCBoYW5kbGVyXG4gICAgICBvcmlnaW5hbEhhbmRsZVNlcXVlbmNlQWN0aW9uKGFjdGlvbiwgc2VxdWVuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOKchSBBTklNQVRJT04gUEFORUwgSEFORExFUlNcbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VBbmltYXRpb25QYW5lbCgpIHtcbiAgICBwYW5lbFN0YXRlLnNldEFuaW1hdGlvblZpc2libGUoZmFsc2UpO1xuICAgIGFuaW1hdGlvblNlcXVlbmNlID0gbnVsbDtcbiAgfVxuXG4gIC8vIOKchSBSRVNJWkUgSEFORExFUlM6IEZvciBwYW5lbCB3aWR0aCBjaGFuZ2VzXG4gIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRpb25SZXNpemUod2lkdGg6IG51bWJlcikge1xuICAgIC8vIEFkZGl0aW9uYWwgbG9naWMgaWYgbmVlZGVkIHdoZW4gbmF2aWdhdGlvbiBwYW5lbCBpcyByZXNpemVkXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBbmltYXRpb25SZXNpemUod2lkdGg6IG51bWJlcikge1xuICAgIC8vIEFkZGl0aW9uYWwgbG9naWMgaWYgbmVlZGVkIHdoZW4gYW5pbWF0aW9uIHBhbmVsIGlzIHJlc2l6ZWRcbiAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJicm93c2UtdGFiXCI+XG4gIDwhLS0gRXJyb3IgYmFubmVyIC0tPlxuICA8RXJyb3JCYW5uZXJcbiAgICBzaG93PXtoYXNFcnJvcn1cbiAgICBtZXNzYWdlPXticm93c2VTdGF0ZS5sb2FkaW5nU3RhdGUuZXJyb3IgfHwgXCJcIn1cbiAgICBvbkRpc21pc3M9e2hhbmRsZUNsZWFyRXJyb3J9XG4gIC8+XG5cbiAgPCEtLSBFbmhhbmNlZCBsYXlvdXQgd2l0aCB1bmlmaWVkIHBhbmVsIG1hbmFnZW1lbnQgLS0+XG4gIDxCcm93c2VMYXlvdXRcbiAgICB7cGFuZWxTdGF0ZX1cbiAgICBvbk5hdmlnYXRpb25SZXNpemU9e2hhbmRsZU5hdmlnYXRpb25SZXNpemV9XG4gICAgb25BbmltYXRpb25SZXNpemU9e2hhbmRsZUFuaW1hdGlvblJlc2l6ZX1cbiAgPlxuICAgIHsjc25pcHBldCBuYXZpZ2F0aW9uU2lkZWJhcigpfVxuICAgICAgPE5hdmlnYXRpb25TaWRlYmFyXG4gICAgICAgIHNlY3Rpb25zPXtuYXZpZ2F0aW9uU2VjdGlvbnN9XG4gICAgICAgIG9uU2VjdGlvblRvZ2dsZT17aGFuZGxlTmF2aWdhdGlvblNlY3Rpb25Ub2dnbGV9XG4gICAgICAgIG9uSXRlbUNsaWNrPXtoYW5kbGVOYXZpZ2F0aW9uSXRlbUNsaWNrfVxuICAgICAgICBpc0NvbGxhcHNlZD17cGFuZWxTdGF0ZS5pc05hdmlnYXRpb25Db2xsYXBzZWR9XG4gICAgICAgIG9uVG9nZ2xlQ29sbGFwc2U9e2hhbmRsZVRvZ2dsZU5hdmlnYXRpb25Db2xsYXBzZX1cbiAgICAgIC8+XG4gICAgey9zbmlwcGV0fVxuXG4gICAgeyNzbmlwcGV0IGNlbnRlclBhbmVsKCl9XG4gICAgICB7I2lmIGN1cnJlbnRQYW5lbEluZGV4ID09PSAwfVxuICAgICAgICA8IS0tIEZpbHRlciBTZWxlY3Rpb24gUGFuZWwgLS0+XG4gICAgICAgIDxQYW5lbENvbnRhaW5lciBwYW5lbE5hbWU9XCJmaWx0ZXItc2VsZWN0aW9uXCI+XG4gICAgICAgICAgPEZpbHRlclNlbGVjdGlvblBhbmVsIG9uRmlsdGVyU2VsZWN0ZWQ9e2hhbmRsZUZpbHRlclNlbGVjdGVkfSAvPlxuICAgICAgICA8L1BhbmVsQ29udGFpbmVyPlxuICAgICAgezplbHNlIGlmIGN1cnJlbnRQYW5lbEluZGV4ID09PSAxfVxuICAgICAgICA8IS0tIFNlcXVlbmNlIEJyb3dzZXIgUGFuZWwgLS0+XG4gICAgICAgIDxQYW5lbENvbnRhaW5lciBwYW5lbE5hbWU9XCJzZXF1ZW5jZS1icm93c2VyXCI+XG4gICAgICAgICAgPFNlcXVlbmNlQnJvd3NlclBhbmVsXG4gICAgICAgICAgICBmaWx0ZXI9e3NlbGVjdGVkRmlsdGVyfVxuICAgICAgICAgICAge3NlcXVlbmNlc31cbiAgICAgICAgICAgIHtpc0xvYWRpbmd9XG4gICAgICAgICAgICBvbkJhY2tUb0ZpbHRlcnM9e2hhbmRsZUJhY2tUb0ZpbHRlcnN9XG4gICAgICAgICAgICBvbkFjdGlvbj17aGFuZGxlU2VxdWVuY2VBY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9QYW5lbENvbnRhaW5lcj5cbiAgICAgIHsvaWZ9XG4gICAgey9zbmlwcGV0fVxuXG4gICAgeyNzbmlwcGV0IHJpZ2h0UGFuZWwoKX1cbiAgICAgIDwhLS0gRW5oYW5jZWQgQW5pbWF0aW9uIFBhbmVsIHdpdGggdW5pZmllZCBwYW5lbCBtYW5hZ2VtZW50IC0tPlxuICAgICAgPEFuaW1hdGlvblBhbmVsXG4gICAgICAgIHNlcXVlbmNlPXthbmltYXRpb25TZXF1ZW5jZX1cbiAgICAgICAge3BhbmVsU3RhdGV9XG4gICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlQW5pbWF0aW9uUGFuZWx9XG4gICAgICAvPlxuICAgIHsvc25pcHBldH1cbiAgPC9Ccm93c2VMYXlvdXQ+XG5cbiAgPCEtLSBMb2FkaW5nIG92ZXJsYXkgZm9yIGluaXRpYWwgbG9hZCAtLT5cbiAgPExvYWRpbmdPdmVybGF5XG4gICAgc2hvdz17aXNMb2FkaW5nICYmIHNlcXVlbmNlcy5sZW5ndGggPT09IDB9XG4gICAgbWVzc2FnZT1cIkxvYWRpbmcgc2VxdWVuY2UgbGlicmFyeS4uLlwiXG4gICAgZGV0YWlsPXticm93c2VTdGF0ZS5sb2FkaW5nU3RhdGUuY3VycmVudE9wZXJhdGlvbn1cbiAgLz5cblxuICA8IS0tIERlbGV0ZSBDb25maXJtYXRpb24gRGlhbG9nIC0tPlxuICA8RGVsZXRlQ29uZmlybWF0aW9uRGlhbG9nXG4gICAgY29uZmlybWF0aW9uRGF0YT17ZGVsZXRlQ29uZmlybWF0aW9ufVxuICAgIHNob3c9e3Nob3dEZWxldGVEaWFsb2d9XG4gICAgb25Db25maXJtPXtoYW5kbGVDb25maXJtRGVsZXRlfVxuICAgIG9uQ2FuY2VsPXtoYW5kbGVDYW5jZWxEZWxldGV9XG4gIC8+XG5cbiAgPCEtLSBGdWxsc2NyZWVuIFNlcXVlbmNlIFZpZXdlciAtLT5cbiAgPEZ1bGxzY3JlZW5TZXF1ZW5jZVZpZXdlclxuICAgIHNob3c9e3Nob3dGdWxsc2NyZWVuVmlld2VyfVxuICAgIHsuLi5mdWxsc2NyZWVuU2VxdWVuY2UgPyB7IHNlcXVlbmNlOiBmdWxsc2NyZWVuU2VxdWVuY2UgfSA6IHt9fVxuICAgIHt0aHVtYm5haWxTZXJ2aWNlfVxuICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlRnVsbHNjcmVlbn1cbiAgICBvbkFjdGlvbj17aGFuZGxlU2VxdWVuY2VBY3Rpb259XG4gIC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAuYnJvd3NlLXRhYiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuXG4gIC8qIEdsb2JhbCBwYW5lbCBhbmltYXRpb24gc3VwcG9ydCAqL1xuICA6Z2xvYmFsKC5icm93c2UtdGFiIC5wYW5lbC10cmFuc2l0aW9uKSB7XG4gICAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXRyYW5zaXRpb24tbm9ybWFsKTtcbiAgfVxuXG4gIC8qIEVuc3VyZSBwcm9wZXIgc3RhY2tpbmcgZm9yIG92ZXJsYXlzICovXG4gIC5icm93c2UtdGFiIDpnbG9iYWwoLmxvYWRpbmctb3ZlcmxheSksXG4gIC5icm93c2UtdGFiIDpnbG9iYWwoLmVycm9yLWJhbm5lciksXG4gIC5icm93c2UtdGFiIDpnbG9iYWwoLmRlbGV0ZS1kaWFsb2cpLFxuICAuYnJvd3NlLXRhYiA6Z2xvYmFsKC5mdWxsc2NyZWVuLXZpZXdlcikge1xuICAgIHotaW5kZXg6IDEwMDA7XG4gIH1cblxuICAvKiBQYW5lbCBzdGF0ZSBkZWJ1Z2dpbmcgKHJlbW92ZSBpbiBwcm9kdWN0aW9uKSAqL1xuICAuYnJvd3NlLXRhYjo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMTBweDtcbiAgICByaWdodDogMTBweDtcbiAgICB3aWR0aDogMTBweDtcbiAgICBoZWlnaHQ6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itc3VjY2Vzcyk7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgb3BhY2l0eTogMDtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XG4gIH1cbjwvc3R5bGU+XG4iXSwiZmlsZSI6IkM6L1RLQS93ZWIvc3JjL2xpYi9jb21wb25lbnRzL3RhYnMvQnJvd3NlVGFiLnN2ZWx0ZSJ9