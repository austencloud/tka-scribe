import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/lib/components/graph-editor/TurnAdjustmentControls.svelte");import "/node_modules/.vite/deps/svelte_internal_disclose-version.js?v=608ae08a";

TurnAdjustmentControls[$.FILENAME] = 'src/lib/components/graph-editor/TurnAdjustmentControls.svelte';

import * as $ from "/node_modules/.vite/deps/svelte_internal_client.js?v=608ae08a";
import { MotionColor } from "/src/lib/domain/index.ts";
import { onMount } from "/node_modules/.vite/deps/svelte.js?v=608ae08a";

var on_click = (_, handleTurnAmountClick, turnValue) => handleTurnAmountClick(MotionColor.BLUE, $.get(turnValue));
var root_1 = $.add_locations($.from_html(`<button> </button>`), TurnAdjustmentControls[$.FILENAME], [[72, 8]]);
var on_click_1 = (__1, handleTurnAmountClick, turnValue) => handleTurnAmountClick(MotionColor.RED, $.get(turnValue));
var root_2 = $.add_locations($.from_html(`<button> </button>`), TurnAdjustmentControls[$.FILENAME], [[112, 8]]);

var root = $.add_locations($.from_html(`<div class="turn-adjustment-controls s-HT3iUsA2MIRg" data-testid="turn-adjustment-controls"><div class="turn-section blue-section s-HT3iUsA2MIRg"><div class="section-header s-HT3iUsA2MIRg"><h4 class="s-HT3iUsA2MIRg">Blue Prop Turns</h4> <div class="current-value s-HT3iUsA2MIRg"><span class="turn-amount s-HT3iUsA2MIRg"> </span> <span class="turn-desc s-HT3iUsA2MIRg"> </span></div></div> <div class="turn-grid s-HT3iUsA2MIRg"></div></div> <div class="turn-legend s-HT3iUsA2MIRg"><div class="legend-item s-HT3iUsA2MIRg"><span class="legend-symbol s-HT3iUsA2MIRg">+</span> <span class="legend-text s-HT3iUsA2MIRg">Clockwise</span></div> <div class="legend-item s-HT3iUsA2MIRg"><span class="legend-symbol s-HT3iUsA2MIRg">-</span> <span class="legend-text s-HT3iUsA2MIRg">Counter-clockwise</span></div> <div class="legend-item s-HT3iUsA2MIRg"><span class="legend-symbol s-HT3iUsA2MIRg">0</span> <span class="legend-text s-HT3iUsA2MIRg">No turn</span></div></div> <div class="turn-section red-section s-HT3iUsA2MIRg"><div class="section-header s-HT3iUsA2MIRg"><h4 class="s-HT3iUsA2MIRg">Red Prop Turns</h4> <div class="current-value s-HT3iUsA2MIRg"><span class="turn-amount s-HT3iUsA2MIRg"> </span> <span class="turn-desc s-HT3iUsA2MIRg"> </span></div></div> <div class="turn-grid s-HT3iUsA2MIRg"></div></div></div>`), TurnAdjustmentControls[$.FILENAME], [
	[
		60,
		0,

		[
			[
				62,
				2,
				[[63, 4, [[64, 6], [65, 6, [[66, 8], [67, 8]]]]], [70, 4]]
			],

			[
				86,
				2,

				[
					[87, 4, [[88, 6], [89, 6]]],
					[91, 4, [[92, 6], [93, 6]]],
					[95, 4, [[96, 6], [97, 6]]]
				]
			],

			[
				102,
				2,

				[
					[103, 4, [[104, 6], [105, 6, [[106, 8], [107, 8]]]]],
					[110, 4]
				]
			]
		]
	]
]);

function TurnAdjustmentControls($$anchor, $$props) {
	$.check_target(new.target);
	$.push($$props, true, TurnAdjustmentControls);

	let currentBeatData = $.prop($$props, 'currentBeatData', 3, null);
	let blueTurnAmount = $.tag($.state(0), 'blueTurnAmount');
	let redTurnAmount = $.tag($.state(0), 'redTurnAmount');
	let selectedColor = $.tag($.state(null), 'selectedColor');
	let selectedArrow = $.tag($.state(null), 'selectedArrow');
	const turnAmountOptions = [0, 0.5, 1, 1.5, 2, 2.5, 3];

	function handleTurnAmountClick(color, turnAmount) {
		if ($.strict_equals(color, MotionColor.BLUE)) {
			$.set(blueTurnAmount, turnAmount, true);
		} else {
			$.set(redTurnAmount, turnAmount, true);
		}

		$.set(selectedColor, color, true);
		$.set(selectedArrow, `${color}_turn_${turnAmount}`);
		$$props.onturnamountchanged?.({ color, turnAmount });
		console.log(`TurnAdjustmentControls: ${color} turn amount set to ${turnAmount}`);
	}

	function getSelectedArrow() {
		return $.get(selectedArrow);
	}

	function updateFromBeatData(beatData) {
		if (!beatData?.pictographData) return;

		const pictograph = beatData.pictographData;

		if ($.strict_equals(pictograph.motions?.blue?.turns, void 0, false)) {
			$.set(blueTurnAmount, $.strict_equals(typeof pictograph.motions.blue.turns, "number") ? pictograph.motions.blue.turns : 0, true);
		}

		if ($.strict_equals(pictograph.motions?.red?.turns, void 0, false)) {
			$.set(redTurnAmount, $.strict_equals(typeof pictograph.motions.red.turns, "number") ? pictograph.motions.red.turns : 0, true);
		}

		console.log(...$.log_if_contains_state('log', "TurnAdjustmentControls: Updated from beat data", { blue: $.get(blueTurnAmount), red: $.get(redTurnAmount) }));
	}

	function formatTurnDisplay(turnAmount) {
		if ($.strict_equals(turnAmount, 0)) return "0";

		return turnAmount > 0 ? `+${turnAmount}` : `${turnAmount}`;
	}

	function getTurnDescription(turnAmount) {
		if ($.strict_equals(turnAmount, 0)) return "No turn";
		if (turnAmount > 0) return `${turnAmount} clockwise`;

		return `${Math.abs(turnAmount)} counter-clockwise`;
	}

	$.user_effect(() => {
		updateFromBeatData(currentBeatData());
	});

	onMount(() => {
		console.log("TurnAdjustmentControls mounted");
	});

	var div = root();
	var div_1 = $.child(div);
	var div_2 = $.child(div_1);
	var div_3 = $.sibling($.child(div_2), 2);
	var span = $.child(div_3);
	var text = $.child(span, true);

	$.reset(span);

	var span_1 = $.sibling(span, 2);
	var text_1 = $.child(span_1, true);

	$.reset(span_1);
	$.reset(div_3);
	$.reset(div_2);

	var div_4 = $.sibling(div_2, 2);

	$.add_svelte_meta(
		() => $.each(div_4, 21, () => turnAmountOptions, $.index, ($$anchor, turnValue) => {
			var button = root_1();
			let classes;

			button.__click = [on_click, handleTurnAmountClick, turnValue];

			var text_2 = $.child(button, true);

			$.reset(button);

			$.template_effect(
				($0, $1) => {
					classes = $.set_class(button, 1, 'turn-btn blue-btn s-HT3iUsA2MIRg', null, classes, $0);
					$.set_text(text_2, $1);
				},
				[
					() => ({
						active: $.strict_equals($.get(blueTurnAmount), $.get(turnValue)) && $.strict_equals($.get(selectedColor), MotionColor.BLUE),
						selected: $.strict_equals($.get(blueTurnAmount), $.get(turnValue))
					}),

					() => formatTurnDisplay($.get(turnValue))
				]
			);

			$.append($$anchor, button);
		}),
		'each',
		TurnAdjustmentControls,
		71,
		6
	);

	$.reset(div_4);
	$.reset(div_1);

	var div_5 = $.sibling(div_1, 4);
	var div_6 = $.child(div_5);
	var div_7 = $.sibling($.child(div_6), 2);
	var span_2 = $.child(div_7);
	var text_3 = $.child(span_2, true);

	$.reset(span_2);

	var span_3 = $.sibling(span_2, 2);
	var text_4 = $.child(span_3, true);

	$.reset(span_3);
	$.reset(div_7);
	$.reset(div_6);

	var div_8 = $.sibling(div_6, 2);

	$.add_svelte_meta(
		() => $.each(div_8, 21, () => turnAmountOptions, $.index, ($$anchor, turnValue) => {
			var button_1 = root_2();
			let classes_1;

			button_1.__click = [on_click_1, handleTurnAmountClick, turnValue];

			var text_5 = $.child(button_1, true);

			$.reset(button_1);

			$.template_effect(
				($0, $1) => {
					classes_1 = $.set_class(button_1, 1, 'turn-btn red-btn s-HT3iUsA2MIRg', null, classes_1, $0);
					$.set_text(text_5, $1);
				},
				[
					() => ({
						active: $.strict_equals($.get(redTurnAmount), $.get(turnValue)) && $.strict_equals($.get(selectedColor), MotionColor.RED),
						selected: $.strict_equals($.get(redTurnAmount), $.get(turnValue))
					}),

					() => formatTurnDisplay($.get(turnValue))
				]
			);

			$.append($$anchor, button_1);
		}),
		'each',
		TurnAdjustmentControls,
		111,
		6
	);

	$.reset(div_8);
	$.reset(div_5);
	$.reset(div);

	$.template_effect(
		($0, $1, $2, $3) => {
			$.set_text(text, $0);
			$.set_text(text_1, $1);
			$.set_text(text_3, $2);
			$.set_text(text_4, $3);
		},
		[
			() => formatTurnDisplay($.get(blueTurnAmount)),
			() => getTurnDescription($.get(blueTurnAmount)),
			() => formatTurnDisplay($.get(redTurnAmount)),
			() => getTurnDescription($.get(redTurnAmount))
		]
	);

	$.append($$anchor, div);

	return $.pop({
		get getSelectedArrow() {
			return getSelectedArrow;
		},

		...$.legacy_api()
	});
}

if (import.meta.hot) {
	TurnAdjustmentControls = $.hmr(TurnAdjustmentControls, () => TurnAdjustmentControls[$.HMR].source);

	import.meta.hot.acceptExports(["default"],(module) => {
		$.cleanup_styles('s-HT3iUsA2MIRg');
		module.default[$.HMR].source = TurnAdjustmentControls[$.HMR].source;
		$.set(TurnAdjustmentControls[$.HMR].source, module.default[$.HMR].original);
	});
}

export default TurnAdjustmentControls;

$.delegate(['click']);
import "/src/lib/components/graph-editor/TurnAdjustmentControls.svelte?svelte&type=style&lang.css";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7U0FJVyxtQkFBZTtTQWNwQixlQUFpQjs7d0RBZ0pQOzs0REF3Q1MscUJBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttREExTWxDLENBQUM7Ozs7S0FrQ0csd0RBQWdCO0tBS2Q7S0FDQTtLQUNEO0tBRUQsOEJBQVE7T0FHVjs7VUFLQTtzQkFHQSxPQUFTLFlBQW1CO1NBQ3RCLGdCQUFXO0VBRWYsT0FBTTtTQUdGLGVBQVc7RUFDYjs7UUFLRixlQUFlO1FBQ2Isa0JBQ0UsS0FBTyxtQkFBbUI7a0NBTzVCLE9BQ0Q7RUFLRCxRQUFJLCtCQUN3Qiw0QkFBNEI7Q0FJMUQ7O1VBR2lCLG1CQUFlO2VBQ2hDO0NBR0E7O1VBSVEsbUJBQU07T0FDWixVQUFZOztRQUVSOztzQkFHRCxXQUFVLFNBQVc7U0FDdEIsdUNBQ1MsV0FBUyxRQUFPLHdCQUNyQixXQUFVLFFBQVMsYUFDbEI7RUFDWDs7c0JBQ1EsV0FBVyxTQUFPLEtBQU8sdUJBQW1CO1NBQzlDLHNDQUNHLDBDQUNBLFdBQVksUUFBSyxZQUNkO0VBQ1o7O0VBRUEsUUFBVSxzQ0FBTSxvREFDaEIsWUFBWSxpQkFDWixXQUFVO0NBRVY7O1VBR1Esa0JBQUk7c0JBQ04sWUFBRzs7U0FDRjs7O1VBSUUsbUJBQW1CO3NCQUNyQixZQUFZLFdBQWM7TUFDMUIsYUFBWSxhQUFhLFVBQVc7O1lBQ2xDO0NBQ1Q7O0NBR0Esb0JBQVM7RUFDTCxtQkFBbUIsZUFBSztDQUM1Qjs7Q0FFQSxjQUFTO0VBQ0wsUUFBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQ0FlRyxpQkFBYywrQkFBa0I7Ozs7Ozs7Ozs7Ozs7Ozs7O29DQUdsQixjQUFDLGtCQUFzQiw0QkFDdkM7c0NBQ0csY0FBNEI7OztXQUc5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dDQWdDRyxpQkFBYyxzQkFBUSxTQUFHOzs7Ozs7Ozs7Ozs7Ozs7OzsrRkFJMUIsYUFBVTtzQ0FDQyxhQUFhOzs7V0FHeEIsaUJBQWlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FyRG5CO1NBQ2lCO1NBdUNTLGlCQUFJO1NBQ3JDOzs7Ozs7Ozs7Ozs7O0NBakRGIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJUdXJuQWRqdXN0bWVudENvbnRyb2xzLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tIFR1cm5BZGp1c3RtZW50Q29udHJvbHMuc3ZlbHRlIC0gQmx1ZSBhbmQgcmVkIHR1cm4gYW1vdW50IGdyaWQgY29udHJvbHMgLS0+XG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBNb3Rpb25Db2xvciB9IGZyb20gXCIkbGliL2RvbWFpblwiO1xuICBpbXBvcnQgdHlwZSB7IEJlYXREYXRhIH0gZnJvbSBcIiRzZXJ2aWNlcy9pbnRlcmZhY2VzL2RvbWFpbi10eXBlc1wiO1xuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuXG4gIGludGVyZmFjZSBQcm9wcyB7XG4gICAgY3VycmVudEJlYXREYXRhPzogQmVhdERhdGEgfCBudWxsO1xuICAgIG9udHVybmFtb3VudGNoYW5nZWQ/OiAoZGF0YToge1xuICAgICAgY29sb3I6IE1vdGlvbkNvbG9yO1xuICAgICAgdHVybkFtb3VudDogbnVtYmVyO1xuICAgIH0pID0+IHZvaWQ7XG4gIH1cblxuICAvLyBQcm9wc1xuICBsZXQgeyBjdXJyZW50QmVhdERhdGEgPSBudWxsLCBvbnR1cm5hbW91bnRjaGFuZ2VkIH06IFByb3BzID0gJHByb3BzKCk7XG5cbiAgLy8gU3RhdGUgdmFyaWFibGVzXG4gIGxldCBibHVlVHVybkFtb3VudCA9ICRzdGF0ZSgwKTtcbiAgbGV0IHJlZFR1cm5BbW91bnQgPSAkc3RhdGUoMCk7XG4gIGxldCBzZWxlY3RlZENvbG9yID0gJHN0YXRlPE1vdGlvbkNvbG9yIHwgbnVsbD4obnVsbCk7XG4gIGxldCBzZWxlY3RlZEFycm93ID0gJHN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIFR1cm4gYW1vdW50IG9wdGlvbnNcbiAgY29uc3QgdHVybkFtb3VudE9wdGlvbnMgPSBbMCwgMC41LCAxLCAxLjUsIDIsIDIuNSwgM107XG5cbiAgLy8gSGFuZGxlIHR1cm4gYW1vdW50IGNsaWNrc1xuICBmdW5jdGlvbiBoYW5kbGVUdXJuQW1vdW50Q2xpY2soY29sb3I6IE1vdGlvbkNvbG9yLCB0dXJuQW1vdW50OiBudW1iZXIpIHtcbiAgICBpZiAoY29sb3IgPT09IE1vdGlvbkNvbG9yLkJMVUUpIHtcbiAgICAgIGJsdWVUdXJuQW1vdW50ID0gdHVybkFtb3VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVkVHVybkFtb3VudCA9IHR1cm5BbW91bnQ7XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRDb2xvciA9IGNvbG9yO1xuICAgIHNlbGVjdGVkQXJyb3cgPSBgJHtjb2xvcn1fdHVybl8ke3R1cm5BbW91bnR9YDtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBjaGFuZ2UgZXZlbnRcbiAgICBvbnR1cm5hbW91bnRjaGFuZ2VkPy4oe1xuICAgICAgY29sb3IsXG4gICAgICB0dXJuQW1vdW50LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgVHVybkFkanVzdG1lbnRDb250cm9sczogJHtjb2xvcn0gdHVybiBhbW91bnQgc2V0IHRvICR7dHVybkFtb3VudH1gXG4gICAgKTtcbiAgfVxuXG4gIC8vIEdldCBjdXJyZW50bHkgc2VsZWN0ZWQgYXJyb3dcbiAgZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGVkQXJyb3coKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHNlbGVjdGVkQXJyb3c7XG4gIH1cblxuICAvLyBVcGRhdGUgdHVybiBhbW91bnRzIGZyb20gYmVhdCBkYXRhXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21CZWF0RGF0YShiZWF0RGF0YTogQmVhdERhdGEgfCBudWxsKSB7XG4gICAgaWYgKCFiZWF0RGF0YT8ucGljdG9ncmFwaERhdGEpIHJldHVybjtcblxuICAgIGNvbnN0IHBpY3RvZ3JhcGggPSBiZWF0RGF0YS5waWN0b2dyYXBoRGF0YTtcblxuICAgIC8vIFVwZGF0ZSB0dXJuIGFtb3VudHMgZnJvbSBwaWN0b2dyYXBoIGRhdGFcbiAgICBpZiAocGljdG9ncmFwaC5tb3Rpb25zPy5ibHVlPy50dXJucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBibHVlVHVybkFtb3VudCA9XG4gICAgICAgIHR5cGVvZiBwaWN0b2dyYXBoLm1vdGlvbnMuYmx1ZS50dXJucyA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgID8gcGljdG9ncmFwaC5tb3Rpb25zLmJsdWUudHVybnNcbiAgICAgICAgICA6IDA7XG4gICAgfVxuICAgIGlmIChwaWN0b2dyYXBoLm1vdGlvbnM/LnJlZD8udHVybnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVkVHVybkFtb3VudCA9XG4gICAgICAgIHR5cGVvZiBwaWN0b2dyYXBoLm1vdGlvbnMucmVkLnR1cm5zID09PSBcIm51bWJlclwiXG4gICAgICAgICAgPyBwaWN0b2dyYXBoLm1vdGlvbnMucmVkLnR1cm5zXG4gICAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiVHVybkFkanVzdG1lbnRDb250cm9sczogVXBkYXRlZCBmcm9tIGJlYXQgZGF0YVwiLCB7XG4gICAgICBibHVlOiBibHVlVHVybkFtb3VudCxcbiAgICAgIHJlZDogcmVkVHVybkFtb3VudCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZvcm1hdCB0dXJuIGRpc3BsYXlcbiAgZnVuY3Rpb24gZm9ybWF0VHVybkRpc3BsYXkodHVybkFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAodHVybkFtb3VudCA9PT0gMCkgcmV0dXJuIFwiMFwiO1xuICAgIHJldHVybiB0dXJuQW1vdW50ID4gMCA/IGArJHt0dXJuQW1vdW50fWAgOiBgJHt0dXJuQW1vdW50fWA7XG4gIH1cblxuICAvLyBHZXQgdHVybiBkZXNjcmlwdGlvblxuICBmdW5jdGlvbiBnZXRUdXJuRGVzY3JpcHRpb24odHVybkFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAodHVybkFtb3VudCA9PT0gMCkgcmV0dXJuIFwiTm8gdHVyblwiO1xuICAgIGlmICh0dXJuQW1vdW50ID4gMCkgcmV0dXJuIGAke3R1cm5BbW91bnR9IGNsb2Nrd2lzZWA7XG4gICAgcmV0dXJuIGAke01hdGguYWJzKHR1cm5BbW91bnQpfSBjb3VudGVyLWNsb2Nrd2lzZWA7XG4gIH1cblxuICAvLyBSZWFjdGl2ZSB1cGRhdGVzXG4gICRlZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZUZyb21CZWF0RGF0YShjdXJyZW50QmVhdERhdGEpO1xuICB9KTtcblxuICBvbk1vdW50KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlR1cm5BZGp1c3RtZW50Q29udHJvbHMgbW91bnRlZFwiKTtcbiAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInR1cm4tYWRqdXN0bWVudC1jb250cm9sc1wiIGRhdGEtdGVzdGlkPVwidHVybi1hZGp1c3RtZW50LWNvbnRyb2xzXCI+XG4gIDwhLS0gQmx1ZSB0dXJuIGNvbnRyb2xzIC0tPlxuICA8ZGl2IGNsYXNzPVwidHVybi1zZWN0aW9uIGJsdWUtc2VjdGlvblwiPlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRlclwiPlxuICAgICAgPGg0PkJsdWUgUHJvcCBUdXJuczwvaDQ+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3VycmVudC12YWx1ZVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInR1cm4tYW1vdW50XCI+e2Zvcm1hdFR1cm5EaXNwbGF5KGJsdWVUdXJuQW1vdW50KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidHVybi1kZXNjXCI+e2dldFR1cm5EZXNjcmlwdGlvbihibHVlVHVybkFtb3VudCl9PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInR1cm4tZ3JpZFwiPlxuICAgICAgeyNlYWNoIHR1cm5BbW91bnRPcHRpb25zIGFzIHR1cm5WYWx1ZX1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwidHVybi1idG4gYmx1ZS1idG5cIlxuICAgICAgICAgIGNsYXNzOmFjdGl2ZT17Ymx1ZVR1cm5BbW91bnQgPT09IHR1cm5WYWx1ZSAmJlxuICAgICAgICAgICAgc2VsZWN0ZWRDb2xvciA9PT0gTW90aW9uQ29sb3IuQkxVRX1cbiAgICAgICAgICBjbGFzczpzZWxlY3RlZD17Ymx1ZVR1cm5BbW91bnQgPT09IHR1cm5WYWx1ZX1cbiAgICAgICAgICBvbmNsaWNrPXsoKSA9PiBoYW5kbGVUdXJuQW1vdW50Q2xpY2soTW90aW9uQ29sb3IuQkxVRSwgdHVyblZhbHVlKX1cbiAgICAgICAgPlxuICAgICAgICAgIHtmb3JtYXRUdXJuRGlzcGxheSh0dXJuVmFsdWUpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIHsvZWFjaH1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPCEtLSBUdXJuIGRpcmVjdGlvbiBsZWdlbmQgLS0+XG4gIDxkaXYgY2xhc3M9XCJ0dXJuLWxlZ2VuZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtaXRlbVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtc3ltYm9sXCI+Kzwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibGVnZW5kLXRleHRcIj5DbG9ja3dpc2U8L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1pdGVtXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImxlZ2VuZC1zeW1ib2xcIj4tPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtdGV4dFwiPkNvdW50ZXItY2xvY2t3aXNlPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtaXRlbVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtc3ltYm9sXCI+MDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibGVnZW5kLXRleHRcIj5ObyB0dXJuPC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8IS0tIFJlZCB0dXJuIGNvbnRyb2xzIC0tPlxuICA8ZGl2IGNsYXNzPVwidHVybi1zZWN0aW9uIHJlZC1zZWN0aW9uXCI+XG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb24taGVhZGVyXCI+XG4gICAgICA8aDQ+UmVkIFByb3AgVHVybnM8L2g0PlxuICAgICAgPGRpdiBjbGFzcz1cImN1cnJlbnQtdmFsdWVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0dXJuLWFtb3VudFwiPntmb3JtYXRUdXJuRGlzcGxheShyZWRUdXJuQW1vdW50KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidHVybi1kZXNjXCI+e2dldFR1cm5EZXNjcmlwdGlvbihyZWRUdXJuQW1vdW50KX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidHVybi1ncmlkXCI+XG4gICAgICB7I2VhY2ggdHVybkFtb3VudE9wdGlvbnMgYXMgdHVyblZhbHVlfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJ0dXJuLWJ0biByZWQtYnRuXCJcbiAgICAgICAgICBjbGFzczphY3RpdmU9e3JlZFR1cm5BbW91bnQgPT09IHR1cm5WYWx1ZSAmJlxuICAgICAgICAgICAgc2VsZWN0ZWRDb2xvciA9PT0gTW90aW9uQ29sb3IuUkVEfVxuICAgICAgICAgIGNsYXNzOnNlbGVjdGVkPXtyZWRUdXJuQW1vdW50ID09PSB0dXJuVmFsdWV9XG4gICAgICAgICAgb25jbGljaz17KCkgPT4gaGFuZGxlVHVybkFtb3VudENsaWNrKE1vdGlvbkNvbG9yLlJFRCwgdHVyblZhbHVlKX1cbiAgICAgICAgPlxuICAgICAgICAgIHtmb3JtYXRUdXJuRGlzcGxheSh0dXJuVmFsdWUpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIHsvZWFjaH1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAudHVybi1hZGp1c3RtZW50LWNvbnRyb2xzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAudHVybi1zZWN0aW9uIHtcbiAgICBmbGV4OiAxO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICB9XG5cbiAgLmJsdWUtc2VjdGlvbiB7XG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LCAxMzAsIDI0NiwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LCAxMzAsIDI0NiwgMC4wNSk7XG4gIH1cblxuICAucmVkLXNlY3Rpb24ge1xuICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMzksIDY4LCA2OCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzOSwgNjgsIDY4LCAwLjA1KTtcbiAgfVxuXG4gIC5zZWN0aW9uLWhlYWRlciB7XG4gICAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy1tZCk7XG4gICAgcGFkZGluZy1ib3R0b206IHZhcigtLXNwYWNpbmctc20pO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIH1cblxuICAuc2VjdGlvbi1oZWFkZXIgaDQge1xuICAgIG1hcmdpbjogMCAwIHZhcigtLXNwYWNpbmcteHMpIDA7XG4gICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtbWQpO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgY29sb3I6IHZhcigtLWZvcmVncm91bmQpO1xuICB9XG5cbiAgLmN1cnJlbnQtdmFsdWUge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmcteHMpO1xuICB9XG5cbiAgLnR1cm4tYW1vdW50IHtcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1sZyk7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICBjb2xvcjogdmFyKC0tZm9yZWdyb3VuZCk7XG4gIH1cblxuICAudHVybi1kZXNjIHtcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbSk7XG4gICAgY29sb3I6IHZhcigtLW11dGVkLWZvcmVncm91bmQpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgfVxuXG4gIC50dXJuLWdyaWQge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmcteHMpO1xuICB9XG5cbiAgLnR1cm4tYnRuIHtcbiAgICBhc3BlY3QtcmF0aW86IDE7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1zbSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgY29sb3I6IHZhcigtLWZvcmVncm91bmQpO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtKTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC50dXJuLWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgfVxuXG4gIC5ibHVlLWJ0bi5zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSg1OSwgMTMwLCAyNDYsIDAuMik7XG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LCAxMzAsIDI0NiwgMC41KTtcbiAgICBjb2xvcjogcmdiKDU5LCAxMzAsIDI0Nik7XG4gIH1cblxuICAucmVkLWJ0bi5zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMzksIDY4LCA2OCwgMC4yKTtcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMjM5LCA2OCwgNjgsIDAuNSk7XG4gICAgY29sb3I6IHJnYigyMzksIDY4LCA2OCk7XG4gIH1cblxuICAuYmx1ZS1idG4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LCAxMzAsIDI0NiwgMC4zKTtcbiAgICBib3JkZXItY29sb3I6IHJnYig1OSwgMTMwLCAyNDYpO1xuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjMpO1xuICB9XG5cbiAgLnJlZC1idG4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzOSwgNjgsIDY4LCAwLjMpO1xuICAgIGJvcmRlci1jb2xvcjogcmdiKDIzOSwgNjgsIDY4KTtcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDIzOSwgNjgsIDY4LCAwLjMpO1xuICB9XG5cbiAgLnR1cm4tbGVnZW5kIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLXhzKTtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICBtaW4td2lkdGg6IDE0MHB4O1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAubGVnZW5kLWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmcteHMpO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtKTtcbiAgfVxuXG4gIC5sZWdlbmQtc3ltYm9sIHtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgICBtaW4td2lkdGg6IDE2cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLmxlZ2VuZC10ZXh0IHtcbiAgICBjb2xvcjogdmFyKC0tbXV0ZWQtZm9yZWdyb3VuZCk7XG4gIH1cblxuICAvKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC50dXJuLWFkanVzdG1lbnQtY29udHJvbHMge1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGdhcDogdmFyKC0tc3BhY2luZy1zbSk7XG4gICAgfVxuXG4gICAgLnR1cm4tc2VjdGlvbiB7XG4gICAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLXNtKTtcbiAgICB9XG5cbiAgICAudHVybi1ncmlkIHtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDQsIDFmcik7XG4gICAgICBnYXA6IHZhcigtLXNwYWNpbmcteHMpO1xuICAgIH1cblxuICAgIC50dXJuLWJ0biB7XG4gICAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLXhzKTtcbiAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXhzKTtcbiAgICB9XG5cbiAgICAudHVybi1sZWdlbmQge1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGdhcDogdmFyKC0tc3BhY2luZy14cyk7XG4gICAgICBtaW4td2lkdGg6IHVuc2V0O1xuICAgICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICB9XG4gIH1cblxuICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAuc2VjdGlvbi1oZWFkZXIge1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgZ2FwOiB2YXIoLS1zcGFjaW5nLXhzKTtcbiAgICB9XG5cbiAgICAuY3VycmVudC12YWx1ZSB7XG4gICAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbiAgICB9XG5cbiAgICAudHVybi1sZWdlbmQge1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGdhcDogdmFyKC0tc3BhY2luZy14cyk7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIl0sImZpbGUiOiJDOi9US0Evd2ViL3NyYy9saWIvY29tcG9uZW50cy9ncmFwaC1lZGl0b3IvVHVybkFkanVzdG1lbnRDb250cm9scy5zdmVsdGUifQ==