import { LetterGeneratorFactory } from "/src/lib/services/implementations/generation/letter-generators/LetterGeneratorFactory.ts";
export class PictographGenerator {
  letterGeneratorFactory;
  constructor(patternService, positionCalculator, validator) {
    this.letterGeneratorFactory = new LetterGeneratorFactory(
      patternService,
      positionCalculator,
      validator
    );
  }
  // ===== ORCHESTRATION METHODS =====
  /**
   * Get movement set for any supported letter
   */
  getPictographDataByLetter(letter) {
    const generator = this.letterGeneratorFactory.createGenerator(letter);
    return generator?.generate();
  }
  /**
   * Get all movement sets for all supported letters
   */
  getAllPictographDatas() {
    const supportedLetters = this.letterGeneratorFactory.getSupportedLetters();
    const PictographDatas = [];
    for (const letter of supportedLetters) {
      const generator = this.letterGeneratorFactory.createGenerator(letter);
      if (generator) {
        PictographDatas.push(generator.generate());
      }
    }
    return PictographDatas;
  }
  /**
   * Get list of all supported letters
   */
  getSupportedLetters() {
    return this.letterGeneratorFactory.getSupportedLetters();
  }
  // ===== INDIVIDUAL LETTER METHODS (Legacy API Compatibility) =====
  // These delegate to the appropriate letter generators
  generateA() {
    return [this.requireGenerator("A").generate()];
  }
  generateB() {
    return [this.requireGenerator("B").generate()];
  }
  generateC() {
    return [this.requireGenerator("C").generate()];
  }
  // TODO: Add remaining letters as generators are implemented
  generateD() {
    return [this.generateBasicPattern("D")];
  }
  generateE() {
    return [this.generateBasicPattern("E")];
  }
  generateF() {
    return [this.generateBasicPattern("F")];
  }
  generateG() {
    return [this.generateBasicPattern("G")];
  }
  generateH() {
    return [this.generateBasicPattern("H")];
  }
  generateI() {
    return [this.generateBasicPattern("I")];
  }
  generateJ() {
    return [this.generateBasicPattern("J")];
  }
  generateK() {
    return [this.generateBasicPattern("K")];
  }
  generateL() {
    return [this.generateBasicPattern("L")];
  }
  generateM() {
    return [this.generateBasicPattern("M")];
  }
  generateN() {
    return [this.generateBasicPattern("N")];
  }
  generateO() {
    return [this.generateBasicPattern("O")];
  }
  generateP() {
    return [this.generateBasicPattern("P")];
  }
  generateQ() {
    return [this.generateBasicPattern("Q")];
  }
  generateR() {
    return [this.generateBasicPattern("R")];
  }
  generateS() {
    return [this.generateBasicPattern("S")];
  }
  generateT() {
    return [this.generateBasicPattern("T")];
  }
  generateU() {
    return [this.generateBasicPattern("U")];
  }
  generateV() {
    return [this.generateBasicPattern("V")];
  }
  generateW() {
    return [this.generateBasicPattern("W")];
  }
  generateX() {
    return [this.generateBasicPattern("X")];
  }
  generateY() {
    return [this.generateBasicPattern("Y")];
  }
  generateZ() {
    return [this.generateBasicPattern("Z")];
  }
  // Greek letters (TODO: implement specific generators)
  generateSigma() {
    return [this.generateBasicPattern("Σ")];
  }
  generateDelta() {
    return [this.generateBasicPattern("Δ")];
  }
  generateTheta() {
    return [this.generateBasicPattern("θ")];
  }
  generateOmega() {
    return [this.generateBasicPattern("Ω")];
  }
  generatePhi() {
    return [this.generateBasicPattern("Φ")];
  }
  generatePsi() {
    return [this.generateBasicPattern("Ψ")];
  }
  generateLambda() {
    return [this.generateBasicPattern("Λ")];
  }
  generateAlpha() {
    return [this.generateBasicPattern("α")];
  }
  generateBeta() {
    return [this.generateBasicPattern("β")];
  }
  generateGamma() {
    return [this.generateBasicPattern("Γ")];
  }
  // Dash variants (TODO: implement specific generators)
  generateWDash() {
    return [this.generateBasicPattern("W-")];
  }
  generateXDash() {
    return [this.generateBasicPattern("X-")];
  }
  generateYDash() {
    return [this.generateBasicPattern("Y-")];
  }
  generateZDash() {
    return [this.generateBasicPattern("Z-")];
  }
  generateSigmaDash() {
    return [this.generateBasicPattern("Σ-")];
  }
  generateDeltaDash() {
    return [this.generateBasicPattern("Δ-")];
  }
  generateThetaDash() {
    return [this.generateBasicPattern("θ-")];
  }
  generateOmegaDash() {
    return [this.generateBasicPattern("Ω-")];
  }
  generatePhiDash() {
    return [this.generateBasicPattern("Φ-")];
  }
  generatePsiDash() {
    return [this.generateBasicPattern("Ψ-")];
  }
  generateLambdaDash() {
    return [this.generateBasicPattern("Λ-")];
  }
  // ===== PRIVATE HELPER METHODS =====
  requireGenerator(letter) {
    const generator = this.letterGeneratorFactory.createGenerator(letter);
    if (!generator) {
      throw new Error(`No generator available for letter: ${letter}`);
    }
    return generator;
  }
  generateBasicPattern(letter) {
    const generator = this.letterGeneratorFactory.createGenerator(letter);
    if (generator) {
      return generator.generate();
    }
    throw new Error(`Generator for letter ${letter} not yet implemented`);
  }
  // Utility methods required by interface
  getAllPictographs() {
    const allPictographs = [];
    allPictographs.push(...this.generateA());
    allPictographs.push(...this.generateB());
    allPictographs.push(...this.generateC());
    return allPictographs;
  }
  getPictographsByLetter(letter) {
    try {
      switch (letter.toUpperCase()) {
        case "A":
          return this.generateA();
        case "B":
          return this.generateB();
        case "C":
          return this.generateC();
        case "D":
          return this.generateD();
        case "E":
          return this.generateE();
        // Add more cases as needed...
        default:
          console.warn(
            `PictographGenerator: No generator for letter ${letter}`
          );
          return void 0;
      }
    } catch (error) {
      console.error(
        `Failed to generate pictographs for letter ${letter}:`,
        error
      );
      return void 0;
    }
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9nZW5lcmF0aW9uL1BpY3RvZ3JhcGhHZW5lcmF0b3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogTW92ZW1lbnQgR2VuZXJhdG9yIFNlcnZpY2UgLSBPcmNoZXN0cmF0b3IgKFJlZmFjdG9yZWQpXG4gKlxuICogTm93IGFjdHMgYXMgYSBsaWdodHdlaWdodCBvcmNoZXN0cmF0b3IgdGhhdCBkZWxlZ2F0ZXMgdG8gc3BlY2lmaWMgbGV0dGVyIGdlbmVyYXRvcnMuXG4gKiBFYWNoIGxldHRlciBoYXMgaXRzIG93biBtaWNyb3NlcnZpY2UgZ2VuZXJhdG9yIGZvbGxvd2luZyBzaW5nbGUgcmVzcG9uc2liaWxpdHkgcHJpbmNpcGxlLlxuICpcbiAqIEZyb20gNTgyIGxpbmVzIOKGkiB+MTAwIGxpbmVzIGJ5IGV4dHJhY3RpbmcgbGV0dGVyLXNwZWNpZmljIGxvZ2ljIGludG8gbWljcm9zZXJ2aWNlcy5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IFBpY3RvZ3JhcGhEYXRhIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9QaWN0b2dyYXBoRGF0YVwiO1xuaW1wb3J0IHR5cGUgeyBJUGljdG9ncmFwaEdlbmVyYXRvciB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2dlbmVyYXRpb24taW50ZXJmYWNlc1wiO1xuaW1wb3J0IHR5cGUgeyBJTGV0dGVyR2VuZXJhdG9yRmFjdG9yeSB9IGZyb20gXCIuL2NvcmUvSUxldHRlckdlbmVyYXRvclwiO1xuaW1wb3J0IHsgTGV0dGVyR2VuZXJhdG9yRmFjdG9yeSB9IGZyb20gXCIuL2xldHRlci1nZW5lcmF0b3JzL0xldHRlckdlbmVyYXRvckZhY3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIFBpY3RvZ3JhcGhHZW5lcmF0b3IgaW1wbGVtZW50cyBJUGljdG9ncmFwaEdlbmVyYXRvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbGV0dGVyR2VuZXJhdG9yRmFjdG9yeTogSUxldHRlckdlbmVyYXRvckZhY3Rvcnk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGF0dGVyblNlcnZpY2U6IGltcG9ydChcIi4uLy4uL2ludGVyZmFjZXMvZ2VuZXJhdGlvbi1pbnRlcmZhY2VzXCIpLklQb3NpdGlvblBhdHRlcm5TZXJ2aWNlLFxuICAgIHBvc2l0aW9uQ2FsY3VsYXRvcjogaW1wb3J0KFwiLi4vLi4vaW50ZXJmYWNlcy9nZW5lcmF0aW9uLWludGVyZmFjZXNcIikuSURpcmVjdGlvbkNhbGN1bGF0b3IsXG4gICAgdmFsaWRhdG9yOiBpbXBvcnQoXCIuLi8uLi9pbnRlcmZhY2VzL2dlbmVyYXRpb24taW50ZXJmYWNlc1wiKS5JUGljdG9ncmFwaFZhbGlkYXRvclNlcnZpY2VcbiAgKSB7XG4gICAgdGhpcy5sZXR0ZXJHZW5lcmF0b3JGYWN0b3J5ID0gbmV3IExldHRlckdlbmVyYXRvckZhY3RvcnkoXG4gICAgICBwYXR0ZXJuU2VydmljZSxcbiAgICAgIHBvc2l0aW9uQ2FsY3VsYXRvcixcbiAgICAgIHZhbGlkYXRvclxuICAgICk7XG4gIH1cblxuICAvLyA9PT09PSBPUkNIRVNUUkFUSU9OIE1FVEhPRFMgPT09PT1cblxuICAvKipcbiAgICogR2V0IG1vdmVtZW50IHNldCBmb3IgYW55IHN1cHBvcnRlZCBsZXR0ZXJcbiAgICovXG4gIGdldFBpY3RvZ3JhcGhEYXRhQnlMZXR0ZXIobGV0dGVyOiBzdHJpbmcpOiBQaWN0b2dyYXBoRGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gdGhpcy5sZXR0ZXJHZW5lcmF0b3JGYWN0b3J5LmNyZWF0ZUdlbmVyYXRvcihsZXR0ZXIpO1xuICAgIHJldHVybiBnZW5lcmF0b3I/LmdlbmVyYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBtb3ZlbWVudCBzZXRzIGZvciBhbGwgc3VwcG9ydGVkIGxldHRlcnNcbiAgICovXG4gIGdldEFsbFBpY3RvZ3JhcGhEYXRhcygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICBjb25zdCBzdXBwb3J0ZWRMZXR0ZXJzID0gdGhpcy5sZXR0ZXJHZW5lcmF0b3JGYWN0b3J5LmdldFN1cHBvcnRlZExldHRlcnMoKTtcbiAgICBjb25zdCBQaWN0b2dyYXBoRGF0YXM6IFBpY3RvZ3JhcGhEYXRhW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgbGV0dGVyIG9mIHN1cHBvcnRlZExldHRlcnMpIHtcbiAgICAgIGNvbnN0IGdlbmVyYXRvciA9IHRoaXMubGV0dGVyR2VuZXJhdG9yRmFjdG9yeS5jcmVhdGVHZW5lcmF0b3IobGV0dGVyKTtcbiAgICAgIGlmIChnZW5lcmF0b3IpIHtcbiAgICAgICAgUGljdG9ncmFwaERhdGFzLnB1c2goZ2VuZXJhdG9yLmdlbmVyYXRlKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQaWN0b2dyYXBoRGF0YXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxpc3Qgb2YgYWxsIHN1cHBvcnRlZCBsZXR0ZXJzXG4gICAqL1xuICBnZXRTdXBwb3J0ZWRMZXR0ZXJzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5sZXR0ZXJHZW5lcmF0b3JGYWN0b3J5LmdldFN1cHBvcnRlZExldHRlcnMoKTtcbiAgfVxuXG4gIC8vID09PT09IElORElWSURVQUwgTEVUVEVSIE1FVEhPRFMgKExlZ2FjeSBBUEkgQ29tcGF0aWJpbGl0eSkgPT09PT1cbiAgLy8gVGhlc2UgZGVsZWdhdGUgdG8gdGhlIGFwcHJvcHJpYXRlIGxldHRlciBnZW5lcmF0b3JzXG5cbiAgZ2VuZXJhdGVBKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5yZXF1aXJlR2VuZXJhdG9yKFwiQVwiKS5nZW5lcmF0ZSgpXTtcbiAgfVxuXG4gIGdlbmVyYXRlQigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMucmVxdWlyZUdlbmVyYXRvcihcIkJcIikuZ2VuZXJhdGUoKV07XG4gIH1cblxuICBnZW5lcmF0ZUMoKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLnJlcXVpcmVHZW5lcmF0b3IoXCJDXCIpLmdlbmVyYXRlKCldO1xuICB9XG5cbiAgLy8gVE9ETzogQWRkIHJlbWFpbmluZyBsZXR0ZXJzIGFzIGdlbmVyYXRvcnMgYXJlIGltcGxlbWVudGVkXG4gIGdlbmVyYXRlRCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJEXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlRSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJFXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlRigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJGXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlRygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJHXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlSCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJIXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlSSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJJXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlSigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJKXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlSygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJLXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlTCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJMXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlTSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJNXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlTigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJOXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlTygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJPXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJQXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJRXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJSXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJTXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlVCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJUXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlVSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJVXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlVigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJWXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlVygpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJXXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlWCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJYXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlWSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJZXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlWigpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJaXCIpXTtcbiAgfVxuXG4gIC8vIEdyZWVrIGxldHRlcnMgKFRPRE86IGltcGxlbWVudCBzcGVjaWZpYyBnZW5lcmF0b3JzKVxuICBnZW5lcmF0ZVNpZ21hKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6jXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlRGVsdGEoKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizpRcIildO1xuICB9XG5cbiAgZ2VuZXJhdGVUaGV0YSgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCLOuFwiKV07XG4gIH1cblxuICBnZW5lcmF0ZU9tZWdhKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6pXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUGhpKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6mXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUHNpKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6oXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlTGFtYmRhKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6bXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlQWxwaGEoKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizrFcIildO1xuICB9XG5cbiAgZ2VuZXJhdGVCZXRhKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6yXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlR2FtbWEoKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizpNcIildO1xuICB9XG5cbiAgLy8gRGFzaCB2YXJpYW50cyAoVE9ETzogaW1wbGVtZW50IHNwZWNpZmljIGdlbmVyYXRvcnMpXG4gIGdlbmVyYXRlV0Rhc2goKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwiVy1cIildO1xuICB9XG5cbiAgZ2VuZXJhdGVYRGFzaCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCJYLVwiKV07XG4gIH1cblxuICBnZW5lcmF0ZVlEYXNoKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIlktXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlWkRhc2goKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwiWi1cIildO1xuICB9XG5cbiAgZ2VuZXJhdGVTaWdtYURhc2goKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizqMtXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlRGVsdGFEYXNoKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6ULVwiKV07XG4gIH1cblxuICBnZW5lcmF0ZVRoZXRhRGFzaCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCLOuC1cIildO1xuICB9XG5cbiAgZ2VuZXJhdGVPbWVnYURhc2goKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizqktXCIpXTtcbiAgfVxuXG4gIGdlbmVyYXRlUGhpRGFzaCgpOiBQaWN0b2dyYXBoRGF0YVtdIHtcbiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVCYXNpY1BhdHRlcm4oXCLOpi1cIildO1xuICB9XG5cbiAgZ2VuZXJhdGVQc2lEYXNoKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIHJldHVybiBbdGhpcy5nZW5lcmF0ZUJhc2ljUGF0dGVybihcIs6oLVwiKV07XG4gIH1cblxuICBnZW5lcmF0ZUxhbWJkYURhc2goKTogUGljdG9ncmFwaERhdGFbXSB7XG4gICAgcmV0dXJuIFt0aGlzLmdlbmVyYXRlQmFzaWNQYXR0ZXJuKFwizpstXCIpXTtcbiAgfVxuXG4gIC8vID09PT09IFBSSVZBVEUgSEVMUEVSIE1FVEhPRFMgPT09PT1cblxuICBwcml2YXRlIHJlcXVpcmVHZW5lcmF0b3IobGV0dGVyOiBzdHJpbmcpIHtcbiAgICBjb25zdCBnZW5lcmF0b3IgPSB0aGlzLmxldHRlckdlbmVyYXRvckZhY3RvcnkuY3JlYXRlR2VuZXJhdG9yKGxldHRlcik7XG4gICAgaWYgKCFnZW5lcmF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZ2VuZXJhdG9yIGF2YWlsYWJsZSBmb3IgbGV0dGVyOiAke2xldHRlcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVCYXNpY1BhdHRlcm4obGV0dGVyOiBzdHJpbmcpOiBQaWN0b2dyYXBoRGF0YSB7XG4gICAgLy8gRmFsbGJhY2sgZm9yIGxldHRlcnMgdGhhdCBkb24ndCBoYXZlIHNwZWNpZmljIGdlbmVyYXRvcnMgeWV0XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gdGhpcy5sZXR0ZXJHZW5lcmF0b3JGYWN0b3J5LmNyZWF0ZUdlbmVyYXRvcihsZXR0ZXIpO1xuICAgIGlmIChnZW5lcmF0b3IpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0b3IuZ2VuZXJhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdvdWxkIGltcGxlbWVudCBhIGJhc2ljIGRlZmF1bHQgcGF0dGVyblxuICAgIC8vIEZvciBub3csIHRocm93IGFuIGVycm9yIHRvIGluZGljYXRlIHRoZSBnZW5lcmF0b3IgbmVlZHMgdG8gYmUgaW1wbGVtZW50ZWRcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEdlbmVyYXRvciBmb3IgbGV0dGVyICR7bGV0dGVyfSBub3QgeWV0IGltcGxlbWVudGVkYCk7XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZHMgcmVxdWlyZWQgYnkgaW50ZXJmYWNlXG4gIGdldEFsbFBpY3RvZ3JhcGhzKCk6IFBpY3RvZ3JhcGhEYXRhW10ge1xuICAgIGNvbnN0IGFsbFBpY3RvZ3JhcGhzOiBQaWN0b2dyYXBoRGF0YVtdID0gW107XG5cbiAgICAvLyBBZGQgYWxsIGdlbmVyYXRlZCBwaWN0b2dyYXBoc1xuICAgIGFsbFBpY3RvZ3JhcGhzLnB1c2goLi4udGhpcy5nZW5lcmF0ZUEoKSk7XG4gICAgYWxsUGljdG9ncmFwaHMucHVzaCguLi50aGlzLmdlbmVyYXRlQigpKTtcbiAgICBhbGxQaWN0b2dyYXBocy5wdXNoKC4uLnRoaXMuZ2VuZXJhdGVDKCkpO1xuICAgIC8vIEFkZCBtb3JlIGFzIG5lZWRlZC4uLlxuXG4gICAgcmV0dXJuIGFsbFBpY3RvZ3JhcGhzO1xuICB9XG5cbiAgZ2V0UGljdG9ncmFwaHNCeUxldHRlcihsZXR0ZXI6IHN0cmluZyk6IFBpY3RvZ3JhcGhEYXRhW10gfCB1bmRlZmluZWQge1xuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKGxldHRlci50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVBKCk7XG4gICAgICAgIGNhc2UgXCJCXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVCKCk7XG4gICAgICAgIGNhc2UgXCJDXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDKCk7XG4gICAgICAgIGNhc2UgXCJEXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVEKCk7XG4gICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFKCk7XG4gICAgICAgIC8vIEFkZCBtb3JlIGNhc2VzIGFzIG5lZWRlZC4uLlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIGBQaWN0b2dyYXBoR2VuZXJhdG9yOiBObyBnZW5lcmF0b3IgZm9yIGxldHRlciAke2xldHRlcn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGdlbmVyYXRlIHBpY3RvZ3JhcGhzIGZvciBsZXR0ZXIgJHtsZXR0ZXJ9OmAsXG4gICAgICAgIGVycm9yXG4gICAgICApO1xuICAgICAg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S0FBSyxxQkFBcUIsSUFBSSxDQUFDO0FBQUEsRUFDekM7QUFBQSxFQUVBLGtCQUFvQztBQUNsQyxXQUFPLENBQUMsS0FBSyxxQkFBcUIsSUFBSSxDQUFDO0FBQUEsRUFDekM7QUFBQSxFQUVBLHFCQUF1QztBQUNyQyxXQUFPLENBQUMsS0FBSyxxQkFBcUIsSUFBSSxDQUFDO0FBQUEsRUFDekM7QUFBQTtBQUFBLEVBSVEsaUJBQWlCLFFBQWdCO0FBQ3ZDLFVBQU0sWUFBWSxLQUFLLHVCQUF1QixnQkFBZ0IsTUFBTTtBQUNwRSxRQUFJLENBQUMsV0FBVztBQUNkLFlBQU0sSUFBSSxNQUFNLHNDQUFzQyxNQUFNLEVBQUU7QUFBQSxJQUNoRTtBQUNBLFdBQU87QUFBQSxFQUNUO0FBQUEsRUFFUSxxQkFBcUIsUUFBZ0M7QUFFM0QsVUFBTSxZQUFZLEtBQUssdUJBQXVCLGdCQUFnQixNQUFNO0FBQ3BFLFFBQUksV0FBVztBQUNiLGFBQU8sVUFBVSxTQUFTO0FBQUEsSUFDNUI7QUFJQSxVQUFNLElBQUksTUFBTSx3QkFBd0IsTUFBTSxzQkFBc0I7QUFBQSxFQUN0RTtBQUFBO0FBQUEsRUFHQSxvQkFBc0M7QUFDcEMsVUFBTSxpQkFBbUMsQ0FBQztBQUcxQyxtQkFBZSxLQUFLLEdBQUcsS0FBSyxVQUFVLENBQUM7QUFDdkMsbUJBQWUsS0FBSyxHQUFHLEtBQUssVUFBVSxDQUFDO0FBQ3ZDLG1CQUFlLEtBQUssR0FBRyxLQUFLLFVBQVUsQ0FBQztBQUd2QyxXQUFPO0FBQUEsRUFDVDtBQUFBLEVBRUEsdUJBQXVCLFFBQThDO0FBQ25FLFFBQUk7QUFDRixjQUFRLE9BQU8sWUFBWSxHQUFHO0FBQUEsUUFDNUIsS0FBSztBQUNILGlCQUFPLEtBQUssVUFBVTtBQUFBLFFBQ3hCLEtBQUs7QUFDSCxpQkFBTyxLQUFLLFVBQVU7QUFBQSxRQUN4QixLQUFLO0FBQ0gsaUJBQU8sS0FBSyxVQUFVO0FBQUEsUUFDeEIsS0FBSztBQUNILGlCQUFPLEtBQUssVUFBVTtBQUFBLFFBQ3hCLEtBQUs7QUFDSCxpQkFBTyxLQUFLLFVBQVU7QUFBQTtBQUFBLFFBRXhCO0FBQ0Usa0JBQVE7QUFBQSxZQUNOLGdEQUFnRCxNQUFNO0FBQUEsVUFDeEQ7QUFDQSxpQkFBTztBQUFBLE1BQ1g7QUFBQSxJQUNGLFNBQVMsT0FBTztBQUNkLGNBQVE7QUFBQSxRQUNOLDZDQUE2QyxNQUFNO0FBQUEsUUFDbkQ7QUFBQSxNQUNGO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQ0Y7IiwKICAibmFtZXMiOiBbXQp9Cg==
