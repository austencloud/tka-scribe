export class SequenceCardSVGCompositionService {
  minBeatSize = 80;
  // Minimum beat size in pixels
  maxBeatSize = 200;
  // Maximum beat size in pixels
  minSpacing = 8;
  // Minimum spacing between beats
  padding = 20;
  // Padding around the card
  /**
   * Create SVG layout for sequence beats
   */
  async createSequenceLayout(beatSVGs, dimensions) {
    try {
      if (beatSVGs.length === 0) {
        throw new Error("No beat SVGs provided");
      }
      console.log(`üé® Creating SVG layout for ${beatSVGs.length} beats`);
      const layout = this.calculateBeatLayout(beatSVGs.length, dimensions);
      const containerSVG = this.createContainerSVG(dimensions);
      const beatsGroup = this.createBeatsGroup(beatSVGs, layout);
      const finalSVG = this.combineSVGElements(containerSVG, beatsGroup);
      console.log(
        `‚úÖ Created SVG layout: ${layout.rows}x${layout.columns} grid`
      );
      return finalSVG;
    } catch (error) {
      console.error("‚ùå Failed to create SVG layout:", error);
      throw new Error(`SVG layout creation failed: ${error}`);
    }
  }
  /**
   * Calculate optimal beat arrangement
   */
  calculateBeatLayout(beatCount, dimensions) {
    try {
      const availableWidth = dimensions.width - this.padding * 2;
      const availableHeight = dimensions.height - this.padding * 2;
      const gridOptions = this.generateGridOptions(beatCount);
      const bestOption = this.selectBestGridOption(
        gridOptions,
        availableWidth,
        availableHeight
      );
      const layout = {
        rows: bestOption.rows,
        columns: bestOption.columns,
        beatWidth: bestOption.beatWidth,
        beatHeight: bestOption.beatHeight,
        spacing: {
          x: bestOption.spacingX,
          y: bestOption.spacingY
        }
      };
      console.log(`üìä Calculated beat layout:`, layout);
      return layout;
    } catch (error) {
      console.error("‚ùå Failed to calculate beat layout:", error);
      return this.createFallbackLayout(beatCount, dimensions);
    }
  }
  /**
   * Apply responsive sizing based on beat count
   */
  calculateResponsiveDimensions(beatCount, maxDimensions) {
    try {
      const aspectRatio = this.calculateOptimalAspectRatio(beatCount);
      let width = maxDimensions.width;
      let height = maxDimensions.height;
      if (width / height > aspectRatio) {
        width = height * aspectRatio;
      } else {
        height = width / aspectRatio;
      }
      const minWidth = Math.max(200, this.minBeatSize * 2 + this.padding * 2);
      const minHeight = Math.max(150, this.minBeatSize + this.padding * 2);
      width = Math.max(width, minWidth);
      height = Math.max(height, minHeight);
      const responsiveDimensions = {
        width: Math.round(width),
        height: Math.round(height),
        scale: maxDimensions.scale
      };
      console.log(
        `üì± Responsive dimensions for ${beatCount} beats:`,
        responsiveDimensions
      );
      return responsiveDimensions;
    } catch (error) {
      console.error("‚ùå Failed to calculate responsive dimensions:", error);
      return maxDimensions;
    }
  }
  // ============================================================================
  // PRIVATE METHODS
  // ============================================================================
  generateGridOptions(beatCount) {
    const options = [];
    for (let cols = 1; cols <= Math.min(beatCount, 6); cols++) {
      const rows = Math.ceil(beatCount / cols);
      const totalCells = rows * cols;
      const efficiency = beatCount / totalCells;
      options.push({ rows, columns: cols, efficiency });
    }
    return options.sort((a, b) => b.efficiency - a.efficiency);
  }
  selectBestGridOption(gridOptions, availableWidth, availableHeight) {
    for (const option of gridOptions) {
      const spacingX = this.minSpacing;
      const spacingY = this.minSpacing;
      const beatWidth = (availableWidth - spacingX * (option.columns - 1)) / option.columns;
      const beatHeight = (availableHeight - spacingY * (option.rows - 1)) / option.rows;
      if (beatWidth >= this.minBeatSize && beatHeight >= this.minBeatSize && beatWidth <= this.maxBeatSize && beatHeight <= this.maxBeatSize) {
        return {
          ...option,
          beatWidth: Math.floor(beatWidth),
          beatHeight: Math.floor(beatHeight),
          spacingX,
          spacingY
        };
      }
    }
    const bestOption = gridOptions[0];
    const maxBeatWidth = (availableWidth - this.minSpacing * (bestOption.columns - 1)) / bestOption.columns;
    const maxBeatHeight = (availableHeight - this.minSpacing * (bestOption.rows - 1)) / bestOption.rows;
    return {
      ...bestOption,
      beatWidth: Math.max(this.minBeatSize, Math.floor(maxBeatWidth)),
      beatHeight: Math.max(this.minBeatSize, Math.floor(maxBeatHeight)),
      spacingX: this.minSpacing,
      spacingY: this.minSpacing
    };
  }
  createFallbackLayout(beatCount, dimensions) {
    const availableWidth = dimensions.width - this.padding * 2;
    const availableHeight = dimensions.height - this.padding * 2;
    const beatWidth = Math.min(
      (availableWidth - this.minSpacing * (beatCount - 1)) / beatCount,
      this.maxBeatSize
    );
    return {
      rows: 1,
      columns: beatCount,
      beatWidth: Math.max(this.minBeatSize, Math.floor(beatWidth)),
      beatHeight: Math.max(this.minBeatSize, Math.floor(availableHeight)),
      spacing: { x: this.minSpacing, y: this.minSpacing }
    };
  }
  calculateOptimalAspectRatio(beatCount) {
    if (beatCount <= 3) return 16 / 9;
    if (beatCount <= 6) return 4 / 3;
    if (beatCount <= 12) return 1 / 1;
    return 3 / 4;
  }
  createContainerSVG(dimensions) {
    return `<svg width="${dimensions.width}" height="${dimensions.height}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${dimensions.width} ${dimensions.height}">`;
  }
  createBeatsGroup(beatSVGs, layout) {
    let beatsGroup = `<g id="beats-group" transform="translate(${this.padding}, ${this.padding})">`;
    for (let i = 0; i < beatSVGs.length; i++) {
      const row = Math.floor(i / layout.columns);
      const col = i % layout.columns;
      const x = col * (layout.beatWidth + layout.spacing.x);
      const y = row * (layout.beatHeight + layout.spacing.y);
      const svgContent = this.extractSVGContent(beatSVGs[i]);
      beatsGroup += `
        <g transform="translate(${x}, ${y})">
          <svg x="0" y="0" width="${layout.beatWidth}" height="${layout.beatHeight}" viewBox="0 0 ${layout.beatWidth} ${layout.beatHeight}">
            ${svgContent}
          </svg>
        </g>`;
    }
    beatsGroup += "</g>";
    return beatsGroup;
  }
  extractSVGContent(svgString) {
    const match = svgString.match(/<svg[^>]*>([\s\S]*?)<\/svg>/i);
    return match ? match[1] : svgString;
  }
  combineSVGElements(containerSVG, beatsGroup) {
    return `${containerSVG}
      <!-- Background -->
      <rect width="100%" height="100%" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      
      <!-- Beats -->
      ${beatsGroup}
    </svg>`;
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiQzovVEtBL3dlYi9zcmMvbGliL3NlcnZpY2VzL2ltcGxlbWVudGF0aW9ucy9leHBvcnQvc2VxdWVuY2UtY2FyZC9TZXF1ZW5jZUNhcmRTVkdDb21wb3NpdGlvblNlcnZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogU2VxdWVuY2UgQ2FyZCBTVkcgQ29tcG9zaXRpb24gU2VydmljZVxuICpcbiAqIEhhbmRsZXMgU1ZHIGxheW91dCBjb21wb3NpdGlvbiBmb3Igc2VxdWVuY2UgY2FyZHMuXG4gKiBTaW5nbGUgcmVzcG9uc2liaWxpdHk6IEFycmFuZ2luZyBiZWF0IFNWR3MgaW50byBjYXJkIGxheW91dHMuXG4gKi9cblxuaW1wb3J0IHR5cGUge1xuICBJU2VxdWVuY2VDYXJkU1ZHQ29tcG9zaXRpb25TZXJ2aWNlLFxuICBTZXF1ZW5jZUNhcmREaW1lbnNpb25zLFxufSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9zZXF1ZW5jZS1jYXJkLWV4cG9ydC1pbnRlcmZhY2VzXCI7XG5cbmludGVyZmFjZSBCZWF0TGF5b3V0IHtcbiAgcm93czogbnVtYmVyO1xuICBjb2x1bW5zOiBudW1iZXI7XG4gIGJlYXRXaWR0aDogbnVtYmVyO1xuICBiZWF0SGVpZ2h0OiBudW1iZXI7XG4gIHNwYWNpbmc6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbn1cblxuZXhwb3J0IGNsYXNzIFNlcXVlbmNlQ2FyZFNWR0NvbXBvc2l0aW9uU2VydmljZVxuICBpbXBsZW1lbnRzIElTZXF1ZW5jZUNhcmRTVkdDb21wb3NpdGlvblNlcnZpY2VcbntcbiAgcHJpdmF0ZSByZWFkb25seSBtaW5CZWF0U2l6ZSA9IDgwOyAvLyBNaW5pbXVtIGJlYXQgc2l6ZSBpbiBwaXhlbHNcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhCZWF0U2l6ZSA9IDIwMDsgLy8gTWF4aW11bSBiZWF0IHNpemUgaW4gcGl4ZWxzXG4gIHByaXZhdGUgcmVhZG9ubHkgbWluU3BhY2luZyA9IDg7IC8vIE1pbmltdW0gc3BhY2luZyBiZXR3ZWVuIGJlYXRzXG4gIHByaXZhdGUgcmVhZG9ubHkgcGFkZGluZyA9IDIwOyAvLyBQYWRkaW5nIGFyb3VuZCB0aGUgY2FyZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgU1ZHIGxheW91dCBmb3Igc2VxdWVuY2UgYmVhdHNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNlcXVlbmNlTGF5b3V0KFxuICAgIGJlYXRTVkdzOiBzdHJpbmdbXSxcbiAgICBkaW1lbnNpb25zOiBTZXF1ZW5jZUNhcmREaW1lbnNpb25zXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChiZWF0U1ZHcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYmVhdCBTVkdzIHByb3ZpZGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+OqCBDcmVhdGluZyBTVkcgbGF5b3V0IGZvciAke2JlYXRTVkdzLmxlbmd0aH0gYmVhdHNgKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIG9wdGltYWwgbGF5b3V0XG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmNhbGN1bGF0ZUJlYXRMYXlvdXQoYmVhdFNWR3MubGVuZ3RoLCBkaW1lbnNpb25zKTtcblxuICAgICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBTVkdcbiAgICAgIGNvbnN0IGNvbnRhaW5lclNWRyA9IHRoaXMuY3JlYXRlQ29udGFpbmVyU1ZHKGRpbWVuc2lvbnMpO1xuXG4gICAgICAvLyBBZGQgYmVhdHMgdG8gbGF5b3V0XG4gICAgICBjb25zdCBiZWF0c0dyb3VwID0gdGhpcy5jcmVhdGVCZWF0c0dyb3VwKGJlYXRTVkdzLCBsYXlvdXQpO1xuXG4gICAgICAvLyBDb21iaW5lIGludG8gZmluYWwgU1ZHXG4gICAgICBjb25zdCBmaW5hbFNWRyA9IHRoaXMuY29tYmluZVNWR0VsZW1lbnRzKGNvbnRhaW5lclNWRywgYmVhdHNHcm91cCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBg4pyFIENyZWF0ZWQgU1ZHIGxheW91dDogJHtsYXlvdXQucm93c314JHtsYXlvdXQuY29sdW1uc30gZ3JpZGBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmluYWxTVkc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIGNyZWF0ZSBTVkcgbGF5b3V0OlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNWRyBsYXlvdXQgY3JlYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgb3B0aW1hbCBiZWF0IGFycmFuZ2VtZW50XG4gICAqL1xuICBjYWxjdWxhdGVCZWF0TGF5b3V0KFxuICAgIGJlYXRDb3VudDogbnVtYmVyLFxuICAgIGRpbWVuc2lvbnM6IFNlcXVlbmNlQ2FyZERpbWVuc2lvbnNcbiAgKTogQmVhdExheW91dCB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENhbGN1bGF0ZSBhdmFpbGFibGUgc3BhY2UgKG1pbnVzIHBhZGRpbmcpXG4gICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnBhZGRpbmcgKiAyO1xuICAgICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQgLSB0aGlzLnBhZGRpbmcgKiAyO1xuXG4gICAgICAvLyBGaW5kIG9wdGltYWwgZ3JpZCBhcnJhbmdlbWVudFxuICAgICAgY29uc3QgZ3JpZE9wdGlvbnMgPSB0aGlzLmdlbmVyYXRlR3JpZE9wdGlvbnMoYmVhdENvdW50KTtcbiAgICAgIGNvbnN0IGJlc3RPcHRpb24gPSB0aGlzLnNlbGVjdEJlc3RHcmlkT3B0aW9uKFxuICAgICAgICBncmlkT3B0aW9ucyxcbiAgICAgICAgYXZhaWxhYmxlV2lkdGgsXG4gICAgICAgIGF2YWlsYWJsZUhlaWdodFxuICAgICAgKTtcblxuICAgICAgY29uc3QgbGF5b3V0OiBCZWF0TGF5b3V0ID0ge1xuICAgICAgICByb3dzOiBiZXN0T3B0aW9uLnJvd3MsXG4gICAgICAgIGNvbHVtbnM6IGJlc3RPcHRpb24uY29sdW1ucyxcbiAgICAgICAgYmVhdFdpZHRoOiBiZXN0T3B0aW9uLmJlYXRXaWR0aCxcbiAgICAgICAgYmVhdEhlaWdodDogYmVzdE9wdGlvbi5iZWF0SGVpZ2h0LFxuICAgICAgICBzcGFjaW5nOiB7XG4gICAgICAgICAgeDogYmVzdE9wdGlvbi5zcGFjaW5nWCxcbiAgICAgICAgICB5OiBiZXN0T3B0aW9uLnNwYWNpbmdZLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coYPCfk4ogQ2FsY3VsYXRlZCBiZWF0IGxheW91dDpgLCBsYXlvdXQpO1xuICAgICAgcmV0dXJuIGxheW91dDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gY2FsY3VsYXRlIGJlYXQgbGF5b3V0OlwiLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayB0byBzaW1wbGUgc2luZ2xlLXJvdyBsYXlvdXRcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZhbGxiYWNrTGF5b3V0KGJlYXRDb3VudCwgZGltZW5zaW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IHJlc3BvbnNpdmUgc2l6aW5nIGJhc2VkIG9uIGJlYXQgY291bnRcbiAgICovXG4gIGNhbGN1bGF0ZVJlc3BvbnNpdmVEaW1lbnNpb25zKFxuICAgIGJlYXRDb3VudDogbnVtYmVyLFxuICAgIG1heERpbWVuc2lvbnM6IFNlcXVlbmNlQ2FyZERpbWVuc2lvbnNcbiAgKTogU2VxdWVuY2VDYXJkRGltZW5zaW9ucyB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIERldGVybWluZSBhc3BlY3QgcmF0aW8gYmFzZWQgb24gYmVhdCBjb3VudFxuICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSB0aGlzLmNhbGN1bGF0ZU9wdGltYWxBc3BlY3RSYXRpbyhiZWF0Q291bnQpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgZGltZW5zaW9ucyB0aGF0IGZpdCB3aXRoaW4gbWF4IGJvdW5kc1xuICAgICAgbGV0IHdpZHRoID0gbWF4RGltZW5zaW9ucy53aWR0aDtcbiAgICAgIGxldCBoZWlnaHQgPSBtYXhEaW1lbnNpb25zLmhlaWdodDtcblxuICAgICAgLy8gQWRqdXN0IHRvIG1haW50YWluIGFzcGVjdCByYXRpb1xuICAgICAgaWYgKHdpZHRoIC8gaGVpZ2h0ID4gYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSBtaW5pbXVtIGRpbWVuc2lvbnNcbiAgICAgIGNvbnN0IG1pbldpZHRoID0gTWF0aC5tYXgoMjAwLCB0aGlzLm1pbkJlYXRTaXplICogMiArIHRoaXMucGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgbWluSGVpZ2h0ID0gTWF0aC5tYXgoMTUwLCB0aGlzLm1pbkJlYXRTaXplICsgdGhpcy5wYWRkaW5nICogMik7XG5cbiAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIG1pbldpZHRoKTtcbiAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgbWluSGVpZ2h0KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2l2ZURpbWVuc2lvbnM6IFNlcXVlbmNlQ2FyZERpbWVuc2lvbnMgPSB7XG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCksXG4gICAgICAgIHNjYWxlOiBtYXhEaW1lbnNpb25zLnNjYWxlLFxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGDwn5OxIFJlc3BvbnNpdmUgZGltZW5zaW9ucyBmb3IgJHtiZWF0Q291bnR9IGJlYXRzOmAsXG4gICAgICAgIHJlc3BvbnNpdmVEaW1lbnNpb25zXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNpdmVEaW1lbnNpb25zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBjYWxjdWxhdGUgcmVzcG9uc2l2ZSBkaW1lbnNpb25zOlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gbWF4RGltZW5zaW9uczsgLy8gRmFsbGJhY2sgdG8gbWF4IGRpbWVuc2lvbnNcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBSSVZBVEUgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUdyaWRPcHRpb25zKGJlYXRDb3VudDogbnVtYmVyKTogQXJyYXk8e1xuICAgIHJvd3M6IG51bWJlcjtcbiAgICBjb2x1bW5zOiBudW1iZXI7XG4gICAgZWZmaWNpZW5jeTogbnVtYmVyO1xuICB9PiB7XG4gICAgY29uc3Qgb3B0aW9uczogQXJyYXk8e1xuICAgICAgcm93czogbnVtYmVyO1xuICAgICAgY29sdW1uczogbnVtYmVyO1xuICAgICAgZWZmaWNpZW5jeTogbnVtYmVyO1xuICAgIH0+ID0gW107XG5cbiAgICAvLyBHZW5lcmF0ZSByZWFzb25hYmxlIGdyaWQgY29tYmluYXRpb25zXG4gICAgZm9yIChsZXQgY29scyA9IDE7IGNvbHMgPD0gTWF0aC5taW4oYmVhdENvdW50LCA2KTsgY29scysrKSB7XG4gICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKGJlYXRDb3VudCAvIGNvbHMpO1xuICAgICAgY29uc3QgdG90YWxDZWxscyA9IHJvd3MgKiBjb2xzO1xuICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IGJlYXRDb3VudCAvIHRvdGFsQ2VsbHM7XG5cbiAgICAgIG9wdGlvbnMucHVzaCh7IHJvd3MsIGNvbHVtbnM6IGNvbHMsIGVmZmljaWVuY3kgfSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSBlZmZpY2llbmN5IChsZXNzIHdhc3RlZCBzcGFjZSBpcyBiZXR0ZXIpXG4gICAgcmV0dXJuIG9wdGlvbnMuc29ydCgoYSwgYikgPT4gYi5lZmZpY2llbmN5IC0gYS5lZmZpY2llbmN5KTtcbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0QmVzdEdyaWRPcHRpb24oXG4gICAgZ3JpZE9wdGlvbnM6IEFycmF5PHsgcm93czogbnVtYmVyOyBjb2x1bW5zOiBudW1iZXI7IGVmZmljaWVuY3k6IG51bWJlciB9PixcbiAgICBhdmFpbGFibGVXaWR0aDogbnVtYmVyLFxuICAgIGF2YWlsYWJsZUhlaWdodDogbnVtYmVyXG4gICk6IHtcbiAgICByb3dzOiBudW1iZXI7XG4gICAgY29sdW1uczogbnVtYmVyO1xuICAgIGJlYXRXaWR0aDogbnVtYmVyO1xuICAgIGJlYXRIZWlnaHQ6IG51bWJlcjtcbiAgICBzcGFjaW5nWDogbnVtYmVyO1xuICAgIHNwYWNpbmdZOiBudW1iZXI7XG4gIH0ge1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGdyaWRPcHRpb25zKSB7XG4gICAgICAvLyBDYWxjdWxhdGUgYmVhdCBzaXplIGZvciB0aGlzIGdyaWQgb3B0aW9uXG4gICAgICBjb25zdCBzcGFjaW5nWCA9IHRoaXMubWluU3BhY2luZztcbiAgICAgIGNvbnN0IHNwYWNpbmdZID0gdGhpcy5taW5TcGFjaW5nO1xuXG4gICAgICBjb25zdCBiZWF0V2lkdGggPVxuICAgICAgICAoYXZhaWxhYmxlV2lkdGggLSBzcGFjaW5nWCAqIChvcHRpb24uY29sdW1ucyAtIDEpKSAvIG9wdGlvbi5jb2x1bW5zO1xuICAgICAgY29uc3QgYmVhdEhlaWdodCA9XG4gICAgICAgIChhdmFpbGFibGVIZWlnaHQgLSBzcGFjaW5nWSAqIChvcHRpb24ucm93cyAtIDEpKSAvIG9wdGlvbi5yb3dzO1xuXG4gICAgICAvLyBDaGVjayBpZiBiZWF0IHNpemUgaXMgd2l0aGluIGFjY2VwdGFibGUgcmFuZ2VcbiAgICAgIGlmIChcbiAgICAgICAgYmVhdFdpZHRoID49IHRoaXMubWluQmVhdFNpemUgJiZcbiAgICAgICAgYmVhdEhlaWdodCA+PSB0aGlzLm1pbkJlYXRTaXplICYmXG4gICAgICAgIGJlYXRXaWR0aCA8PSB0aGlzLm1heEJlYXRTaXplICYmXG4gICAgICAgIGJlYXRIZWlnaHQgPD0gdGhpcy5tYXhCZWF0U2l6ZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ub3B0aW9uLFxuICAgICAgICAgIGJlYXRXaWR0aDogTWF0aC5mbG9vcihiZWF0V2lkdGgpLFxuICAgICAgICAgIGJlYXRIZWlnaHQ6IE1hdGguZmxvb3IoYmVhdEhlaWdodCksXG4gICAgICAgICAgc3BhY2luZ1gsXG4gICAgICAgICAgc3BhY2luZ1ksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gb3B0aW9uIGZpdHMgd2VsbCwgdXNlIHRoZSBtb3N0IGVmZmljaWVudCBvbmUgd2l0aCBzY2FsZWQtZG93biBiZWF0c1xuICAgIGNvbnN0IGJlc3RPcHRpb24gPSBncmlkT3B0aW9uc1swXTtcbiAgICBjb25zdCBtYXhCZWF0V2lkdGggPVxuICAgICAgKGF2YWlsYWJsZVdpZHRoIC0gdGhpcy5taW5TcGFjaW5nICogKGJlc3RPcHRpb24uY29sdW1ucyAtIDEpKSAvXG4gICAgICBiZXN0T3B0aW9uLmNvbHVtbnM7XG4gICAgY29uc3QgbWF4QmVhdEhlaWdodCA9XG4gICAgICAoYXZhaWxhYmxlSGVpZ2h0IC0gdGhpcy5taW5TcGFjaW5nICogKGJlc3RPcHRpb24ucm93cyAtIDEpKSAvXG4gICAgICBiZXN0T3B0aW9uLnJvd3M7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uYmVzdE9wdGlvbixcbiAgICAgIGJlYXRXaWR0aDogTWF0aC5tYXgodGhpcy5taW5CZWF0U2l6ZSwgTWF0aC5mbG9vcihtYXhCZWF0V2lkdGgpKSxcbiAgICAgIGJlYXRIZWlnaHQ6IE1hdGgubWF4KHRoaXMubWluQmVhdFNpemUsIE1hdGguZmxvb3IobWF4QmVhdEhlaWdodCkpLFxuICAgICAgc3BhY2luZ1g6IHRoaXMubWluU3BhY2luZyxcbiAgICAgIHNwYWNpbmdZOiB0aGlzLm1pblNwYWNpbmcsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRmFsbGJhY2tMYXlvdXQoXG4gICAgYmVhdENvdW50OiBudW1iZXIsXG4gICAgZGltZW5zaW9uczogU2VxdWVuY2VDYXJkRGltZW5zaW9uc1xuICApOiBCZWF0TGF5b3V0IHtcbiAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnBhZGRpbmcgKiAyO1xuICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nICogMjtcblxuICAgIC8vIFNpbXBsZSBzaW5nbGUtcm93IGxheW91dFxuICAgIGNvbnN0IGJlYXRXaWR0aCA9IE1hdGgubWluKFxuICAgICAgKGF2YWlsYWJsZVdpZHRoIC0gdGhpcy5taW5TcGFjaW5nICogKGJlYXRDb3VudCAtIDEpKSAvIGJlYXRDb3VudCxcbiAgICAgIHRoaXMubWF4QmVhdFNpemVcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd3M6IDEsXG4gICAgICBjb2x1bW5zOiBiZWF0Q291bnQsXG4gICAgICBiZWF0V2lkdGg6IE1hdGgubWF4KHRoaXMubWluQmVhdFNpemUsIE1hdGguZmxvb3IoYmVhdFdpZHRoKSksXG4gICAgICBiZWF0SGVpZ2h0OiBNYXRoLm1heCh0aGlzLm1pbkJlYXRTaXplLCBNYXRoLmZsb29yKGF2YWlsYWJsZUhlaWdodCkpLFxuICAgICAgc3BhY2luZzogeyB4OiB0aGlzLm1pblNwYWNpbmcsIHk6IHRoaXMubWluU3BhY2luZyB9LFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZU9wdGltYWxBc3BlY3RSYXRpbyhiZWF0Q291bnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gQ29tbW9uIGFzcGVjdCByYXRpb3MgYmFzZWQgb24gYmVhdCBjb3VudFxuICAgIGlmIChiZWF0Q291bnQgPD0gMykgcmV0dXJuIDE2IC8gOTsgLy8gV2lkZSBmb3IgZmV3IGJlYXRzXG4gICAgaWYgKGJlYXRDb3VudCA8PSA2KSByZXR1cm4gNCAvIDM7IC8vIFN0YW5kYXJkIGZvciBtZWRpdW0gY291bnRzXG4gICAgaWYgKGJlYXRDb3VudCA8PSAxMikgcmV0dXJuIDEgLyAxOyAvLyBTcXVhcmUgZm9yIG1hbnkgYmVhdHNcbiAgICByZXR1cm4gMyAvIDQ7IC8vIFRhbGwgZm9yIGxvdHMgb2YgYmVhdHNcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29udGFpbmVyU1ZHKGRpbWVuc2lvbnM6IFNlcXVlbmNlQ2FyZERpbWVuc2lvbnMpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHN2ZyB3aWR0aD1cIiR7ZGltZW5zaW9ucy53aWR0aH1cIiBoZWlnaHQ9XCIke2RpbWVuc2lvbnMuaGVpZ2h0fVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwICR7ZGltZW5zaW9ucy53aWR0aH0gJHtkaW1lbnNpb25zLmhlaWdodH1cIj5gO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVCZWF0c0dyb3VwKGJlYXRTVkdzOiBzdHJpbmdbXSwgbGF5b3V0OiBCZWF0TGF5b3V0KTogc3RyaW5nIHtcbiAgICBsZXQgYmVhdHNHcm91cCA9IGA8ZyBpZD1cImJlYXRzLWdyb3VwXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKCR7dGhpcy5wYWRkaW5nfSwgJHt0aGlzLnBhZGRpbmd9KVwiPmA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJlYXRTVkdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGkgLyBsYXlvdXQuY29sdW1ucyk7XG4gICAgICBjb25zdCBjb2wgPSBpICUgbGF5b3V0LmNvbHVtbnM7XG5cbiAgICAgIGNvbnN0IHggPSBjb2wgKiAobGF5b3V0LmJlYXRXaWR0aCArIGxheW91dC5zcGFjaW5nLngpO1xuICAgICAgY29uc3QgeSA9IHJvdyAqIChsYXlvdXQuYmVhdEhlaWdodCArIGxheW91dC5zcGFjaW5nLnkpO1xuXG4gICAgICAvLyBFeHRyYWN0IFNWRyBjb250ZW50IChyZW1vdmUgb3V0ZXIgU1ZHIHRhZ3MpXG4gICAgICBjb25zdCBzdmdDb250ZW50ID0gdGhpcy5leHRyYWN0U1ZHQ29udGVudChiZWF0U1ZHc1tpXSk7XG5cbiAgICAgIGJlYXRzR3JvdXAgKz0gYFxuICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoJHt4fSwgJHt5fSlcIj5cbiAgICAgICAgICA8c3ZnIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIiR7bGF5b3V0LmJlYXRXaWR0aH1cIiBoZWlnaHQ9XCIke2xheW91dC5iZWF0SGVpZ2h0fVwiIHZpZXdCb3g9XCIwIDAgJHtsYXlvdXQuYmVhdFdpZHRofSAke2xheW91dC5iZWF0SGVpZ2h0fVwiPlxuICAgICAgICAgICAgJHtzdmdDb250ZW50fVxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2c+YDtcbiAgICB9XG5cbiAgICBiZWF0c0dyb3VwICs9IFwiPC9nPlwiO1xuICAgIHJldHVybiBiZWF0c0dyb3VwO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0U1ZHQ29udGVudChzdmdTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gRXh0cmFjdCBjb250ZW50IGJldHdlZW4gPHN2Zz4gYW5kIDwvc3ZnPiB0YWdzXG4gICAgY29uc3QgbWF0Y2ggPSBzdmdTdHJpbmcubWF0Y2goLzxzdmdbXj5dKj4oW1xcc1xcU10qPyk8XFwvc3ZnPi9pKTtcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IHN2Z1N0cmluZztcbiAgfVxuXG4gIHByaXZhdGUgY29tYmluZVNWR0VsZW1lbnRzKGNvbnRhaW5lclNWRzogc3RyaW5nLCBiZWF0c0dyb3VwOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtjb250YWluZXJTVkd9XG4gICAgICA8IS0tIEJhY2tncm91bmQgLS0+XG4gICAgICA8cmVjdCB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgZmlsbD1cIiNmZmZmZmZcIiBzdHJva2U9XCIjZTBlMGUwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiLz5cbiAgICAgIFxuICAgICAgPCEtLSBCZWF0cyAtLT5cbiAgICAgICR7YmVhdHNHcm91cH1cbiAgICA8L3N2Zz5gO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiQUFvQk8sYUFBTSxrQ0FFYjtBQUFBLEVBQ21CLGNBQWM7QUFBQTtBQUFBLEVBQ2QsY0FBYztBQUFBO0FBQUEsRUFDZCxhQUFhO0FBQUE7QUFBQSxFQUNiLFVBQVU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSzNCLE1BQU0scUJBQ0osVUFDQSxZQUNpQjtBQUNqQixRQUFJO0FBQ0YsVUFBSSxTQUFTLFdBQVcsR0FBRztBQUN6QixjQUFNLElBQUksTUFBTSx1QkFBdUI7QUFBQSxNQUN6QztBQUVBLGNBQVEsSUFBSSw4QkFBOEIsU0FBUyxNQUFNLFFBQVE7QUFHakUsWUFBTSxTQUFTLEtBQUssb0JBQW9CLFNBQVMsUUFBUSxVQUFVO0FBR25FLFlBQU0sZUFBZSxLQUFLLG1CQUFtQixVQUFVO0FBR3ZELFlBQU0sYUFBYSxLQUFLLGlCQUFpQixVQUFVLE1BQU07QUFHekQsWUFBTSxXQUFXLEtBQUssbUJBQW1CLGNBQWMsVUFBVTtBQUVqRSxjQUFRO0FBQUEsUUFDTix5QkFBeUIsT0FBTyxJQUFJLElBQUksT0FBTyxPQUFPO0FBQUEsTUFDeEQ7QUFDQSxhQUFPO0FBQUEsSUFDVCxTQUFTLE9BQU87QUFDZCxjQUFRLE1BQU0sa0NBQWtDLEtBQUs7QUFDckQsWUFBTSxJ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
