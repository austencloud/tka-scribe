<!--
  PremiumCTA - Call to action with price and subscribe button
-->
<script lang="ts">
  interface Props {
    price: number;
    period: string;
    isLoading?: boolean;
    disabled?: boolean;
    onSubscribe: () => void;
  }

  let { price, period, isLoading = false, disabled = false, onSubscribe }: Props = $props();
</script>

<div class="cta">
  <div class="price-display">
    <span class="amount">${price}</span>
    <span class="period">/{period}</span>
  </div>
  <button class="subscribe-button" onclick={onSubscribe} disabled={isLoading || disabled}>
    {#if isLoading}
      <i class="fas fa-spinner fa-spin"></i>
      <span>Processing...</span>
    {:else}
      <i class="fas fa-unlock"></i>
      <span>Unlock Unlimited Creation</span>
    {/if}
  </button>
  <p class="note">Cancel anytime â€¢ No long-term commitment</p>
</div>

<style>
  .cta {
    text-align: center;
    padding: var(--spacing-xl, 32px) var(--spacing-lg, 24px);
    background: var(--gradient-primary, linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%));
    border-radius: 16px;
  }

  .price-display {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: var(--spacing-xs, 4px);
    margin-bottom: var(--spacing-lg, 24px);
  }

  .amount {
    font-size: clamp(48px, 8vw, 64px);
    font-weight: 700;
    color: white;
    line-height: 1;
  }

  .period {
    font-size: clamp(18px, 3vw, 24px);
    color: rgba(255, 255, 255, 0.8);
  }

  .subscribe-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-2xl, 48px);
    min-height: var(--min-touch-target, 48px);
    background: white;
    color: #6366f1;
    border: none;
    border-radius: 12px;
    font-size: var(--font-size-lg, 18px);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast, 150ms ease);
    margin-bottom: var(--spacing-md, 16px);
  }

  .subscribe-button:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }

  .subscribe-button:active:not(:disabled) {
    transform: scale(0.98);
  }

  .subscribe-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .note {
    font-size: var(--font-size-compact, 12px);
    color: rgba(255, 255, 255, 0.7);
    margin: 0;
  }
</style>
