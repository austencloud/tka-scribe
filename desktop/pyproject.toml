[tool.ruff]
# Update to py310 for better pyupgrade support
target-version = "py310"
line-length = 88

# Include and exclude patterns
include = ["*.py", "*.pyi"]
extend-exclude = [
    "build",
    "dist",
    ".venv",
    "venv",
    "env",
    "__pycache__",
    ".pytest_cache",
    ".mypy_cache",
    "node_modules",
    ".git",
]

[tool.ruff.lint]
# Enable these rule sets with W included for W293
select = [
    "E",  # pycodestyle errors (auto-fixable)
    "W",  # pycodestyle warnings (auto-fixable) - includes W293
    "F",  # pyflakes (auto-fixable)
    "I",  # isort (import sorting - auto-fixable)
    "UP", # pyupgrade (auto-fixable)
]

# Make all rules auto-fixable
fixable = ["ALL"]

# Optional: enable more aggressive pyupgrade fixes
# unsafe-fixes = true

# Only ignore rules that cause real problems in Qt/PyQt6 codebases
ignore = [
    "E501", # Line too long (handled by formatter)
    "F401", # Unused imports (let developers manage imports manually)
    "N802", # Function name should be lowercase (Qt uses camelCase)
    "N803", # Argument name should be lowercase (Qt uses camelCase)
    "N806", # Variable in function should be lowercase (Qt uses camelCase)
    "N812", # Lowercase imported as non-lowercase (PyQt6 modules)
    "N815", # mixedCase variable in class scope (Qt widgets)
    "N816", # mixedCase variable in global scope
]
[tool.ruff.format]
# Like Black, use double quotes for strings.
quote-style = "double"

# Like Black, indent with spaces, rather than tabs.
indent-style = "space"

# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = "auto"

[tool.ruff.lint.isort]
# Sort imports
combine-as-imports = true
force-wrap-aliases = true
split-on-trailing-comma = true

# Known first party modules (adjust as needed for your project)
known-first-party = ["desktop", "modern", "legacy", "data"]
